/*! For license information please see component---src-pages-news-video-uploader-js-a37424fad02156b85f33.js.LICENSE.txt */
(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[3251],{861:function(e,t,n){"use strict";n.d(t,{FT:function(){return s}});var a=n(7294),r=n(5893);const i=["as","disabled"];function s({tagName:e,disabled:t,href:n,target:a,rel:r,role:i,onClick:s,tabIndex:o=0,type:c}){e||(e=null!=n||null!=a||null!=r?"a":"button");const l={tagName:e};if("button"===e)return[{type:c||"button",disabled:t},l];const u=a=>{(t||"a"===e&&function(e){return!e||"#"===e.trim()}(n))&&a.preventDefault(),t?a.stopPropagation():null==s||s(a)};return"a"===e&&(n||(n="#"),t&&(n=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:t?void 0:o,href:n,target:"a"===e?a:void 0,"aria-disabled":t||void 0,rel:"a"===e?r:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},l]}const o=a.forwardRef(((e,t)=>{let{as:n,disabled:a}=e,o=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,i);const[c,{tagName:l}]=s(Object.assign({tagName:n,disabled:a},o));return(0,r.jsx)(l,Object.assign({},o,c,{ref:t}))}));o.displayName="Button",t.ZP=o},4184:function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},4405:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var a=n(7294),r=(n(6118),n(1019),n(4866));n(9319),n(6267),n(6953);const i={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function s(){r.Z.initializeApp(i,"app05");const e=r.Z.app("app05"),t=e,{0:n,1:s}=(0,a.useState)(null),{0:o,1:c}=(0,a.useState)();return(0,a.useEffect)((()=>{const t=e.auth().onAuthStateChanged((e=>{e?(s(e),c(!0)):(s(null),c(!1))}));return()=>t()}),[]),{apps:t,user:n,setUser:s,app05:e,loading:o,signInWithEmailAndPassword:function(t,n){return e.auth().signInWithEmailAndPassword(t,n)},signOut:function(){return s(""),e.auth().signOut()}}}},7477:function(e,t,n){"use strict";n.r(t);var a=n(7294),r=n(4866),i=(n(9319),n(3416)),s=n(5215),o=n(5212),c=n.n(o),l=n(4405),u=n(5005);const d={apiKey:"AIzaSyChFGTB5YEugUKho-YqcWVZtKJG3PIrtt0",authDomain:"thewall-10a4a.firebaseapp.com",databaseURL:"https://thewall-10a4a-default-rtdb.firebaseio.com",projectId:"thewall-10a4a",storageBucket:"thewall-10a4a.appspot.com",messagingSenderId:"221023885061",appId:"1:221023885061:web:bc550d03edd2fbf60e496c",measurementId:"G-7V80059NF7"};t.default=function(){r.Z.initializeApp(d,"app212121");const e=r.Z.app("app212121").database(),{user:t}=(0,l.a)(),{0:n,1:o}=(0,a.useState)(!1),{0:p,1:m}=(0,a.useState)(null),{0:f,1:v}=(0,a.useState)([]),{0:b,1:g}=(0,a.useState)(""),y=(0,a.useRef)(null),h=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const t=e.ref("comments");return t.on("value",(e=>{const t=e.val();if(t){const e=Object.keys(t).map((e=>({id:e,...t[e]})));v(e)}})),()=>t.off("value")}),[t,e]),(0,a.useEffect)((()=>{const e=(0,s.Z)(h.current,{},(()=>{}));return()=>{e&&e.dispose()}}),[]),a.createElement("div",{className:"container mt-5"},a.createElement("h1",{className:"mb-4"},"Video Recorder"),a.createElement("div",{className:"mb-4"},a.createElement("video",{ref:h,className:"video-js vjs-default-skin",style:{width:"100%",marginBottom:"10px"},controls:!0},a.createElement("source",{src:p,type:"video/webm"})),a.createElement("div",null,a.createElement(u.Z,{variant:"danger",className:"mr-2",onClick:async()=>{if(n)y.current.stopRecording((()=>{const e=y.current.getBlob(),t=URL.createObjectURL(e);m(t)})),o(!1);else{const e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),t=new(c())(e,{type:"video",mimeType:"video/webm"});y.current=t,t.startRecording();const n=new MediaStream;n.addTrack(e.getVideoTracks()[0]),n.addTrack(e.getAudioTracks()[0]),h.current.srcObject=n,o(!0)}}},n?"Stop Recording":"Start Recording"),p&&a.createElement(u.Z,{variant:"success",onClick:()=>{const n=(0,i.x0)(),a=null==t?void 0:t.uid;e.ref("videos").child(n).set({videoUrl:p,userId:a,likes:0,dislikes:0,comments:[]}),o(!1),m(null)}},"Publish Video"))),a.createElement("div",{className:"comments-section"},f.map((t=>a.createElement("div",{key:t.id,className:"comment"},a.createElement("p",null,t.text),a.createElement("div",{className:"comment-actions"},a.createElement(u.Z,{variant:"outline-primary",onClick:()=>(t=>{const n=f.map((e=>e.id===t?{...e,likes:e.likes+1}:e));v(n),e.ref("comments").child(t).update({likes:r.Z.database.ServerValue.increment(1)})})(t.id)},"Like (",t.likes,")"),a.createElement(u.Z,{variant:"outline-danger",onClick:()=>(t=>{const n=f.map((e=>e.id===t?{...e,dislikes:e.dislikes+1}:e));v(n),e.ref("comments").child(t).update({dislikes:r.Z.database.ServerValue.increment(1)})})(t.id)},"Dislike (",t.dislikes,")")),t.replies&&t.replies.length>0&&a.createElement("div",{className:"replies"},t.replies.map((e=>a.createElement("div",{key:e.id,className:"reply"},a.createElement("p",null,e.text))))),a.createElement("div",{className:"add-reply"},a.createElement("input",{type:"text",placeholder:"Add a reply...",value:newReply,onChange:e=>setNewReply(e.target.value)}),a.createElement(u.Z,{variant:"outline-primary",onClick:()=>handleAddReply(t.id,newReply)},"Add Reply")))))))}},5005:function(e,t,n){"use strict";var a=n(4184),r=n.n(a),i=n(7294),s=n(861),o=n(6792),c=n(5893);const l=i.forwardRef((({as:e,bsPrefix:t,variant:n="primary",size:a,active:i=!1,disabled:l=!1,className:u,...d},p)=>{const m=(0,o.vE)(t,"btn"),[f,{tagName:v}]=(0,s.FT)({tagName:e,disabled:l,...d}),b=v;return(0,c.jsx)(b,{...f,...d,ref:p,disabled:l,className:r()(u,m,i&&"active",n&&`${m}-${n}`,a&&`${m}-${a}`,d.href&&l&&"disabled")})}));l.displayName="Button",t.Z=l},6792:function(e,t,n){"use strict";n.d(t,{SC:function(){return d},pi:function(){return l},vE:function(){return c},zG:function(){return u}});var a=n(7294);n(5893);const r=["xxl","xl","lg","md","sm","xs"],i=a.createContext({prefixes:{},breakpoints:r,minBreakpoint:"xs"}),{Consumer:s,Provider:o}=i;function c(e,t){const{prefixes:n}=(0,a.useContext)(i);return e||n[t]||t}function l(){const{breakpoints:e}=(0,a.useContext)(i);return e}function u(){const{minBreakpoint:e}=(0,a.useContext)(i);return e}function d(){const{dir:e}=(0,a.useContext)(i);return"rtl"===e}},6118:function(e,t,n){"use strict";n(1435),n(4444),n(389),n(3333),n(8463)},3416:function(e,t,n){"use strict";n.d(t,{x0:function(){return a}});let a=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);
//# sourceMappingURL=component---src-pages-news-video-uploader-js-a37424fad02156b85f33.js.map