{"version":3,"file":"component---src-pages-news-video-uploader-js-96056144789c902a5d3d.js","mappings":"uIAyCA,UAxCsBA,KAClB,MAAM,EAACC,EAAW,EAACC,IAAiBC,EAAAA,EAAAA,WAAS,IACvC,EAACC,EAAO,EAACC,IAAaF,EAAAA,EAAAA,UAAS,MAkBrC,OACIG,EAAAA,cAAA,WACIA,EAAAA,cAAA,UAAI,kBACJA,EAAAA,cAAA,YACIA,EAAAA,cAAA,OAAKC,UAAU,kBACTN,EAIC,KAHCK,EAAAA,cAAA,UAAQE,QAtBIC,UAC5B,GAAI,kBAAmBC,OACnB,IACI,MAAMC,QAAmBC,UAAUC,aAAaC,aAAa,CACzDC,OAAO,EACPC,OAAO,IAEXd,GAAc,GACdG,EAAUM,EACd,CAAE,MAAOM,GACLC,MAAMD,EAAIE,QACd,MAEAD,MAAM,0DACV,EAQ0DE,KAAK,UAAS,kBAI3DnB,EACGK,EAAAA,cAAA,UAAQc,KAAK,UAAS,UAGvB,OAGT,C,sDC4Gd,UAhJsBC,KAClB,MAAMC,EAAW,cAEf,EAACrB,EAAW,EAACC,IAAiBC,EAAAA,EAAAA,WAAS,GACvCoB,GAAgBC,EAAAA,EAAAA,QAAO,MACvBC,GAAgBD,EAAAA,EAAAA,QAAO,OACvB,EAACE,EAAgB,EAACC,IAAsBxB,EAAAA,EAAAA,UAAS,aACjD,EAACC,EAAO,EAACC,IAAaF,EAAAA,EAAAA,UAAS,OAC/B,EAACyB,EAAY,EAACC,IAAkB1B,EAAAA,EAAAA,UAAS,KACzC,EAAC2B,EAAc,EAACC,IAAoB5B,EAAAA,EAAAA,UAAS,OAG7C,EAAC6B,EAAW,EAACC,IAAiB9B,EAAAA,EAAAA,UAAS,QAKvC+B,EAAsBzB,UAE1B,GADAsB,EAAiB,MACb,kBAAmBrB,OACrB,IACE,MAAMyB,EAAmB,CACvBpB,OAAO,EACPC,MAAO,CACLgB,WAAYA,IAGVI,EAAmB,CAAErB,OAAO,GAK5BsB,SAHoBzB,UAAUC,aAAaC,aAC/CsB,SAEwBxB,UAAUC,aAAaC,aAC/CqB,IAEFjC,GAAc,GAEd,MAAMoC,EAAiB,IAAIC,aAAWC,EAAAA,EAAAA,GACjCH,EAAYI,mBAGjBpC,EAAUiC,EACZ,CAAE,MAAOrB,GACPC,MAAMD,EAAIE,QACZ,MAEAD,MAAM,0DACR,GAIEwB,EAAAA,EAAAA,YAAU,KACFzC,GAAcwB,EAAckB,SAAWvC,IACvCqB,EAAckB,QAAQC,UAAYxC,EACtC,GACD,CAACH,EAAYG,IAuChB,OACIE,EAAAA,cAAA,WAEJA,EAAAA,cAAA,YACIA,EAAAA,cAAA,OAAKC,UAAU,kBACTN,EAIE,KAHJK,EAAAA,cAAA,UAAQE,QAAS0B,EAAqBd,KAAK,UAAS,gBAO/CnB,GAAcwB,EAC3BnB,EAAAA,cAAA,OAAKuC,MAAO,CAACC,SAAS,YAAevC,UAAU,gBACpB,cAApBmB,GAAoCpB,EAAAA,cAAA,QAAMuC,MAAO,CAACE,MAAM,QAAS,IAACzC,EAAAA,cAAA,UAAIA,EAAAA,cAAA,MAAIuC,MAAO,CAACE,MAAM,MAAOD,SAAS,WAAWE,OAAO,MAAOzC,UAAU,cAAcmB,KAIhKpB,EAAAA,cAAA,SAAQC,UAAU,cAAc0C,IAAKxB,EAAeyB,UAAQ,EAACC,aAAW,IAIvElD,GAAkC,aAApByB,EACPpB,EAAAA,cAAA,UAAQuC,MAAO,CAACG,OAAO,KAAMF,SAAS,WAAYM,OAAO,IAAKL,MAAM,MAAOM,aAAa,MAAMC,MAAM,SAASC,OAAO,SAAUC,WAAW,cAAcC,OAAO,kBAAkBC,WAAW,MAAMC,YAAY,OAAQnD,QAlD1MC,UACnBkB,EAAmB,aACnB,MAAMiC,EAAQ,IAAIC,cAAczD,EAAQ,CAAEkB,aAC1CC,EAAcoB,QAAUiB,EACxBrC,EAAcoB,QAAQmB,QACtB,IAAIC,EAAmB,GACvBxC,EAAcoB,QAAQqB,gBAAmBC,SACX,IAAfA,EAAMC,MACO,IAApBD,EAAMC,KAAKC,MACfJ,EAAiBK,KAAKH,EAAMC,KAAK,EAErCrC,EAAekC,EAAiB,EAuCsN3C,KAAK,UAChPd,EAAAA,cAAA,KAAGuC,MAAO,CAACa,WAAW,MAAMC,YAAY,MAAOL,MAAM,OAAQC,OAAO,OAAOc,QAAQ,MAAMb,WAAW,QAAQH,aAAa,QAAQ,MAEhI,KACiB,cAApB3B,EACDpB,EAAAA,cAAA,UAAQuC,MAAO,CAACG,OAAO,KAAMF,SAAS,WAAYM,OAAO,IAAKL,MAAM,MAAOM,aAAa,MAAMC,MAAM,OAAOC,OAAO,OAAQC,WAAW,cAAcC,OAAO,gBAAgBC,WAAW,MAAMC,YAAY,OAAQnD,QAzCrM8D,KAClBpE,GAAc,GACdyB,EAAmB,YACnBJ,EAAcoB,QAAQ4B,OACtBhD,EAAcoB,QAAQ6B,OAAS,KAC3B,MAAMC,EAAY,IAAIC,KAAK9C,EAAa,CAAER,KAAME,IAC1CqD,EAAWC,IAAIC,gBAAgBJ,GACrC1C,EAAiB4C,GACjB9C,EAAe,GAAG,CACrB,EAgC8OT,KAAK,UACxOd,EAAAA,cAAA,KAAGuC,MAAO,CAACa,WAAW,MAAMC,YAAY,MAAOL,MAAM,SAAUC,OAAO,SAASc,QAAQ,MAAMb,WAAW,QAAQH,aAAa,QAAQ,MAErI,KACM,aAApB3B,GAAmCpB,EAAAA,cAAA,UAAQuC,MAAO,CAACC,SAAS,WAAWE,OAAO,KAAM8B,IAAI,IAAKC,MAAM,KAAM3D,KAAK,SAASZ,QAtEpGC,UACbL,GACFA,EAAO4E,YAAYC,SAASC,GAAUA,EAAMX,SAI9CtC,EADqC,SAAfD,EAAwB,cAAgB,cAGxDE,GAAqB,GA8DiH,gBAE5I,MAEejC,GAAc6B,EACzBxB,EAAAA,cAAA,OAAKC,UAAU,gBACXD,EAAAA,cAAA,SAAOC,UAAU,kBAAkB4E,IAAKrD,EAAesD,UAAQ,EAAClC,UAAQ,IACxE5C,EAAAA,cAAA,KAAG+E,UAAQ,EAACC,KAAMxD,GAAe,uBAIjC,MAEN,C,gECjHN,UAzBsByD,KAClB,IAAI,EAACC,EAAa,EAACC,IAAmBtF,EAAAA,EAAAA,UAAS,SAS/C,OACIG,EAAAA,cAAA,OAAKC,UAAU,gBACXD,EAAAA,cAAA,UAAI,YACJA,EAAAA,cAAA,OAAKC,UAAU,eACXD,EAAAA,cAAA,UAAQE,SAZQY,EAYoB,QAXrC,KACHqE,EAAgBrE,EAAK,IAU6B,iBAKlDd,EAAAA,cAAA,WACsB,UAAjBkF,EAA2BlF,EAAAA,cAACe,EAAAA,QAAa,MAAMf,EAAAA,cAACN,EAAAA,QAAa,QAlB9CoB,KAoBlB,C","sources":["webpack://blabzio/./src/pages/news/AudioRecorder.js","webpack://blabzio/./src/pages/news/VideoRecorder.js","webpack://blabzio/./src/pages/news/VideoUploader.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nconst AudioRecorder = () => {\n    const [permission, setPermission] = useState(false);\n    const [stream, setStream] = useState(null);\n\n    const getMicrophonePermission = async () => {\n        if (\"MediaRecorder\" in window) {\n            try {\n                const streamData = await navigator.mediaDevices.getUserMedia({\n                    audio: true,\n                    video: false,\n                });\n                setPermission(true);\n                setStream(streamData);\n            } catch (err) {\n                alert(err.message);\n            }\n        } else {\n            alert(\"The MediaRecorder API is not supported in your browser.\");\n        }\n    };\n    return (\n        <div>\n            <h2>Audio Recorder</h2>\n            <main>\n                <div className=\"audio-controls\">\n                    {!permission ? (\n                        <button onClick={getMicrophonePermission} type=\"button\">\n                            Get Microphone\n                        </button>\n                    ): null}\n                    {permission ? (\n                        <button type=\"button\">\n                            Record\n                        </button>\n                    ): null}\n                </div>\n            </main>\n        </div>\n    );\n};\nexport default AudioRecorder;\n","import React, { useEffect, useState, useRef } from \"react\";\n\nconst VideoRecorder = () => {\n    const mimeType = \"video/webm\";\n    \nconst [permission, setPermission] = useState(false);\nconst mediaRecorder = useRef(null);\nconst liveVideoFeed = useRef(null);\nconst [recordingStatus, setRecordingStatus] = useState(\"inactive\");\nconst [stream, setStream] = useState(null);\nconst [videoChunks, setVideoChunks] = useState([]);\nconst [recordedVideo, setRecordedVideo] = useState(null);\n  \n\nconst [facingMode, setFacingMode] = useState(\"user\"); // \"user\" for front camera, \"environment\" for back camera\n\n  \n\n    \nconst getCameraPermission = async () => {\n  setRecordedVideo(null);\n  if (\"MediaRecorder\" in window) {\n    try {\n      const videoConstraints = {\n        audio: true,\n        video: {\n          facingMode: facingMode, // Use the current facingMode state here\n        },\n      };\n      const audioConstraints = { audio: true };\n      // create audio and video streams separately\n      const audioStream = await navigator.mediaDevices.getUserMedia(\n        audioConstraints\n      );\n      const videoStream = await navigator.mediaDevices.getUserMedia(\n        videoConstraints\n      );\n      setPermission(true);\n      // combine both audio and video streams\n      const combinedStream = new MediaStream([\n        ...videoStream.getVideoTracks()\n       /* ...audioStream.getAudioTracks(),*/\n      ]);\n      setStream(combinedStream);\n    } catch (err) {\n      alert(err.message);\n    }\n  } else {\n    alert(\"The MediaRecorder API is not supported in your browser.\");\n  }\n};\n\n\n    useEffect(() => {\n        if (permission && liveVideoFeed.current && stream) {\n            liveVideoFeed.current.srcObject = stream;\n        }\n    }, [permission, stream]);\n    \nconst switchCamera = async () => {\n    if (stream) {\n      stream.getTracks().forEach((track) => track.stop());\n    }\n\n    const newFacingMode = facingMode === \"user\" ? \"environment\" : \"user\";\n    setFacingMode(newFacingMode);\n\n    await getCameraPermission();\n  };\n\nconst startRecording = async () => {\n    setRecordingStatus(\"recording\");\n    const media = new MediaRecorder(stream, { mimeType });\n    mediaRecorder.current = media;\n    mediaRecorder.current.start();\n    let localVideoChunks = [];\n    mediaRecorder.current.ondataavailable = (event) => {\n        if (typeof event.data === \"undefined\") return;\n        if (event.data.size === 0) return;\n        localVideoChunks.push(event.data);\n    };\n    setVideoChunks(localVideoChunks);\n};\n\nconst stopRecording = () => {\n    setPermission(false);\n    setRecordingStatus(\"inactive\");\n    mediaRecorder.current.stop();\n    mediaRecorder.current.onstop = () => {\n        const videoBlob = new Blob(videoChunks, { type: mimeType });\n        const videoUrl = URL.createObjectURL(videoBlob);\n        setRecordedVideo(videoUrl);\n        setVideoChunks([]);\n    };\n};\n    \n    return (\n        <div>\n   \n    <main>\n        <div className=\"video-controls\">\n            {!permission ? (\n            <button onClick={getCameraPermission} type=\"button\">\n               open camera\n            </button>\n            ) : null}\n            \n        </div>\n\n                {permission && liveVideoFeed ? (\n    <div style={{position:'relative' }}  className=\"video-player\">\n        {  recordingStatus === 'recording' &&  <span style={{color:'red'}} > <ul><li style={{color:'red', position:'absolute',zIndex:'20'}} className='recordmode'>{recordingStatus}</li></ul></span>}\n\n    \n    \n    <video  className='live-player' ref={liveVideoFeed} autoPlay playsInline>\n    \n    \n    </video>\n    {permission && recordingStatus === \"inactive\" ? (\n            <button style={{zIndex:'20', position:'absolute', bottom:'0', color:'red' ,borderRadius:'50%',width:'4.5rem',height:'4.5rem', background:'transparent',border:'2px solid green',marginLeft:'20%',marginRight:'20%'}} onClick={startRecording} type=\"button\">\n               <i style={{marginLeft:'20%',marginRight:'20%', width:'4rem', height:'4rem',padding:'4px',background:'green',borderRadius:'50%'}}>s</i>\n            </button>\n            ) : null}\n            {recordingStatus === \"recording\" ? (\n            <button style={{zIndex:'20', position:'absolute', bottom:'0', color:'red' ,borderRadius:'50%',width:'4rem',height:'4rem', background:'transparent',border:'2px solid red',marginLeft:'20%',marginRight:'20%'}} onClick={stopRecording} type=\"button\">\n                <i style={{marginLeft:'20%',marginRight:'20%', width:'3.8rem', height:'3.8rem',padding:'4px',background:'green',borderRadius:'50%'}}>p</i>\n            </button>\n            ) : null}\n{ recordingStatus === \"inactive\"  && <button style={{position:'absolute',zIndex:'20', top:'0', right:'0'}} type='button' onClick={switchCamera}> switchcam </button> }\n    </div>\n) : null}\n                    \n                { !permission && recordedVideo ? (\n        <div className=\"video-player\">\n            <video className='recorded-player' src={recordedVideo} controls autoPlay></video>\n            <a download href={recordedVideo}>\n                Download Recording\n            </a>\n        </div>\n        ) : null}\n    </main>\n</div>\n\n    );\n};\nexport default VideoRecorder;\n","import React, { useState, useRef } from \"react\";\nimport VideoRecorder from \"./VideoRecorder\";\nimport AudioRecorder from \"./AudioRecorder\";\n\nconst VideoUploader = () => {\n    let [recordOption, setRecordOption] = useState(\"video\");\n    const toggleRecordOption = (type) => {\n        return () => {\n            setRecordOption(type);\n        };\n    };\n\n\n    \n    return (\n        <div className='vrecorderbod'>\n            <h1>The wall</h1>\n            <div className=\"button-flex\">\n                <button onClick={toggleRecordOption(\"video\")}>\n                  Record Video\n                </button>\n                \n            </div>\n            <div>\n                {recordOption === \"video\" ? <VideoRecorder /> : <AudioRecorder />}\n            </div>\n        </div>\n    );\n};\nexport default VideoUploader;\n"],"names":["AudioRecorder","permission","setPermission","useState","stream","setStream","React","className","onClick","async","window","streamData","navigator","mediaDevices","getUserMedia","audio","video","err","alert","message","type","VideoRecorder","mimeType","mediaRecorder","useRef","liveVideoFeed","recordingStatus","setRecordingStatus","videoChunks","setVideoChunks","recordedVideo","setRecordedVideo","facingMode","setFacingMode","getCameraPermission","videoConstraints","audioConstraints","videoStream","combinedStream","MediaStream","_toConsumableArray","getVideoTracks","useEffect","current","srcObject","style","position","color","zIndex","ref","autoPlay","playsInline","bottom","borderRadius","width","height","background","border","marginLeft","marginRight","media","MediaRecorder","start","localVideoChunks","ondataavailable","event","data","size","push","padding","stopRecording","stop","onstop","videoBlob","Blob","videoUrl","URL","createObjectURL","top","right","getTracks","forEach","track","src","controls","download","href","VideoUploader","recordOption","setRecordOption"],"sourceRoot":""}