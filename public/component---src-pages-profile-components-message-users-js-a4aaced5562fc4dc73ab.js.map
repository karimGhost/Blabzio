{"version":3,"file":"component---src-pages-profile-components-message-users-js-a4aaced5562fc4dc73ab.js","mappings":"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","sources":["webpack://blabzio/./src/pages/profileComponents/MessageUsers.js"],"sourcesContent":["import React, { useState, useEffect ,useRef} from 'react';\nimport firebase from 'firebase/compat/app';\n//import { useAuth } from '../../Accounts/useAuth';\n//import { nanoid } from 'nanoid';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport im from '../../images/proxy.jpeg';\nimport { Link } from \"gatsby\";\nimport 'firebase/compat/firestore'; // import from compat version\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { AutoComplete } from \"primereact/autocomplete\";\n//import ReactHtmlParser, { Comment } from \"html-react-parser\";\nimport { Image } from 'primereact/image';\n//import parse from 'html-react-parser';\n//import { Carousel } from 'primereact/carousel fas';  youtube\nimport { Card } from 'react-bootstrap';\nimport '../../styles/Messages.css';\nimport { debounce } from 'lodash';\n\nimport{\n\n  faTimes,\n  faSearch\n} from '@fortawesome/free-solid-svg-icons';\n\nconst firebaseConfig019 = {\n\n  apiKey: \"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y\",\n\n  authDomain: \"itsmynodezena.firebaseapp.com\",\n\n  databaseURL: \"https://itsmynodezena-default-rtdb.firebaseio.com\",\n\n  projectId: \"itsmynodezena\",\n\n  storageBucket: \"itsmynodezena.appspot.com\",\n\n  messagingSenderId: \"299392955521\",\n\n  appId: \"1:299392955521:web:ef5671ad2702d441304980\"\n\n};\n\n\n\n\n\n\n    \n      export default  function Users(props) {\n\n\n        const setCreatemesage = props.setCreatemesage;\n       const selectedUser = props.selectedUser;\n\n       const [users, setUsers] = useState([]);\n       const [uids, setuids] = useState(null);\n\n       const [selectedAcc, setSelectedAcc] = useState(null);\n       const [filteredUsers, setFilteredUsers] = useState(null);\n   \n\nconsole.log(\"this s the selected Acc\", selectedAcc)\nconsole.log(\"as you type logs data is\", users.id)\n\n       firebase.initializeApp(firebaseConfig019, 'app0999');\n       const app0999 = firebase.app('app0999');\n       //const {user} = useAuth(); typeof user.user === 'string' && \n\n       const debouncedHandleChange = debounce((event) => {\n        let _filteredUsers;\n        if (!users) return;\n        if (!event.query.trim().length) {\n          _filteredUsers = [...users];\n       \n        } else {\n          _filteredUsers = users.filter((useri) => {\n        \n\n            return (\n              useri &&\n              useri.useri &&\n                useri.useri.toLowerCase().startsWith(event.query.toLowerCase())\n            );\n          });\n        }\n        setFilteredUsers(_filteredUsers);\n      }, 100); \n      \n    \n      \n       const search = (event) => {\n        debouncedHandleChange(event);\n\n      };\n      \n    \n\n      function rest(){\n        setCreatemesage(false);\n        selectedAcc && props.setId(uids);\n        props.setShowTextArea(true);\n       \n        alert(uids)\n\n      }\n\n\n\n       const  itemTemplate = (users) => {\n          \n        return (\n         \n            <div className=\"flex align-items-center\" onClick={rest}>\n                <img\n                    alt={\"dP\"}\n                    src={users && users.profileImg }\n                    //className={`flag flag-${item.code.toLowerCase()} mr-2`} youtube \n                    style={{width: '28px'}}\n                />\n                <div style={{color: \"black\"}}>{ users && users.useri }</div>\n            </div>\n        );\n    };\n  \n    useEffect(() => {\n      if (typeof selectedAcc === 'object') {\n        return;\n      }\n      app0999\n        .database()\n        .ref('profile')\n        .orderByChild('username')\n        .equalTo(selectedAcc)\n        .once('value')\n        .then((snapshot) => {\n          if (snapshot.exists()) {\n            const userId = Object.keys(snapshot.val())[0];\n            const userData = snapshot.val()[userId];\n        const useri = {\n              id: userId,\n         useri: userData.username,\n              profileImg: userData.profileImg ? userData.profileImg : im,\n \n            };\n            setUsers([useri]);\n            setuids(useri.id)\n            console.log(\"if this shows why is it id\", useri.id)\n          } else {\n            setUsers([]);\n          }\n        });\n    }, [selectedAcc]);\n\n      \n\n   function setSearch(){\n\n    \n    if(!selectedAcc || selectedAcc.length < 1){\n      setCreatemesage(false)\n    }\n    \n\n    if (typeof selectedAcc === 'object') {\n      return;\n    }\n\n\n\n    app0999\n      .database()\n      .ref('profile')\n      .orderByChild('username')\n      .equalTo(selectedAcc)\n      .once('value')\n      .then((snapshot) => {\n        if (snapshot.exists()) {\n          const userId = Object.keys(snapshot.val())[0];\n          const userData = snapshot.val()[userId];\n      const useri = {\n            id: userId,\n       useri: userData.username,\n            profileImg: userData.profileImg ? userData.profileImg : im,\n\n          };\n          setUsers([useri]);\n          setuids(useri.id)\n          console.log(\"if this shows why is it id\", useri.id)\n        } else {\n          setUsers([]);\n        }\n      });\n\n\n   }\n\n        return(\n          <>\n  \n\n  \n         \n         \n<AutoComplete field=\"name\" value={selectedAcc} suggestions={filteredUsers} placeholder=\"Send message to...\" \n     className='borderradius mt-1'   style={{borderTopRightRadius:\"0\", borderBottomRightRadius: \"0\"}}       completeMethod={search}  onChange={(e) => setSelectedAcc(e.value)} itemTemplate={itemTemplate} />\n{\n                            <button style={{background:\"white\",  border: \"none\", fontSize: selectedAcc && selectedAcc.length > 0 ? \"1rem\" : \" 1.5rem\", marginLeft:\"-5px\", marginTop: \"-1px\",padding: \"10px\", borderTopLeftRadius:\"0\", borderBottomLeftRadius: \"0\", paddingTop: selectedAcc && selectedAcc.length > 0 && \"14px\", paddingBottom: selectedAcc && selectedAcc.length > 0 && \"14px\" }}\n                             onClick={setSearch} className=\"btn btn-danger close-new-message\">\n                            <FontAwesomeIcon  icon={selectedAcc && selectedAcc.length > 0 ?  faSearch : faTimes }\n                             style={{cursor:\"pointer\", color: selectedAcc && selectedAcc.length > 0 ? \"yellowgreen\" : \"red\" }} \n                             type=\"submit\"  />\n\n                            </button>\n}\n\n</>\n\n        )\n\n      }"],"names":["firebaseConfig019","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Users","props","setCreatemesage","users","setUsers","selectedUser","useState","uids","setuids","selectedAcc","setSelectedAcc","filteredUsers","setFilteredUsers","console","log","id","firebase","initializeApp","app0999","app","debouncedHandleChange","_debounce","event","_filteredUsers","query","trim","length","filter","useri","toLowerCase","startsWith","_toConsumableArray","rest","setId","setShowTextArea","alert","useEffect","database","ref","orderByChild","equalTo","once","then","snapshot","exists","userId","Object","keys","val","userData","username","profileImg","im","React","AutoComplete","field","value","suggestions","placeholder","className","style","borderTopRightRadius","borderBottomRightRadius","completeMethod","onChange","e","itemTemplate","onClick","alt","src","width","color","background","border","fontSize","marginLeft","marginTop","padding","borderTopLeftRadius","borderBottomLeftRadius","paddingTop","paddingBottom","FontAwesomeIcon","icon","faSearch","faTimes","cursor","type"],"sourceRoot":""}