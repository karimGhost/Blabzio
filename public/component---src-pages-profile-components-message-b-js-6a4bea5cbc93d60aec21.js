"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[3310],{6099:function(e,t,r){r.r(t),r.d(t,{default:function(){return a}});var s=r(7294),i=(r(4866),r(4405),r(6118),r(1019),r(3869),r(5043),r(4854)),n=(r(6953),r(982),r(5935));function a(e){const{0:t,1:r}=(0,s.useState)(!1),a=e.setFullSizeImage,l=e.fullSizeImage;function o(e){const t=e.target;"IMG"===t.tagName&&a(t.src)}(0,s.useEffect)((()=>{document.querySelectorAll(".resizedImages").forEach((e=>(e.addEventListener("click",o),()=>{e.removeEventListener("click",o)})))}),[]);const c={position:t&&"absolute",top:t&&"0",left:t&&"0",right:t&&"0",bottom:t&&"0",zIndex:t&&"20",backgroundColor:t&&"rgba(0,0,0,0.11)"},d=e.message;const m=function(){const e=(()=>{if(!d)return null;const e=d.split(" "),t=[];return e.forEach(((e,r)=>{if(e.startsWith("http")||e.startsWith("https")){const r=(e=>{const t=e.split(".").pop().toLowerCase();if("jpg"===t||"png"===t||"jpeg"===t||"gif"===t||"img"===t)return'<div class="card p-image-preview-container flex justify-content-center"><Image className="sized resizedImages" id="resizedImages"   src="'+e+'" zoomSrc="'+e+'" alt="Image" class="resizedImages" width="250"   /></div>';if("mp4"===t)return'<video src="'+e+'" controls>Your browser does not support the video tag.</video>';if("mp3"===t)return'<audio src="'+e+'" controls>Your browser does not support the audio tag.</audio>';{const t=e.match();return t?' <div height={300}> <div className="Fit" id="Fit" style="position: relative; padding-bottom: 56.25%; height: auto, width: 50%"><iframe src="https://www.youtube.com/embed/'+t[5]+'?controls=0&modestbranding=1" title="YouTube video player" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"  allowfullscreen></iframe></div></div>':e}})(e)||s.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e);t.push(r)}else e.startsWith("data:image/")?t.push('<div class="p-image-preview-container wid card flex justify-content-center"><Image id="resizedImages"  className="sized resizedImages" src="'+e+'" zoomSrc="'+e+'" alt="Image" class="p-image-preview resizedImages" width="250"  /></div>'):t.push(e+" ")})),t.join("")})(),t=e&&e.match(/<img [^>]*>/g)||[];let r=e;for(const s of t){const e=/width="(\d+)"/,t=/height="(\d+)"/,i=/src="([^"]+)"/,n=s.match(e),a=s.match(t),l=s.match(i),o=n?parseInt(n[1]):void 0,c=a?parseInt(a[1]):void 0,d=(o&&Math.floor(o/2),c&&Math.floor(c/2),'<Image src="'+(l?l[1]:"")+'" id="resizedImages" style="width:100%; max-width:300px" class="resizedImages p-image-preview p-image-mask" width="250" preview  />');r=r.replace(s,'<div class=" p-image-preview-container card flex justify-content-center imagewraper d-flex-column">'+d+"</div>")}return r}(),u="string"==typeof m?(0,n.ZP)(m,{decodeEntities:!1}):null;return s.createElement(s.Fragment,null,s.createElement("div",{className:"message info "},s.createElement(i.Link,{to:"/profileComponents/Profiles/?id="+e.personid},s.createElement("img",{alt:e.named&&e.named,className:"img-circle medium-image",src:e.pic&&e.pic})),s.createElement("div",{className:"message-body "},s.createElement("div",{className:"message-info"},s.createElement("h4",null," ",e.named&&e.named," ",e.id," "),s.createElement("h5",null,"  ",e.time)),s.createElement("hr",null),s.createElement("div",{className:"message-text d-flex"},s.createElement("div",{style:t?c:{overflow:"hidden",msTextOverflow:"ellipsis",whiteSpace:"pre-wrap",width:"fit-content",maxWidth:"100",wordBreak:"break-all",overflowWrap:"break-all",display:"flex",flexDirection:"column"},className:"w-100 message-text d-flex-column dflex"},u," ")),l&&s.createElement("div",{className:"full-size-image-overlay",onClick:()=>a(null)},s.createElement("img",{src:l,alt:"Full-size Image"}))),s.createElement("br",null)))}},3869:function(e,t,r){t.Z=r.p+"static/proxy-d399bc692ed8a689928018ed3b8a9403.jpeg"},6118:function(e,t,r){r(1435),r(4444),r(389),r(3333),r(8463)},5043:function(e,t,r){var s=r(7294),i=Object.defineProperty,n=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const a=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style.getPropertyValue(t),l=e=>a(e,"overflow")+a(e,"overflow-y")+a(e,"overflow-x");class o extends s.Component{constructor(e){super(e),n(this,"elementObserver"),n(this,"wrapper"),n(this,"lazyLoadHandler",(e=>{var t,r;const{onContentVisible:s}=this.props,[i]=e,{isIntersecting:n}=i;if(n){this.setState({visible:!0},(()=>{s&&s()}));const e=null==(t=this.wrapper)?void 0:t.current;e&&e instanceof HTMLElement&&(null==(r=this.elementObserver)||r.unobserve(e))}})),this.elementObserver=null,this.wrapper=s.createRef(),this.state={visible:!1}}componentDidMount(){var e;this.getEventNode();const{offset:t,threshold:r}=this.props,s={rootMargin:"number"==typeof t?`${t}px`:t||"0px",threshold:r||0};this.elementObserver=new IntersectionObserver(this.lazyLoadHandler,s);const i=null==(e=this.wrapper)?void 0:e.current;i instanceof HTMLElement&&this.elementObserver.observe(i)}shouldComponentUpdate(e,t){return t.visible}componentWillUnmount(){var e,t;const r=null==(e=this.wrapper)?void 0:e.current;r&&r instanceof HTMLElement&&(null==(t=this.elementObserver)||t.unobserve(r))}getEventNode(){var e;return(e=>{if(!(e instanceof HTMLElement))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(l(t)))return t;t=t.parentNode}return window})(null==(e=this.wrapper)?void 0:e.current)}render(){const{children:e,className:t,height:r,width:i,elementType:n}=this.props,{visible:a}=this.state,l={height:r,width:i},o=`LazyLoad${a?" is-visible":""}${t?` ${t}`:""}`;return(0,s.createElement)(n||"div",{className:o,style:l,ref:this.wrapper},a&&s.Children.only(e))}}n(o,"defaultProps",{elementType:"div",className:"",offset:0,threshold:0,width:null,onContentVisible:null,height:null})}}]);
//# sourceMappingURL=component---src-pages-profile-components-message-b-js-6a4bea5cbc93d60aec21.js.map