{"version":3,"file":"component---src-pages-news-video-uploader-js-7825d9f26fc065678566.js","mappings":"oNASA,MAAMA,EAAkB,CAEtBC,OAAQ,0CAERC,WAAY,gCAEZC,YAAa,oDAEbC,UAAW,gBAEXC,cAAe,4BAEfC,kBAAmB,eAEnBC,MAAO,6CAIF,SAASC,IAGdC,EAAAA,EAASC,cAAcV,EAAiB,SACxC,MAAMW,EAAQF,EAAAA,EAASG,IAAI,SACvBC,EAAOF,GAEL,EAACG,EAAK,EAACC,IAAWC,EAAAA,EAAAA,UAAS,OAC3B,EAACC,EAAQ,EAACC,IAAcF,EAAAA,EAAAA,YA0B9B,OAxBAG,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAcT,EAAMU,OAAOC,oBAAoBC,IAC/CA,GACFR,EAAQQ,GACRL,GAAW,KAEXH,EAAQ,MACRG,GAAW,GACb,IAEF,MAAO,IAAME,GAAa,GACzB,IAaI,CAAEP,OAAMC,OAAKC,UAASJ,QAAOM,UAASO,2BAV7C,SAAoCC,EAAOC,GACzC,OAAOf,EAAMU,OAAOG,2BAA2BC,EAAOC,EACxD,EAQyEC,QANzE,WAEE,OADDZ,EAAQ,IACAJ,EAAMU,OAAOM,SAEtB,EAGF,C,4CCrBA,UAxCsBC,KAClB,MAAM,EAACC,EAAW,EAACC,IAAiBd,EAAAA,EAAAA,WAAS,IACvC,EAACe,EAAO,EAACC,IAAahB,EAAAA,EAAAA,UAAS,MAkBrC,OACIiB,EAAAA,cAAA,WACIA,EAAAA,cAAA,UAAI,kBACJA,EAAAA,cAAA,YACIA,EAAAA,cAAA,OAAKC,UAAU,kBACTL,EAIC,KAHCI,EAAAA,cAAA,UAAQE,QAtBIC,UAC5B,GAAI,kBAAmBC,OACnB,IACI,MAAMC,QAAmBC,UAAUC,aAAaC,aAAa,CACzDC,OAAO,EACPC,OAAO,IAEXb,GAAc,GACdE,EAAUM,EACd,CAAE,MAAOM,GACLC,MAAMD,EAAIE,QACd,MAEAD,MAAM,0DACV,EAQ0DE,KAAK,UAAS,kBAI3DlB,EACGI,EAAAA,cAAA,UAAQc,KAAK,UAAS,UAGvB,OAGT,C,0EC6Hd,UA/JuBC,IACnB,MAAMC,EAAW,cACZ,KAACnC,IAAQN,EAAAA,EAAAA,MACZ,EAAC0C,EAAgB,EAACC,IAAsBnC,EAAAA,EAAAA,UAAS,aACjD,EAACoC,EAAY,EAACC,IAAkBrC,EAAAA,EAAAA,UAAS,IAEzCsC,EAAaN,EAAMM,WACnBC,EAAgBP,EAAMO,cAEtBxB,EAASiB,EAAMjB,OACdC,EAAagB,EAAMhB,UACpBwB,EAAgBR,EAAMQ,cACtB3B,EAAcmB,EAAMnB,WACnBC,EAAgBkB,EAAMlB,cACvB2B,EAAgBT,EAAMS,cACtBC,EAAmBV,EAAMU,iBAEzBC,EAAiBX,EAAMW,eAazBxC,EAAAA,EAAAA,YAAU,KACFU,GAAc2B,EAAcI,SAAW7B,IACvCyB,EAAcI,QAAQC,UAAY9B,EACtC,GACD,CAACF,EAAYE,IAyCGiB,EAAMc,eAvC7B,MAwCOC,EAAoBf,EAAMe,kBAyB7B,OACI9B,EAAAA,cAAA,WAEJA,EAAAA,cAAA,QAAMC,UAAac,EAAMgB,SAAU,YAC/B/B,EAAAA,cAAA,OAAKC,UAAU,mBASNL,GAAc2B,EAC3BvB,EAAAA,cAAA,OAAKgC,MAAO,CAACC,SAAS,YAAehC,UAAU,gBACpB,cAApBgB,GAAoCjB,EAAAA,cAAA,QAAMgC,MAAO,CAACE,MAAM,QAAS,IAAClC,EAAAA,cAAA,UAAIA,EAAAA,cAAA,MAAIgC,MAAO,CAACE,MAAM,MAAOD,SAAS,WAAWE,OAAO,MAAOlC,UAAU,cAAcgB,KAIhKjB,EAAAA,cAAA,SAAQC,UAAU,oBAAoBmC,IAAKb,EAAec,UAAQ,EAACC,aAAW,IAI7E1C,GAAkC,aAApBqB,EACRjB,EAAAA,cAAA,UAAQgC,MAAO,CAAEG,OAAQ,KAAMF,SAAU,WAAYM,OAAQ,OAAQC,KAAM,MAAOC,UAAW,mBAAoBC,WAAY,cAAeC,OAAQ,kBAAmBC,aAAc,MAAOC,MAAO,OAAQC,OAAQ,QAAU5C,QA5EjNC,UACnBe,EAAmB,aACnB,MAAM6B,EAAQ,IAAIC,cAAclD,EAAQ,CAAEkB,aAC1CU,EAAcC,QAAUoB,EACxBrB,EAAcC,QAAQsB,QACtB,IAAIC,EAAmB,GACvBxB,EAAcC,QAAQwB,gBAAmBC,SACX,IAAfA,EAAMC,MACO,IAApBD,EAAMC,KAAKC,MACfJ,EAAiBK,KAAKH,EAAMC,KAAK,EAErCjC,EAAe8B,EAAiB,EAiE6NpC,KAAK,UAC3Pd,EAAAA,cAAA,KAAGgC,MAAO,CAAEwB,QAAS,QAASX,MAAO,OAAQC,OAAQ,OAAQW,QAAS,MAAOf,WAAY,MAAOE,aAAc,MAAOc,OAAQ,aAAc,MAEtI,KACiB,cAApBzC,EACFjB,EAAAA,cAAA,UAAQgC,MAAO,CAAEG,OAAQ,KAAMF,SAAU,WAAYM,OAAQ,OAAQC,KAAM,MAAOC,UAAW,mBAAoBC,WAAY,cAAeC,OAAQ,gBAAiBC,aAAc,MAAOC,MAAO,OAAQC,OAAQ,QAAU5C,QAnEhNyD,KAClB9D,GAAc,GACdqB,EAAmB,YACnBQ,EAAcC,QAAQiC,OACtBlC,EAAcC,QAAQkC,OAAS,KAC3B,MAAMC,EAAY,IAAIC,KAAK5C,EAAa,CAAEL,KAAME,IAC1CgD,EAAWC,IAAIC,gBAAgBJ,GACrCrC,EAAiBuC,GACjB5C,EAAe,GAAG,CACrB,EA0DyPN,KAAK,UACxPd,EAAAA,cAAA,KAAGgC,MAAO,CAAEwB,QAAS,QAASX,MAAO,OAAQC,OAAQ,OAAQW,QAAS,MAAOf,WAAY,QAASE,aAAc,MAAOc,OAAQ,aAAc,MAGxI,KACM,aAApBzC,GAAmCjB,EAAAA,cAAA,UAAQgC,MAAO,CAACC,SAAS,WAAWE,OAAO,KAAMgC,IAAI,IAAKC,MAAM,KAAMtD,KAAK,SAASZ,QAnGpGC,UACbL,GACFA,EAAOuE,YAAYC,SAASC,GAAUA,EAAMX,SAI9CtC,EADqC,SAAfD,EAAwB,cAAgB,cAGxDmD,qBAAqB,GA2FiH,gBAE5I,MAEe5E,GAAc4B,EACzBxB,EAAAA,cAAA,OAAKC,UAAU,gBACXD,EAAAA,cAAA,SAAOC,UAAU,kBAAkBwE,IAAKjD,EAAekD,UAAQ,EAACrC,UAAQ,IAC3ErC,EAAAA,cAAA,OAAKgC,MAAO,CAACwB,QAAQ,OAAQmB,cAAc,MAAOC,eAAe,gBAAiB/B,MAAM,SAErF7C,EAAAA,cAAA,UAAQE,QA/DS2E,KACrB,MAAMC,EAAmB,CACpBjG,KAAMA,EAAKkG,IACXC,IAAIC,EAAAA,EAAAA,MACHzD,cAAeA,EACjB0D,MAAO,GACPC,OAAQ,GACRC,SAAU,IAEdtD,GAAkBuD,GAAS,GAAAC,QAAAC,EAAAA,EAAAA,GAAQF,GAAS,CAAEP,MAEtDrD,EAAiB,IACjBV,EAAMyE,mBACEzE,EAAM0E,YAAW,GAClB1F,EAAU,KAAK,GAiDyB,cAInCC,EAAAA,cAAA,UAAQE,QAASa,EAAMyD,qBAAqB,kBAK5C,MAEN,C,gEClIN,UAzBsBkB,KAClB,IAAI,EAACC,EAAa,EAACC,IAAmB7G,EAAAA,EAAAA,UAAS,SAS/C,OACIiB,EAAAA,cAAA,OAAKC,UAAU,gBACXD,EAAAA,cAAA,UAAI,YACJA,EAAAA,cAAA,OAAKC,UAAU,eACXD,EAAAA,cAAA,UAAQE,SAZQY,EAYoB,QAXrC,KACH8E,EAAgB9E,EAAK,IAU6B,iBAKlDd,EAAAA,cAAA,WACsB,UAAjB2F,EAA2B3F,EAAAA,cAAC6F,EAAAA,QAAa,MAAM7F,EAAAA,cAACL,EAAAA,QAAa,QAlB9CmB,KAoBlB,C,qHCzBP,IAkBImE,EAAS,CAAC3B,EAAO,KAC1BwC,OAAOC,gBAAgB,IAAIC,WAAW1C,IAAO2C,QAAO,CAACjB,EAAIkB,IAGrDlB,IAFFkB,GAAQ,IACG,GACHA,EAAKC,SAAS,IACXD,EAAO,IACTA,EAAO,IAAIC,SAAS,IAAIC,cACtBF,EAAO,GACV,IAEA,KAGP,G","sources":["webpack://blabzio/./src/Accounts/useAuth.js","webpack://blabzio/./src/pages/news/AudioRecorder.js","webpack://blabzio/./src/pages/news/VideoRecorder.js","webpack://blabzio/./src/pages/news/VideoUploader.js","webpack://blabzio/./node_modules/nanoid/index.browser.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport 'firebase/auth';\n\nimport 'firebase/database';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/database';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\n\nconst firebaseConfig2 = {\n\n  apiKey: \"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y\",\n\n  authDomain: \"itsmynodezena.firebaseapp.com\",\n\n  databaseURL: \"https://itsmynodezena-default-rtdb.firebaseio.com\",\n\n  projectId: \"itsmynodezena\",\n\n  storageBucket: \"itsmynodezena.appspot.com\",\n\n  messagingSenderId: \"299392955521\",\n\n  appId: \"1:299392955521:web:ef5671ad2702d441304980\"\n\n};\n\nexport function useAuth() {\n\n\n  firebase.initializeApp(firebaseConfig2, 'app05');\n  const app05 = firebase.app('app05');\nconst apps = app05;\n\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState();\n\n  useEffect(() => {\n    const unsubscribe = app05.auth().onAuthStateChanged((firebaseUser) => {\n      if (firebaseUser) {\n        setUser(firebaseUser);\n        setLoading(true);\n      } else {\n        setUser(null);\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n\n  function signInWithEmailAndPassword(email, password) {\n    return app05.auth().signInWithEmailAndPassword(email, password);\n  }\n\n  function signOut() {\n   setUser(\"\")\n    return app05.auth().signOut();\n    \n  }\n\n  return { apps, user,setUser, app05, loading, signInWithEmailAndPassword, signOut };\n}","import React, { useState, useRef } from \"react\";\nconst AudioRecorder = () => {\n    const [permission, setPermission] = useState(false);\n    const [stream, setStream] = useState(null);\n\n    const getMicrophonePermission = async () => {\n        if (\"MediaRecorder\" in window) {\n            try {\n                const streamData = await navigator.mediaDevices.getUserMedia({\n                    audio: true,\n                    video: false,\n                });\n                setPermission(true);\n                setStream(streamData);\n            } catch (err) {\n                alert(err.message);\n            }\n        } else {\n            alert(\"The MediaRecorder API is not supported in your browser.\");\n        }\n    };\n    return (\n        <div>\n            <h2>Audio Recorder</h2>\n            <main>\n                <div className=\"audio-controls\">\n                    {!permission ? (\n                        <button onClick={getMicrophonePermission} type=\"button\">\n                            Get Microphone\n                        </button>\n                    ): null}\n                    {permission ? (\n                        <button type=\"button\">\n                            Record\n                        </button>\n                    ): null}\n                </div>\n            </main>\n        </div>\n    );\n};\nexport default AudioRecorder;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { useAuth } from \"../../Accounts/useAuth\";\nimport { nanoid } from \"nanoid\";\n\nconst VideoRecorder = (props) => {\n    const mimeType = \"video/webm\";\n   const {user} = useAuth();\nconst [recordingStatus, setRecordingStatus] = useState(\"inactive\");\nconst [videoChunks, setVideoChunks] = useState([]);\n  \nconst facingMode = props.facingMode;\nconst setFacingMode = props.setFacingMode;\n\nconst stream = props.stream;\nconst  setStream  = props.setStream;\nconst liveVideoFeed = props.liveVideoFeed;\nconst permission  = props.permission;\nconst  setPermission = props.setPermission;\nconst recordedVideo = props.recordedVideo ;\nconst setRecordedVideo = props.setRecordedVideo;\n\nconst mediaRecorder =  props.mediaRecorder ;\n\n\n\n\n\n\n\n\n\n  \n\n\n    useEffect(() => {\n        if (permission && liveVideoFeed.current && stream) {\n            liveVideoFeed.current.srcObject = stream;\n        }\n    }, [permission, stream]);\n    \nconst switchCamera = async () => {\n    if (stream) {\n      stream.getTracks().forEach((track) => track.stop());\n    }\n\n    const newFacingMode = facingMode === \"user\" ? \"environment\" : \"user\";\n    setFacingMode(newFacingMode);\n\n    await getCameraPermission();\n  };\n\n\n\nconst startRecording = async () => {\n    setRecordingStatus(\"recording\");\n    const media = new MediaRecorder(stream, { mimeType });\n    mediaRecorder.current = media;\n    mediaRecorder.current.start();\n    let localVideoChunks = [];\n    mediaRecorder.current.ondataavailable = (event) => {\n        if (typeof event.data === \"undefined\") return;\n        if (event.data.size === 0) return;\n        localVideoChunks.push(event.data);\n    };\n    setVideoChunks(localVideoChunks);\n};\n\nconst stopRecording = () => {\n    setPermission(false);\n    setRecordingStatus(\"inactive\");\n    mediaRecorder.current.stop();\n    mediaRecorder.current.onstop = () => {\n        const videoBlob = new Blob(videoChunks, { type: mimeType });\n        const videoUrl = URL.createObjectURL(videoBlob);\n        setRecordedVideo(videoUrl);\n        setVideoChunks([]);\n    };\n};\n\nconst recordedVideos = props.recordedVideos;\nconst  setRecordedVideos = props.setRecordedVideos;\n\n\n\n\n    const addRecordedVideo = () => {\n        const newRecordedVideo = {\n             user: user.uid,\n             id: nanoid(),\n              recordedVideo: recordedVideo,\n            likes: \"\",\n            shares: \"\",\n            comments: []\n            };\n        setRecordedVideos(prevState => [...prevState, newRecordedVideo]);\n\nsetRecordedVideo([])\nprops.stopCameraStream();\n        props.setShowVid(false)\n       setStream(null)\n\n\n      };\n\n    \n    return (\n        <div>\n   \n    <main className= { props.showVid &&' boxmain'}>\n        <div className=\"video-controls\">\n            { /*!permission ? (\n            <button onClic={getCameraPermission} type=\"button\">\n               open camera\n            </button>\n            ) : null */}\n            \n        </div>\n\n                {permission && liveVideoFeed ? (\n    <div style={{position:'relative' }}  className=\"video-player\">\n        {  recordingStatus === 'recording' &&  <span style={{color:'red'}} > <ul><li style={{color:'red', position:'absolute',zIndex:'20'}} className='recordmode'>{recordingStatus}</li></ul></span>}\n\n    \n    \n    <video  className='live-player  m-50' ref={liveVideoFeed} autoPlay playsInline>\n    \n    \n    </video>\n    {permission && recordingStatus === \"inactive\" ? (\n           <button style={{ zIndex: '20', position: 'absolute', bottom: '40px', left: '50%', transform: 'translateX(-50%)', background: 'transparent', border: '2px solid green', borderRadius: '50%', width: '3rem', height: '3rem' }} onClick={startRecording} type=\"button\">\n           <i style={{ display: 'block', width: '2rem', height: '2rem', padding: '4px', background: 'red', borderRadius: '50%', margin: '1px auto' }}>s</i>\n       </button>\n            ) : null}\n            {recordingStatus === \"recording\" ? (\n           <button style={{ zIndex: '20', position: 'absolute', bottom: '40px', left: '50%', transform: 'translateX(-50%)', background: 'transparent', border: '2px solid red', borderRadius: '50%', width: '3rem', height: '3rem' }} onClick={stopRecording} type=\"button\">\n           <i style={{ display: 'block', width: '2rem', height: '2rem', padding: '4px', background: 'green', borderRadius: '50%', margin: '1px auto' }}>p</i>\n       </button>\n       \n            ) : null}\n{ recordingStatus === \"inactive\"  && <button style={{position:'absolute',zIndex:'20', top:'0', right:'0'}} type='button' onClick={switchCamera}> switchcam </button> }\n    </div>\n) : null}\n                    \n                { !permission && recordedVideo ? (\n        <div className=\"video-player\">\n            <video className='recorded-player' src={recordedVideo} controls autoPlay></video>\n         <div style={{display:\"flex\", flexDirection:\"row\", justifyContent:\"space-between\", width:\"100%\"}}>\n      \n            <button onClick={addRecordedVideo}>\n                post Video\n            </button>\n\n            <button onClick={props.getCameraPermission}>\n             retake video\n            </button>\n</div>\n        </div>\n        ) : null}\n    </main>\n</div>\n\n    );\n};\nexport default VideoRecorder;\n","import React, { useState, useRef } from \"react\";\nimport VideoRecorder from \"./VideoRecorder\";\nimport AudioRecorder from \"./AudioRecorder\";\n\nconst VideoUploader = () => {\n    let [recordOption, setRecordOption] = useState(\"video\");\n    const toggleRecordOption = (type) => {\n        return () => {\n            setRecordOption(type);\n        };\n    };\n\n\n    \n    return (\n        <div className='vrecorderbod'>\n            <h1>The wall</h1>\n            <div className=\"button-flex\">\n                <button onClick={toggleRecordOption(\"video\")}>\n                  Record Video\n                </button>\n                \n            </div>\n            <div>\n                {recordOption === \"video\" ? <VideoRecorder /> : <AudioRecorder />}\n            </div>\n        </div>\n    );\n};\nexport default VideoUploader;\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n"],"names":["firebaseConfig2","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","useAuth","firebase","initializeApp","app05","app","apps","user","setUser","useState","loading","setLoading","useEffect","unsubscribe","auth","onAuthStateChanged","firebaseUser","signInWithEmailAndPassword","email","password","signOut","AudioRecorder","permission","setPermission","stream","setStream","React","className","onClick","async","window","streamData","navigator","mediaDevices","getUserMedia","audio","video","err","alert","message","type","props","mimeType","recordingStatus","setRecordingStatus","videoChunks","setVideoChunks","facingMode","setFacingMode","liveVideoFeed","recordedVideo","setRecordedVideo","mediaRecorder","current","srcObject","recordedVideos","setRecordedVideos","showVid","style","position","color","zIndex","ref","autoPlay","playsInline","bottom","left","transform","background","border","borderRadius","width","height","media","MediaRecorder","start","localVideoChunks","ondataavailable","event","data","size","push","display","padding","margin","stopRecording","stop","onstop","videoBlob","Blob","videoUrl","URL","createObjectURL","top","right","getTracks","forEach","track","getCameraPermission","src","controls","flexDirection","justifyContent","addRecordedVideo","newRecordedVideo","uid","id","nanoid","likes","shares","comments","prevState","concat","_toConsumableArray","stopCameraStream","setShowVid","VideoUploader","recordOption","setRecordOption","VideoRecorder","crypto","getRandomValues","Uint8Array","reduce","byte","toString","toUpperCase"],"sourceRoot":""}