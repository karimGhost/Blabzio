"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[3251,1162,5691],{3379:function(e,t,r){r.r(t);var a=r(7294);t.default=()=>{const{0:e,1:t}=(0,a.useState)(!1),{0:r,1:n}=(0,a.useState)(null);return a.createElement("div",null,a.createElement("h2",null,"Audio Recorder"),a.createElement("main",null,a.createElement("div",{className:"audio-controls"},e?null:a.createElement("button",{onClick:async()=>{if("MediaRecorder"in window)try{const e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});t(!0),n(e)}catch(e){alert(e.message)}else alert("The MediaRecorder API is not supported in your browser.")},type:"button"},"Get Microphone"),e?a.createElement("button",{type:"button"},"Record"):null)))}},6109:function(e,t,r){r.r(t);var a=r(5785),n=r(7294);t.default=()=>{const e="video/webm",{0:t,1:r}=(0,n.useState)(!1),o=(0,n.useRef)(null),l=(0,n.useRef)(null),{0:i,1:c}=(0,n.useState)("inactive"),{0:d,1:s}=(0,n.useState)(null),{0:u,1:m}=(0,n.useState)([]),{0:b,1:p}=(0,n.useState)(null),{0:v,1:E}=(0,n.useState)("user"),g=async()=>{if(p(null),"MediaRecorder"in window)try{const e={audio:!1,video:{facingMode:v}},t={audio:!0},n=await navigator.mediaDevices.getUserMedia(t),o=await navigator.mediaDevices.getUserMedia(e);r(!0);const l=new MediaStream([].concat((0,a.Z)(o.getVideoTracks()),(0,a.Z)(n.getAudioTracks())));s(l)}catch(e){alert(e.message)}else alert("The MediaRecorder API is not supported in your browser.")};(0,n.useEffect)((()=>{t&&l.current&&d&&(l.current.srcObject=d)}),[t,d]);return n.createElement("div",null,n.createElement("h2",null,"Audio Recorder"),n.createElement("main",null,n.createElement("div",{className:"video-controls"},t?null:n.createElement("button",{onClick:g,type:"button"},"Get video")),t&&l?n.createElement("div",{style:{position:"relative"},className:"video-player"},"recording"===i&&n.createElement("span",{style:{color:"red"}}," ",n.createElement("ul",null,n.createElement("li",{style:{color:"red",position:"absolute",zIndex:"20"},className:"recordmode"},i))),n.createElement("video",{className:"live-player",ref:l,autoPlay:!0,playsInline:!0}),t&&"inactive"===i?n.createElement("button",{style:{zIndex:"20",position:"absolute",bottom:"0",color:"red",borderRadius:"50%",width:"1.5rem",height:"1.5rem",background:"transparent",border:"2px solid green"},onClick:async()=>{c("recording");const t=new MediaRecorder(d,{mimeType:e});o.current=t,o.current.start();let r=[];o.current.ondataavailable=e=>{void 0!==e.data&&0!==e.data.size&&r.push(e.data)},m(r)},type:"button"},n.createElement("i",{style:{width:"1.2rem",height:"1.2rem",padding:"4px",background:"green",borderRadius:"50%"}}," start ")):null,"recording"===i?n.createElement("button",{style:{zIndex:"20",position:"absolute",bottom:"0",color:"red",borderRadius:"50%",width:"1.5rem",height:"1.5rem",background:"transparent",border:"2px solid red"},onClick:()=>{r(!1),c("inactive"),o.current.stop(),o.current.onstop=()=>{const t=new Blob(u,{type:e}),r=URL.createObjectURL(t);p(r),m([])}},type:"button"},n.createElement("i",{style:{width:"1.2rem",height:"1.2rem",padding:"4px",background:"green",borderRadius:"50%"}},"    Stop Recording ")):null,"inactive"===i&&n.createElement("button",{style:{position:"absolute",zIndex:"20",top:"0",right:"0"},type:"button",onClick:async()=>{d&&d.getTracks().forEach((e=>e.stop()));E("user"===v?"environment":"user"),await g()}}," switchcam ")):null,!t&&b?n.createElement("div",{className:"video-player"},n.createElement("video",{className:"recorded-player",src:b,controls:!0,autoPlay:!0}),n.createElement("a",{download:!0,href:b},"Download Recording")):null))}},7477:function(e,t,r){r.r(t);var a=r(7294),n=r(6109),o=r(3379);t.default=()=>{let{0:e,1:t}=(0,a.useState)("video");const r=e=>()=>{t(e)};return a.createElement("div",{className:"vrecorderbod"},a.createElement("h1",null,"React Media Recorder"),a.createElement("div",{className:"button-flex"},a.createElement("button",{onClick:r("video")},"Record Video"),a.createElement("button",{onClick:r("audio")},"Record Audio")),a.createElement("div",null,"video"===e?a.createElement(n.default,null):a.createElement(o.default,null)))}}}]);
//# sourceMappingURL=component---src-pages-news-video-uploader-js-0262999f1b7f3e8aa21c.js.map