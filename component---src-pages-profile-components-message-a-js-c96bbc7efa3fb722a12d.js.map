{"version":3,"file":"component---src-pages-profile-components-message-a-js-c96bbc7efa3fb722a12d.js","mappings":"yQAqDe,SAASA,EAASC,GAK/B,MAAM,EAACC,EAAK,EAACC,IAAWC,EAAAA,EAAAA,WAAS,GAIvBC,EAAS,CACbC,SAAWJ,GAAQ,WACnBK,IAAKL,GAAQ,IACbM,KAAMN,GAAQ,IACdO,MAAQP,GAAO,IAEfQ,OAAQR,GAAQ,IACpBS,OAAQT,GAAQ,KAChBU,gBAAkBV,GAAQ,oBAIrBW,EAAaZ,EAAMa,QAiEpBC,EAAmBd,EAAMc,iBACTd,EAAMe,cAc5B,SAASC,EAAiBC,GACxB,MAAMC,EAAYD,EAAME,OACE,QAAtBD,EAAUE,SAEZN,EAAiBI,EAAUG,IAE/B,EAhBAC,EAAAA,EAAAA,YAAU,KACOC,SAASC,iBAAiB,kBAClCC,SAAQC,IACbA,EAAMC,iBAAiB,QAASX,GACzB,KACLU,EAAME,oBAAoB,QAASZ,EAAiB,IAEtD,GACD,IA8EH,MAAMa,EA5DN,WACE,MAAMC,EA9DeC,MAErB,IAAKnB,EACH,OAAO,KAGT,MAAMoB,EAAQpB,EAAWqB,MAAM,KACzBC,EAAW,GAmBjB,OAjBAF,EAAMP,SAAQ,CAACU,EAAMC,KACnB,GAAID,EAAKE,WAAW,SAAWF,EAAKE,WAAW,SAAU,CACvD,MAAMC,EAtCgBC,KAC1B,MAAMC,EAAgBD,EAAIN,MAAM,KAAKQ,MAAMC,cAE3C,GAAsB,QAAlBF,GAA6C,QAAlBA,GAA6C,SAAlBA,GAA8C,QAAlBA,GAA8C,QAAlBA,EAEhH,MAAM,+IAAgJD,EAAG,cAAcA,EAAG,gFACrK,GAAsB,QAAlBC,EAET,MAAM,eAAgBD,EAAG,kEACpB,GAAsB,QAAlBC,EAET,MAAM,eAAgBD,EAAG,kEACpB,CAEL,MAAMI,EAAe,8FACfC,EAAQL,EAAIK,MAAMD,GACxB,OAAIC,EAGI,4JADUA,EAAM,GACoJ,sQAGnKL,CAEX,GAcoBM,CAAmBV,IACjCW,EAAAA,cAAA,KAAGC,KAAMZ,EAAMhB,OAAO,SAAS6B,IAAI,uBAChCb,GAGLD,EAASe,KAAMX,EACjB,MAAWH,EAAKE,WAAW,eAEzBH,EAASe,KAAK,gIAAgId,EAAI,cAAcA,EAAI,qFAEpKD,EAASe,KAAKd,EAAO,IACvB,IAIKD,EAASgB,KAAK,GAAG,EAoCLnB,GAEboB,EAAYrB,GAAaA,EAAWc,MAD5B,iBACiD,GAC/D,IAAIQ,EAAqBtB,EACzB,IAAK,MAAMc,KAASO,EAAS,CAC3B,MAAME,EAAa,gBACbC,EAAc,iBACdC,EAAW,gBAEXC,EAAaZ,EAAMA,MAAMS,GACzBI,EAAcb,EAAMA,MAAMU,GAC1BI,EAAWd,EAAMA,MAAMW,GAEvBI,EAAQH,EAAaI,SAASJ,EAAW,SAAMK,EAC/CC,EAASL,EAAcG,SAASH,EAAY,SAAMI,EAMlDE,GALWJ,GAAQK,KAAKC,MAAMN,EAAQ,GAC1BG,GAASE,KAAKC,MAAMH,EAAS,GAInC,gBADAJ,EAAWA,EAAS,GAAK,IACJ,uIAEjCN,EAAqBA,EAAmBc,QACtCtB,EAAM,sGACgGmB,EAAM,SAEhH,CACA,OAAOX,CACT,CA+BoBe,GAChBC,EAAoC,iBAAhBvC,GAA2BwC,EAAAA,EAAAA,IAAgBxC,EAAa,CAAEyC,gBAAgB,IAAW,KAMzG,OACExB,EAAAA,cAAAA,EAAAA,SAAA,KAENA,EAAAA,cAAA,OAAKyB,UAAU,sBACfzB,EAAAA,cAAC0B,EAAAA,KAAI,CAACC,GAAE,+BACQ3B,EAAAA,cAAA,OAAK4B,IAAI,UAAUZ,OAAO,KAAKH,MAAM,KAAMY,UAAU,2BAA2BlD,IAAKrB,EAAM2E,MAAQ3E,EAAM2E,MAAQC,EAAAA,KAGrG9B,EAAAA,cAAA,OAAKyB,UAAU,gBACXzB,EAAAA,cAAA,OAAKyB,UAAU,sBACXzB,EAAAA,cAAA,OAAKyB,UAAU,gBACXzB,EAAAA,cAAA,UAAI,IAAE9C,EAAM6E,OAAO,MAExD/B,EAAAA,cAAA,UAAI,KAAG9C,EAAM8E,SAAW9E,EAAM8E,QAAU,GAAOhC,EAAAA,cAACiC,EAAAA,EAAe,CAACC,MAAO,CAACC,YAAY,OAASC,KAAMC,EAAAA,MAAkB,IAAEnF,EAAMoF,OAE5FtC,EAAAA,cAAA,WACAA,EAAAA,cAAA,OAAKyB,UAAU,uBACfzB,EAAAA,cAAA,OAECkC,MAAQ/E,EAAQG,EAAS,CAExBiF,eAAgB,WAChBC,WAAY,WACZ3B,MAAO,cACP4B,SAAU,MACVC,UAAW,YACXC,aAAc,YACdC,QAAU,OACVC,cAAe,UAEjBpB,UAAU,0CAK/CH,EAAW,QAQkBtB,EAAAA,cAAA,YAMxB,C,uBC9RN,IAAe,IAA0B,oD,qCCArC8C,EAAIC,OAAOC,eAEXC,EAAI,CAACC,EAAGC,EAAGC,KADP,EAACF,EAAGC,EAAGC,KAAMD,KAAKD,EAAIJ,EAAEI,EAAGC,EAAG,CAAEE,YAAY,EAAIC,cAAc,EAAIC,UAAU,EAAIC,MAAOJ,IAAOF,EAAEC,GAAKC,CAAC,EACxFK,CAAEP,EAAe,iBAALC,EAAgBA,EAAI,GAAKA,EAAGC,GAAIA,GAElE,MAAMM,EAAI,CAACR,EAAGC,WAAaQ,iBAAmB,IAAMA,iBAAiBT,EAAG,MAAMU,iBAAiBT,GAAKD,EAAEhB,MAAM0B,iBAAiBT,GAAIU,EAAKX,GAAMQ,EAAER,EAAG,YAAcQ,EAAER,EAAG,cAAgBQ,EAAER,EAAG,cAWzL,MAAMY,UAAU,YACd,WAAAC,CAAYX,GACVY,MAAMZ,GACNH,EAAEgB,KAAM,mBACRhB,EAAEgB,KAAM,WACRhB,EAAEgB,KAAM,mBAAoBb,IAC1B,IAAIc,EAAGC,EACP,MACEC,iBAAkBC,GAChBJ,KAAK/G,OAAQoH,GAAKlB,GACpBmB,eAAgBC,GACdF,EACJ,GAAIE,EAAG,CACLP,KAAKQ,SAAS,CACZC,SAAS,IACR,KACDL,GAAKA,GAAG,IAEV,MAAMM,EAA0B,OAArBT,EAAID,KAAKW,cAAmB,EAASV,EAAEW,QAClDF,GAAKA,aAAaG,cAA8C,OAA7BX,EAAIF,KAAKc,kBAA4BZ,EAAEa,UAAUL,GACtF,KAEFV,KAAKc,gBAAkB,KAAMd,KAAKW,QAAU,cAAeX,KAAKgB,MAAQ,CACtEP,SAAS,EAEb,CACA,iBAAAQ,GACE,IAAIhB,EACJD,KAAKkB,eACL,MACEC,OAAQhC,EACRiC,UAAWhB,GACTJ,KAAK/G,MAAOoH,EAAI,CAClBgB,WAAwB,iBAALlC,EAAgB,GAAGA,MAAQA,GAAK,MACnDiC,UAAWhB,GAAK,GAElBJ,KAAKc,gBAAkB,IAAIQ,qBAAqBtB,KAAKuB,gBAAiBlB,GACtE,MAAME,EAA0B,OAArBN,EAAID,KAAKW,cAAmB,EAASV,EAAEW,QAClDL,aAAaM,aAAeb,KAAKc,gBAAgBU,QAAQjB,EAC3D,CACA,qBAAAkB,CAAsBtC,EAAGiB,GACvB,OAAOA,EAAEK,OACX,CACA,oBAAAiB,GACE,IAAItB,EAAGC,EACP,MAAMlB,EAA0B,OAArBiB,EAAIJ,KAAKW,cAAmB,EAASP,EAAEQ,QAClDzB,GAAKA,aAAa0B,cAA8C,OAA7BR,EAAIL,KAAKc,kBAA4BT,EAAEU,UAAU5B,GACtF,CACA,YAAA+B,GACE,IAAI/B,EACJ,MA7DwM,CAACF,IAC3M,KAAMA,aAAa4B,aACjB,OAAOc,OACT,IAAIzC,EAAID,EACR,KAAOC,GAAOA,IAAM1E,SAASoH,MAAQ1C,IAAM1E,SAASqH,iBAAoB3C,EAAE4C,YAAe,CACvF,GAAI,gBAAgBC,KAAKnC,EAAEV,IACzB,OAAOA,EACTA,EAAIA,EAAE4C,UACR,CACA,OAAOH,MAAM,EAoDJK,CAAwB,OAArB7C,EAAIa,KAAKW,cAAmB,EAASxB,EAAEyB,QACnD,CACA,MAAAqB,GACE,MACEC,SAAU/C,EACV3B,UAAW4C,EACXrD,OAAQsD,EACRzD,MAAO2D,EACP4B,YAAalC,GACXD,KAAK/G,OACPwH,QAASP,GACPF,KAAKgB,MAAON,EAAI,CAClB3D,OAAQsD,EACRzD,MAAO2D,GACN6B,EAAI,WAAWlC,EAAI,cAAgB,KAAKE,EAAI,IAAIA,IAAM,KACzD,OAAO,mBAAEH,GAAK,MAAO,CACnBzC,UAAW4E,EACXnE,MAAOyC,EACP2B,IAAKrC,KAAKW,SACTT,GAAK,WAAEoC,KAAKnD,GACjB,EAEFH,EAAEa,EAAG,eAAgB,CACnBsC,YAAa,MACb3E,UAAW,GACX2D,OAAQ,EACRC,UAAW,EACXxE,MAAO,KACPuD,iBAAkB,KAClBpD,OAAQ,M","sources":["webpack://blabzio/./src/pages/profileComponents/MessageA.js","webpack://blabzio/./src/images/proxy.jpeg","webpack://blabzio/./node_modules/react-lazy-load/dist/LazyLoad.js"],"sourcesContent":["import React, { useState, useEffect ,useRef} from 'react';\nimport firebase from 'firebase/compat/app';\nimport { useAuth } from '../../Accounts/useAuth';\nimport { nanoid } from 'nanoid';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport { Skeleton } from 'primereact/skeleton';\nimport im from '../../images/proxy.jpeg';\nimport LazyLoad from 'react-lazy-load';\nimport { Link } from \"gatsby\";\nimport 'firebase/compat/firestore'; // import from compat version\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport ReactHtmlParser, { Comment } from \"html-react-parser\";\nimport { Image } from 'primereact/image';\n//import parse from 'html-react-parser';\nimport { Carousel } from 'primereact/carousel';\nimport { Card } from 'react-bootstrap';\nimport '../../styles/Messages.css';\nimport{\n  faAnchorLock,\n  faBan,\n  faCalendarDay,\n  faCalendarWeek,\n  faTimes,\n  faClock, faClockFour, faClockRotateLeft, faEllipsis, faFlag, faPaperclip, faTrash, faUserClock, faVolumeMute, faSearch, faVolumeHigh\n} from '@fortawesome/free-solid-svg-icons';\nimport { FaUserClock, FaVolumeUp } from 'react-icons/fa';\n\n\nconst firebaseConfig019 = {\n\n  apiKey: \"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y\",\n\n  authDomain: \"itsmynodezena.firebaseapp.com\",\n\n  databaseURL: \"https://itsmynodezena-default-rtdb.firebaseio.com\",\n\n  projectId: \"itsmynodezena\",\n\n  storageBucket: \"itsmynodezena.appspot.com\",\n\n  messagingSenderId: \"299392955521\",\n\n  appId: \"1:299392955521:web:ef5671ad2702d441304980\"\n\n};\n\n\n\n\n\n\nexport default function MessageA(props) {\n\n  //fas const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(m\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|embed\\/|v\\/)?([\\w-]{11})(\\S+)?$/;\n  \n  \n  const [zoom, setzoom] = useState(false)\n  \n  \n  \n      const ifZomed ={\n        position : zoom && \"absolute\",\n        top: zoom && \"0\",\n        left: zoom && \"0\",\n        right:  zoom &&\"0\",\n  \n        bottom: zoom && \"0\",\n    zIndex: zoom && \"20\",\n    backgroundColor:  zoom && \"rgba(0,0,0,0.11)\"\n      }\n  \n     // const handleImageOrVide = props.handleImageOrVideo;\n  const  newMessage = props.message;\n  \n  \n  \n  \n  \n  \n  \n  const handleImageOrVideo = (url) => {\n    const fileExtension = url.split('.').pop().toLowerCase();\n  \n    if (fileExtension === 'jpg' || fileExtension === 'png' || fileExtension === 'jpeg' || fileExtension === 'gif'  || fileExtension === 'img') {\n      // If the URL is pointing to an image\n      return `<div class=\"p-image-preview-container card flex justify-content-center\"><Image style=\"width: 60px\" className=\"sized p-image-preview\"   src=\"${url}\" zoomSrc=\"${url}\" alt=\"Image\" id=\"resizedImages\" class=\"resizedImages\" width=\"250\"   /></div>`;\n    } else if (fileExtension === 'mp4') {\n      // If the URL is pointing to a video\n      return `<video src=\"${url}\" controls>Your browser does not support the video tag.</video>`;\n    } else if (fileExtension === 'mp3') {\n      // If the URL is pointing to an audio file\n      return `<audio src=\"${url}\" controls>Your browser does not support the audio tag.</audio>`;\n    } else {\n      // If the URL is not pointing to an image, video, or audio file, check if it's a YouTube link\n      const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|embed\\/|v\\/)?([\\w-]{11})(\\S+)?$/;\n      const match = url.match(youtubeRegex);\n      if (match) {\n        // If the URL is a YouTube link, extract the video id  {/*<iframe src=\"https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1\" title=\"YouTube video player\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>*/}\n        const videoId = match[5];\n        return `<div className=\"Fit\" id=\"Fit\" style=\"position: relative; padding-bottom: 56.25%; height: 300px, width: 300px\"><iframe src=\"https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1\" title=\"YouTube video player\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>`;\n      } else {\n        // If the URL is not pointing to an image, video, or YouTube link, return the URL  \n        return url;\n      }\n    }\n  };\n  \n  const generateMarkup = () => {\n\n    if (!newMessage) {\n      return null; // Or any default value or error handling you want\n    }\n\n    const words = newMessage.split(' ');\n    const elements = [];\n  \n    words.forEach((word, index) => {\n      if (word.startsWith('http') || word.startsWith('https')) {\n        const element = handleImageOrVideo(word) || (\n          <a href={word} target=\"_blank\" rel=\"noopener noreferrer\">\n            {word}\n          </a>\n        );\n        elements.push( element);\n      } else if (word.startsWith(\"data:image/\")) {\n        // If the word is a base64-encoded image data URL, create an <img> tag\n        elements.push(`<div class=\"p-image-preview-container wid card flex justify-content-center\"><Image className=\"sized\" id=\"resizedImages\" src=\"${word}\" zoomSrc=\"${word}\" alt=\"Image\" class=\"resizedImages p-image-preview\" preview width=\"250\"  /></div>`);\n      } else {\n        elements.push(word + ' ');\n      }\n    });\n    \n  \n    return elements.join('');\n  };\n  \n  \n  const setFullSizeImage = props.setFullSizeImage;\n  const fullSizeImage = props.fullSizeImage;\n  \n  \n  \n  useEffect(() => {\n    const images = document.querySelectorAll(\".resizedImages\");\n    images.forEach(image => {\n      image.addEventListener(\"click\", handleImageClick);\n      return () => {\n        image.removeEventListener(\"click\", handleImageClick);\n      };\n    });\n  }, []);\n  \n  function handleImageClick(event) {\n    const clickedEl = event.target;\n    if (clickedEl.tagName === \"IMG\") {\n      // Do something with the clicked image\n      setFullSizeImage(clickedEl.src)\n  }\n  }\n  \n  function showPreview(src){\n  alert(\"bob\")\n    setFullSizeImage(src)\n  }\n  \n  \n  \n  \n  function resizeImage() {\n    const htmlString = generateMarkup();\n    const regex = /<img [^>]*>/g;\n    const matches =   htmlString ? htmlString.match(regex) || [] : [];\n    let modifiedHtmlString = htmlString;\n    for (const match of matches) {\n      const widthRegex = /width=\"(\\d+)\"/;\n      const heightRegex = /height=\"(\\d+)\"/;\n      const srcRegex = /src=\"([^\"]+)\"/; // add regex to extract src attribute\n  \n      const widthMatch = match.match(widthRegex);\n      const heightMatch = match.match(heightRegex);\n      const srcMatch = match.match(srcRegex); // match src attribute\n  \n      const width = widthMatch ? parseInt(widthMatch[1]) : undefined;\n      const height = heightMatch ? parseInt(heightMatch[1]) : undefined;\n      const newWidth = width ? Math.floor(width / 2) : undefined;\n      const newHeight = height ? Math.floor(height / 2) : undefined;\n      const widthAttr = newWidth ? ` width=\"${newWidth}\"` : \"\";\n      const heightAttr = newHeight ? ` height=\"${newHeight}\"` : \"\";\n      const src = srcMatch ? srcMatch[1] : ''; // extract the src value from the match\n      const newTag = `<Image src=\"${src}\" id=\"resizedImages\" style=\"width:100%; max-width:300px\" class=\"resizedImages p-image-preview p-image-mask\" width=\"250\" preview  />`;\n  \n      modifiedHtmlString = modifiedHtmlString.replace( \n        match,\n        `<div class=\" p-image-preview-container card flex justify-content-center imagewraper d-flex-column\">${newTag}</div>`\n      );\n    }\n    return modifiedHtmlString;\n  }\n  \n  /*\n  \n  \n  function resizeImage() {\n    const htmlString = generateMarkup();\n  const preview = true;\n    const regex = /<img [^>]*>/g;\n    const matches = htmlString.match(regex) || [];\n    let modifiedHtmlString = htmlString; // initialize modifiedHtmlString with original htmlString\n    for (const match of matches) {\n      const widthRegex = /width=\"(\\d+)\"/;\n      const heightRegex = /height=\"(\\d+)\"/;\n  \n      const widthMatch = match.match(widthRegex);\n      const heightMatch = match.match(heightRegex);\n      const width = widthMatch ? parseInt(widthMatch[1]) : undefined;\n      const height = heightMatch ? parseInt(heightMatch[1]) : undefined;\n      const newWidth = width ? Math.floor(width / 2) : undefined;\n      const newHeight = height ? Math.floor(height / 2) : undefined;\n      const widthAttr = newWidth ? ` width=\"${newWidth}\"` : \"\";\n      const heightAttr = newHeight ? ` height=\"${newHeight}\"` : \"\";\n      const newTag = match.replace(/<img/, '<Image').replace(/\\/?>/, `${widthAttr}${heightAttr} style=\"width: 60px\" id=\"resizedImages\" class=\"p-image-preview p-image-preview-indicator p-image-preview-icon p-image-mask\"   width=\"250\"   />`);\n   \n      modifiedHtmlString = modifiedHtmlString.replace(match, `<div  class=\"p-image  p-image-preview-container card flex justify-content-center imagewraper d-flex-column card flex justify-content-center imagewraper d-flex-column\">${newTag} </div>`);\n    }  \n    return modifiedHtmlString; // return modified htmlString\n  }\n    \n  */\n  const resizedHtml = resizeImage();\nconst parsedHtml = typeof resizedHtml === 'string' ? ReactHtmlParser(resizedHtml, { decodeEntities: false }) : null;\n\n// Render the parsed HTML\n\n\n  \n      return (\n        <>\n  \n  <div className=\"message my-message\">\n  <Link to={`profileComponents/Myprofile`}> \n                  <img alt=\"Your Dp\" height=\"50\" width=\"50\"  className=\" img-circle medium-image\" src={props.mypic ? props.mypic : im}/>\n  </Link>\n  \n                              <div className=\"message-body\">\n                                  <div className=\"message-body-inner\">\n                                      <div className=\"message-info\">\n                                          <h4> {props.myuser}  </h4>\n  \n     <h5>  {props.hasRead && props.hasRead > 0 &&  (<FontAwesomeIcon style={{marginRight:\"5px\"}}  icon={faClockFour} />) } {props.time}</h5>\n                                      </div>\n                                      <hr/>\n                                      <div className=\"message-text d-flex\">\n                                      <div \n                                       \n                                       style={ zoom ?  ifZomed :{ \n                                       // overflow: \"hidden\", \n                                        msTextOverflow: \"ellipsis\", \n                                        whiteSpace: \"pre-wrap\", \n                                        width: \"fit-content\",\n                                        maxWidth: \"100\", \n                                        wordBreak: \"break-all\", \n                                        overflowWrap: \"break-all\",\n                                        display:  \"flex\",\n                                        flexDirection: \"column\"\n                                      }  } \n                                      className=\"w-100 message-text d-flex-column dflex\"\n                                    \n                                    >\n\n\n{parsedHtml} </div>\n  {/*ReactHtmlParser(generateMarkup(), { decodeEntities: false, })*/}\n  \n       \n  \n                                      </div>\n                                  </div>\n                              </div>\n                              <br/>\n                          </div>\n  \n  \n        </>\n      )\n      }\n  ","export default __webpack_public_path__ + \"static/proxy-d399bc692ed8a689928018ed3b8a9403.jpeg\";","var h = Object.defineProperty;\nvar u = (n, t, e) => t in n ? h(n, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : n[t] = e;\nvar c = (n, t, e) => (u(n, typeof t != \"symbol\" ? t + \"\" : t, e), e);\nimport f, { Component as m, createElement as v, Children as b } from \"react\";\nconst p = (n, t) => typeof getComputedStyle < \"u\" ? getComputedStyle(n, null).getPropertyValue(t) : n.style.getPropertyValue(t), y = (n) => p(n, \"overflow\") + p(n, \"overflow-y\") + p(n, \"overflow-x\"), w = (n) => {\n  if (!(n instanceof HTMLElement))\n    return window;\n  let t = n;\n  for (; t && !(t === document.body || t === document.documentElement || !t.parentNode); ) {\n    if (/(scroll|auto)/.test(y(t)))\n      return t;\n    t = t.parentNode;\n  }\n  return window;\n};\nclass g extends m {\n  constructor(e) {\n    super(e);\n    c(this, \"elementObserver\");\n    c(this, \"wrapper\");\n    c(this, \"lazyLoadHandler\", (e) => {\n      var o, i;\n      const {\n        onContentVisible: s\n      } = this.props, [r] = e, {\n        isIntersecting: l\n      } = r;\n      if (l) {\n        this.setState({\n          visible: !0\n        }, () => {\n          s && s();\n        });\n        const a = (o = this.wrapper) == null ? void 0 : o.current;\n        a && a instanceof HTMLElement && ((i = this.elementObserver) == null || i.unobserve(a));\n      }\n    });\n    this.elementObserver = null, this.wrapper = f.createRef(), this.state = {\n      visible: !1\n    };\n  }\n  componentDidMount() {\n    var o;\n    this.getEventNode();\n    const {\n      offset: e,\n      threshold: s\n    } = this.props, r = {\n      rootMargin: typeof e == \"number\" ? `${e}px` : e || \"0px\",\n      threshold: s || 0\n    };\n    this.elementObserver = new IntersectionObserver(this.lazyLoadHandler, r);\n    const l = (o = this.wrapper) == null ? void 0 : o.current;\n    l instanceof HTMLElement && this.elementObserver.observe(l);\n  }\n  shouldComponentUpdate(e, s) {\n    return s.visible;\n  }\n  componentWillUnmount() {\n    var s, r;\n    const e = (s = this.wrapper) == null ? void 0 : s.current;\n    e && e instanceof HTMLElement && ((r = this.elementObserver) == null || r.unobserve(e));\n  }\n  getEventNode() {\n    var e;\n    return w((e = this.wrapper) == null ? void 0 : e.current);\n  }\n  render() {\n    const {\n      children: e,\n      className: s,\n      height: r,\n      width: l,\n      elementType: o\n    } = this.props, {\n      visible: i\n    } = this.state, a = {\n      height: r,\n      width: l\n    }, d = `LazyLoad${i ? \" is-visible\" : \"\"}${s ? ` ${s}` : \"\"}`;\n    return v(o || \"div\", {\n      className: d,\n      style: a,\n      ref: this.wrapper\n    }, i && b.only(e));\n  }\n}\nc(g, \"defaultProps\", {\n  elementType: \"div\",\n  className: \"\",\n  offset: 0,\n  threshold: 0,\n  width: null,\n  onContentVisible: null,\n  height: null\n});\nexport {\n  g as default\n};\n"],"names":["MessageA","props","zoom","setzoom","useState","ifZomed","position","top","left","right","bottom","zIndex","backgroundColor","newMessage","message","setFullSizeImage","fullSizeImage","handleImageClick","event","clickedEl","target","tagName","src","useEffect","document","querySelectorAll","forEach","image","addEventListener","removeEventListener","resizedHtml","htmlString","generateMarkup","words","split","elements","word","index","startsWith","element","url","fileExtension","pop","toLowerCase","youtubeRegex","match","handleImageOrVideo","React","href","rel","push","join","matches","modifiedHtmlString","widthRegex","heightRegex","srcRegex","widthMatch","heightMatch","srcMatch","width","parseInt","undefined","height","newTag","Math","floor","replace","resizeImage","parsedHtml","ReactHtmlParser","decodeEntities","className","Link","to","alt","mypic","im","myuser","hasRead","FontAwesomeIcon","style","marginRight","icon","faClockFour","time","msTextOverflow","whiteSpace","maxWidth","wordBreak","overflowWrap","display","flexDirection","h","Object","defineProperty","c","n","t","e","enumerable","configurable","writable","value","u","p","getComputedStyle","getPropertyValue","y","g","constructor","super","this","o","i","onContentVisible","s","r","isIntersecting","l","setState","visible","a","wrapper","current","HTMLElement","elementObserver","unobserve","state","componentDidMount","getEventNode","offset","threshold","rootMargin","IntersectionObserver","lazyLoadHandler","observe","shouldComponentUpdate","componentWillUnmount","window","body","documentElement","parentNode","test","w","render","children","elementType","d","ref","only"],"sourceRoot":""}