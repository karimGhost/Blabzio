"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[3630],{7464:function(e,a,t){t.r(a);var n=t(7294),r=t(4866),o=t(4405),s=t(9403),i=t(4854);const u={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"},c={apiKey:"AIzaSyA4-6Spjqf7Z_ks7fak2jnGKqtJG4uRqMk",authDomain:"zenahubglob.firebaseapp.com",databaseURL:"https://zenahubglob-default-rtdb.firebaseio.com",projectId:"zenahubglob",storageBucket:"zenahubglob.appspot.com",messagingSenderId:"414119474155",appId:"1:414119474155:web:d93f733443172ecd739fae",measurementId:"G-B65PR7NNXS"};a.default=function(e){let{toastRef:a}=e;r.Z.initializeApp(u,"app0155"),r.Z.initializeApp(c,"app01922");const{user:t,setUser:d,signOut:l}=(0,o.a)(),p=r.Z.app("app0155"),b=r.Z.app("app01922"),{0:f,1:m}=(0,n.useState)(!1),{0:y,1:g}=(0,n.useState)(null),h=async e=>{try{const a=b.database().ref("comments/cards"),t=await a.orderByChild("userId").equalTo(e).once("value"),n={};t.forEach((e=>{n[e.key]=null})),await a.update(n)}catch(a){console.error("Error deleting user data:",a)}},w=async e=>{try{const a=p.database().ref("profile"),t=await a.once("value"),n={};t.forEach((a=>{a.key===e&&(n[a.key]=null)})),await a.update(n)}catch(a){console.error("Error deleting user data:",a)}};return n.createElement(n.Fragment,null,n.createElement(s.z,{style:{backgroundColor:"red",outline:"red"},severity:"danger",label:"I understand, delete my account",onClick:async()=>{if(t){m(!0);try{const e=t.uid;await t.delete(),await l(),(0,i.navigate)("/"),a.current.show({severity:"success",summary:"Account deleted",detail:"Your account has been successfully deleted."}),await h(e),await w(e)}catch(e){"auth/requires-recent-login"===e.code?(await l(),a.current.show({severity:"warn",summary:"Session expired",detail:"You need to sign in again to delete your account."})):a.current.show({severity:"error",summary:"Error deleting account",detail:e.message})}finally{m(!1)}}},disabled:f}))}},1705:function(e,a,t){t.r(a),t.d(a,{Head:function(){return o},default:function(){return r}});t(4854);var n=t(7294);t(4866),t(4405),t(6267),t(3869),t(7043),t(7464),t(9755);function r(){return n.createElement("div",null)}const o=()=>n.createElement("title",null,"Security")}}]);
//# sourceMappingURL=component---src-pages-profile-page-security-js-183299b17f25c66187ba.js.map