"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[3251],{4405:function(e,t,a){a.d(t,{a:function(){return r}});var n=a(7294),s=(a(6118),a(1019),a(4866));a(9319),a(6267),a(6953);const i={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function r(){s.Z.initializeApp(i,"app05");const e=s.Z.app("app05"),t=e,{0:a,1:r}=(0,n.useState)(null),{0:l,1:c}=(0,n.useState)();return(0,n.useEffect)((()=>{const t=e.auth().onAuthStateChanged((e=>{e?(r(e),c(!0)):(r(null),c(!1))}));return()=>t()}),[]),{apps:t,user:a,setUser:r,app05:e,loading:l,signInWithEmailAndPassword:function(t,a){return e.auth().signInWithEmailAndPassword(t,a)},signOut:function(){return r(""),e.auth().signOut()}}}},7477:function(e,t,a){a.r(t);var n=a(7294),s=a(4866),i=(a(9319),a(3416)),r=a(5215),l=a(5212),c=a.n(l),d=a(4405),o=a(9403);const u={apiKey:"AIzaSyChFGTB5YEugUKho-YqcWVZtKJG3PIrtt0",authDomain:"thewall-10a4a.firebaseapp.com",databaseURL:"https://thewall-10a4a-default-rtdb.firebaseio.com",projectId:"thewall-10a4a",storageBucket:"thewall-10a4a.appspot.com",messagingSenderId:"221023885061",appId:"1:221023885061:web:bc550d03edd2fbf60e496c",measurementId:"G-7V80059NF7"};t.default=function(){s.Z.initializeApp(u,"app212121");const e=s.Z.app("app212121").database(),{user:t}=(0,d.a)(),{0:a,1:l}=(0,n.useState)(!1),{0:m,1:p}=(0,n.useState)(null),{0:f,1:v}=(0,n.useState)([]),{0:k,1:b}=(0,n.useState)(""),g=(0,n.useRef)(null),h=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const t=e.ref("comments");return t.on("value",(e=>{const t=e.val();if(t){const e=Object.keys(t).map((e=>({id:e,...t[e]})));v(e)}})),()=>t.off("value")}),[t,e]),(0,n.useEffect)((()=>{const e=(0,r.Z)(h.current,{},(()=>{}));return()=>{e&&e.dispose()}}),[]),n.createElement("div",{className:"container mt-5"},n.createElement("h1",{className:"mb-4"},"Video Recorder"),n.createElement("div",{className:"mb-4"},n.createElement("video",{ref:h,className:"video-js vjs-default-skin",style:{width:"100%",marginBottom:"10px"},controls:!0},n.createElement("source",{src:m,type:"video/webm"})),n.createElement("div",null,n.createElement(o.z,{variant:"danger",className:"mr-2",onClick:async()=>{if(a)g.current.stopRecording((()=>{const e=g.current.getBlob(),t=URL.createObjectURL(e);p(t)})),l(!1);else{const e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),t=new(c())(e,{type:"video",mimeType:"video/webm"});g.current=t,t.startRecording();const a=new MediaStream;a.addTrack(e.getVideoTracks()[0]),a.addTrack(e.getAudioTracks()[0]),h.current.srcObject=a,l(!0)}}},a?"Stop Recording":"Start Recording"),m&&n.createElement(o.z,{variant:"success",onClick:()=>{const a=(0,i.x0)(),n=null==t?void 0:t.uid;e.ref("videos").child(a).set({videoUrl:m,userId:n,likes:0,dislikes:0,comments:[]}),l(!1),p(null)}},"Publish Video"))),n.createElement("div",{className:"comments-section"},f.map((t=>n.createElement("div",{key:t.id,className:"comment"},n.createElement("p",null,t.text),n.createElement("div",{className:"comment-actions"},n.createElement(o.z,{variant:"outline-primary",onClick:()=>(t=>{const a=f.map((e=>e.id===t?{...e,likes:e.likes+1}:e));v(a),e.ref("comments").child(t).update({likes:s.Z.database.ServerValue.increment(1)})})(t.id)},"Like (",t.likes,")"),n.createElement(o.z,{variant:"outline-danger",onClick:()=>(t=>{const a=f.map((e=>e.id===t?{...e,dislikes:e.dislikes+1}:e));v(a),e.ref("comments").child(t).update({dislikes:s.Z.database.ServerValue.increment(1)})})(t.id)},"Dislike (",t.dislikes,")")),t.replies&&t.replies.length>0&&n.createElement("div",{className:"replies"},t.replies.map((e=>n.createElement("div",{key:e.id,className:"reply"},n.createElement("p",null,e.text))))),n.createElement("div",{className:"add-reply"},n.createElement("input",{type:"text",placeholder:"Add a reply...",value:newReply,onChange:e=>setNewReply(e.target.value)}),n.createElement(o.z,{variant:"outline-primary",onClick:()=>handleAddReply(t.id,newReply)},"Add Reply")))))))}},3416:function(e,t,a){a.d(t,{x0:function(){return n}});let n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);
//# sourceMappingURL=component---src-pages-news-video-uploader-js-062763546d3cd0eb218c.js.map