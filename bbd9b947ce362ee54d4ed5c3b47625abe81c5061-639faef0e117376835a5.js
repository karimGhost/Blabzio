/*! For license information please see bbd9b947ce362ee54d4ed5c3b47625abe81c5061-639faef0e117376835a5.js.LICENSE.txt */
"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[2003],{6267:function(e,t,n){var i=n(8180),r=n(1435),a=n(4444),s=(n(389),n(3333),n(8463));function o(){return window}async function l(e,t,n){var i;const{BuildInfo:a}=o();(0,r.as)(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if((0,r.as)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),l={};return(0,r.at)()?l.ibi=a.packageName:(0,r.au)()?l.apn=a.packageName:(0,r.av)(e,"operation-not-supported-in-this-environment"),a.displayName&&(l.appDisplayName=a.displayName),l.sessionId=s,(0,r.aw)(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,l)}const d=20;class u extends r.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function c(e){const t=await p()._get(v(e));return t&&await p()._remove(v(e)),t}function h(e,t){var n,i;const a=function(e){const t=_(e),n=t.link?decodeURIComponent(t.link):void 0,i=_(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return _(r).link||r||i||n||e}(t);if(a.includes("/__/auth/callback")){const t=_(a),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(i=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],l=o?(0,r.az)(o):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:a,postBody:null}}return null}function g(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<d;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function p(){return(0,r.aC)(r.b)}function v(e){return(0,r.aD)("authEvent",e.config.apiKey,e.name)}function _(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,a.zd)(n.join("?"))}const f=class{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aE,this._overrideRedirectResult=r.aF}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new u(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){(0,r.av)(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,a,s,l,d,u,c,h;const g=o();(0,r.aA)("function"==typeof(null===(t=null==g?void 0:g.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aA)(void 0!==(null===(n=null==g?void 0:g.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aA)("function"==typeof(null===(s=null===(a=null===(i=null==g?void 0:g.cordova)||void 0===i?void 0:i.plugins)||void 0===a?void 0:a.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aA)("function"==typeof(null===(u=null===(d=null===(l=null==g?void 0:g.cordova)||void 0===l?void 0:l.plugins)||void 0===d?void 0:d.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aA)("function"==typeof(null===(h=null===(c=null==g?void 0:g.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===h?void 0:h.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),(0,r.aG)(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:g(),postBody:null,tenantId:e.tenantId,error:(0,r.az)(e,"no-auth-event")}}(e,n,i);await function(e,t){return p()._set(v(e),t)}(e,s);const d=await l(e,s,t);return async function(e,t,n){const{cordova:i}=o();let a=()=>{};try{await new Promise(((s,o)=>{let l=null;function d(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){l||(l=window.setTimeout((()=>{o((0,r.az)(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(d),document.addEventListener("resume",u,!1),(0,r.au)()&&document.addEventListener("visibilitychange",c,!1),a=()=>{t.removePassiveListener(d),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),l&&window.clearTimeout(l)}}))}finally{a()}}(e,a,await function(e){const{cordova:t}=o();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let a=null;i?t.plugins.browsertab.openUrl(e):a=t.InAppBrowser.open(e,(0,r.ay)()?"_blank":"_system","location=yes"),n(a)}))}))}(d))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=o(),n={};(0,r.at)()?n.iosBundleId=t.packageName:(0,r.au)()?n.androidPackageName=t.packageName:(0,r.av)(e,"operation-not-supported-in-this-environment"),await(0,r.ax)(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=o(),a=setTimeout((async()=>{await c(e),t.onEvent(m())}),500),s=async n=>{clearTimeout(a);const i=await c(e);let r=null;i&&(null==n?void 0:n.url)&&(r=h(i,n.url)),t.onEvent(r||m())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,s);const l=i,d=`${r.packageName.toLowerCase()}://`;o().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(d)&&s({url:e}),"function"==typeof l)try{l(e)}catch(t){console.error(t)}}}};function m(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.az)("no-auth-event")}}function y(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function I(e=(0,a.z$)()){return!("file:"!==y()&&"ionic:"!==y()&&"capacitor:"!==y()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function w(e=(0,a.z$)()){return(0,a.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,a.z$)()){return/Edge\/\d+/.test(e)}(e)}function R(){try{const e=self.localStorage,t=r.aL();if(e)return e.setItem(t,"1"),e.removeItem(t),!w()||(0,a.hl)()}catch(e){return E()&&(0,a.hl)()}return!1}function E(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function A(){return("http:"===y()||"https:"===y()||(0,a.ru)()||I())&&!((0,a.b$)()||(0,a.UG)())&&R()&&!E()}function P(){return I()&&"undefined"!=typeof document}const b={LOCAL:"local",NONE:"none",SESSION:"session"},k=r.aA,N="persistence";async function C(e){await e._initializationPromise;const t=S(),n=r.aD(N,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function S(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const L=r.aA;class O{constructor(){this.browserResolver=r.aC(r.k),this.cordovaResolver=r.aC(f),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aE,this._overrideRedirectResult=r.aF}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return P()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return L(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!P()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function T(e){return e.unwrap()}function U(e){const{_tokenResponse:t}=e instanceof a.ZR?e.customData:e;if(!t)return null;if(!(e instanceof a.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return r.P.credentialFromResult(e);const n=t.providerId;if(!n||n===r.p.PASSWORD)return null;let i;switch(n){case r.p.GOOGLE:i=r.V;break;case r.p.FACEBOOK:i=r.U;break;case r.p.GITHUB:i=r.W;break;case r.p.TWITTER:i=r.Z;break;default:const{oauthIdToken:e,oauthAccessToken:a,oauthTokenSecret:s,pendingToken:o,nonce:l}=t;return a||s||e||o?o?n.startsWith("saml.")?r.aO._create(n,o):r.L._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:a}):new r.X(n).credential({idToken:e,accessToken:a,rawNonce:l}):null}return e instanceof a.ZR?i.credentialFromError(e):i.credentialFromResult(e)}function W(e,t){return t.catch((t=>{throw t instanceof a.ZR&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null==t?void 0:t.code))t.resolver=new M(e,r.aq(e,t));else if(i){const e=U(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,U(i)),additionalUserInfo:r.ao(e),user:V.getOrCreate(n)};var i}))}async function D(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>W(e,n.confirm(t))}}class M{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return W(T(this.auth),this.resolver.resolveSignIn(e))}}class V{constructor(e){this._delegate=e,this.multiFactor=r.ar(e)}static getOrCreate(e){return V.USER_MAP.has(e)||V.USER_MAP.set(e,new V(e)),V.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return W(this.auth,r.a0(this._delegate,e))}async linkWithPhoneNumber(e,t){return D(this.auth,r.l(this._delegate,e,t))}async linkWithPopup(e){return W(this.auth,r.d(this._delegate,e,O))}async linkWithRedirect(e){return await C(r.aH(this.auth)),r.g(this._delegate,e,O)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return W(this.auth,r.a1(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return D(this.auth,r.r(this._delegate,e,t))}reauthenticateWithPopup(e){return W(this.auth,r.e(this._delegate,e,O))}async reauthenticateWithRedirect(e){return await C(r.aH(this.auth)),r.h(this._delegate,e,O)}sendEmailVerification(e){return r.ae(this._delegate,e)}async unlink(e){return await r.an(this._delegate,e),this}updateEmail(e){return r.aj(this._delegate,e)}updatePassword(e){return r.ak(this._delegate,e)}updatePhoneNumber(e){return r.u(this._delegate,e)}updateProfile(e){return r.ai(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return r.af(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}V.USER_MAP=new WeakMap;const F=r.aA;class z{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;F(n,"invalid-api-key",{appName:e.name}),F(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?O:void 0;this._delegate=t.initialize({options:{persistence:G(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(r.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?V.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){r.I(this._delegate,e,t)}applyActionCode(e){return r.a5(this._delegate,e)}checkActionCode(e){return r.a6(this._delegate,e)}confirmPasswordReset(e,t){return r.a4(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return W(this._delegate,r.a8(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r.ad(this._delegate,e)}isSignInWithEmailLink(e){return r.ab(this._delegate,e)}async getRedirectResult(){F(A(),this._delegate,"operation-not-supported-in-this-environment");const e=await r.j(this._delegate,O);return e?W(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){(0,r.aH)(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:a}=B(e,t,n);return this._delegate.onAuthStateChanged(i,r,a)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:a}=B(e,t,n);return this._delegate.onIdTokenChanged(i,r,a)}sendSignInLinkToEmail(e,t){return r.aa(this._delegate,e,t)}sendPasswordResetEmail(e,t){return r.a3(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){k(Object.values(b).includes(t),e,"invalid-persistence-type"),(0,a.b$)()?k(t!==b.SESSION,e,"unsupported-persistence-type"):(0,a.UG)()?k(t===b.NONE,e,"unsupported-persistence-type"):E()?k(t===b.NONE||t===b.LOCAL&&(0,a.hl)(),e,"unsupported-persistence-type"):k(t===b.NONE||R(),e,"unsupported-persistence-type")}(this._delegate,e),e){case b.SESSION:t=r.a;break;case b.LOCAL:t=await r.aC(r.i)._isAvailable()?r.i:r.b;break;case b.NONE:t=r.N;break;default:return r.av("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return W(this._delegate,r._(this._delegate))}signInWithCredential(e){return W(this._delegate,r.$(this._delegate,e))}signInWithCustomToken(e){return W(this._delegate,r.a2(this._delegate,e))}signInWithEmailAndPassword(e,t){return W(this._delegate,r.a9(this._delegate,e,t))}signInWithEmailLink(e,t){return W(this._delegate,r.ac(this._delegate,e,t))}signInWithPhoneNumber(e,t){return D(this._delegate,r.s(this._delegate,e,t))}async signInWithPopup(e){return F(A(),this._delegate,"operation-not-supported-in-this-environment"),W(this._delegate,r.c(this._delegate,e,O))}async signInWithRedirect(e){return F(A(),this._delegate,"operation-not-supported-in-this-environment"),await C(this._delegate),r.f(this._delegate,e,O)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return r.a7(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function B(e,t,n){let i=e;"function"!=typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&V.getOrCreate(e)),error:t,complete:n}}function G(e,t){const n=function(e,t){const n=S();if(!n)return[];const i=r.aD(N,e,t);switch(n.getItem(i)){case b.NONE:return[r.N];case b.LOCAL:return[r.i,r.a];case b.SESSION:return[r.a];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(r.i)||n.push(r.i),"undefined"!=typeof window)for(const i of[r.b,r.a])n.includes(i)||n.push(i);return n.includes(r.N)||n.push(r.N),n}z.Persistence=b;class H{constructor(){this.providerId="phone",this._delegate=new r.P(T(i.Z.auth()))}static credential(e,t){return r.P.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}H.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,H.PROVIDER_ID=r.P.PROVIDER_ID;const Z=r.aA;class x{constructor(e,t,n=i.Z.app()){var a;Z(null===(a=n.options)||void 0===a?void 0:a.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new r.R(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var j;(j=i.Z).INTERNAL.registerComponent(new s.wA("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new z(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.Q,FacebookAuthProvider:r.U,GithubAuthProvider:r.W,GoogleAuthProvider:r.V,OAuthProvider:r.X,SAMLAuthProvider:r.Y,PhoneAuthProvider:H,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:x,TwitterAuthProvider:r.Z,Auth:z,AuthCredential:r.J,Error:a.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.4.2")}}]);
//# sourceMappingURL=bbd9b947ce362ee54d4ed5c3b47625abe81c5061-639faef0e117376835a5.js.map