"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[5963],{3814:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(7294),r=n(6431);function s(e){const t=(0,a.useRef)(null),n=(0,a.useRef)(null);return n.current&&n.current.update(e),(0,a.useEffect)((()=>(n.current=new(0,r.cW)({...e,ref:t}),()=>{n.current=null})),[]),a.createElement("div",{ref:t})}},4405:function(e,t,n){n.d(t,{a:function(){return o}});var a=n(7294),r=(n(6118),n(1019),n(4866));n(9319),n(6267),n(6953);const s={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function o(){r.Z.initializeApp(s,"app05");const e=r.Z.app("app05"),t=e,{0:n,1:o}=(0,a.useState)(null),{0:i,1:c}=(0,a.useState)();return(0,a.useEffect)((()=>{const t=e.auth().onAuthStateChanged((e=>{e?(o(e),c(!0)):(o(null),c(!1))}));return()=>t()}),[]),{apps:t,user:n,setUser:o,app05:e,loading:i,signInWithEmailAndPassword:function(t,n){return e.auth().signInWithEmailAndPassword(t,n)},signOut:function(){return o(""),e.auth().signOut()}}}},8682:function(e,t,n){n.r(t);var a=n(7294),r=n(4866),s=n(4405),o=n(3416),i=(n(6118),n(1019),n(982)),c=n(3869),l=n(6638),u=n(3814),d=n(9403),p=n(9417);n(6953),n(9755);const m={apiKey:"AIzaSyALrSOduM9yvvHS_fR14WeCcgEhH5D8oCA",authDomain:"zenaglob.firebaseapp.com",databaseURL:"https://zenaglob-default-rtdb.firebaseio.com",projectId:"zenaglob",storageBucket:"zenaglob.appspot.com",messagingSenderId:"62411931925",appId:"1:62411931925:web:6581dc5950a7a2137fa91c",measurementId:"G-KDMQLLD16X"};t.default=e=>{let{userid:t,useris:n,email:f}=e;const{0:g,1:h}=(0,a.useState)(!1),{user:b,setUser:v,signOut:y}=(0,s.a)();r.Z.initializeApp(m,"app013");const w=r.Z.app("app013"),{0:S,1:x}=(0,a.useState)([]),{0:z,1:E}=(0,a.useState)(""),I=b&&b.uid+"-"+t,k=b&&t+"-"+b.uid,{0:L,1:A}=(0,a.useState)(""),C=(0,a.useRef)(""),{0:R,1:j}=(0,a.useState)(!1),{0:N,1:D}=(0,a.useState)(""),{0:H,1:M}=(0,a.useState)(null),{0:T,1:Z}=(0,a.useState)(null),{0:U,1:W}=(0,a.useState)(c.Z),{0:_,1:O}=(0,a.useState)(null),Y=(0,a.useRef)(null),F=(0,a.useRef)(null),{0:G,1:B}=(0,a.useState)(!1),K=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{K.current&&!K.current.contains(e.target)&&B(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[K]);const{0:P,1:V}=(0,a.useState)(""),{0:X,1:q}=(0,a.useState)("");return a.createElement("div",{className:"containerPad",style:{background:"darkgrey",position:"absolute",top:"10%",left:"0",zIndex:"3",width:"fit-content"}},a.createElement("form",{onSubmit:e=>{e.preventDefault();const a=z,r=(new Date).getTime();if(!b)return;const s=w.database().ref("chats/"+I);s.once("value",(e=>{if(e.exists())s.push({message:a,sender:b.uid,receiver:t,timestamp:r,username:n,textid:(0,o.x0)(),email:f,read:!1});else{const e=w.database().ref("chats/"+k);e.once("value",(i=>{i.exists()?e.push({message:a,sender:b.uid,receiver:t,timestamp:r,username:n,textid:(0,o.x0)(),email:f,read:!1}):s.push({message:a,sender:b.uid,receiver:t,timestamp:r,email:f,textid:(0,o.x0)(),read:!1})}))}})),e.target.reset(),E(""),""===z&&(C.current.innerHTML=""),e.target.innerHTML=" "}},a.createElement("div",{id:"containered",className:"text-muted d-flex justify-content-start align-items-center pe-3 pt-3 mt-2   w-100 "},a.createElement("img",{src:U,alt:"user",style:{width:"40px",height:"100%"}}),a.createElement("div",{className:"input-box b-dark h-100 fom-control fom-control-lg mb-2 h-auto messonew",ref:C,contentEditable:!0,onInput:e=>{const t=e.target.innerHTML;console.log("if this is the vals",t),E(t),t.length<=0&&E("")},dangerouslySetInnerHTML:{__html:(()=>{const e=z.split(" "),t=[];return e.forEach(((e,n)=>{if(e.startsWith("http")||e.startsWith("https")){const n=(e=>{const t=e.split(".").pop().toLowerCase();if("jpg"===t||"png"===t||"jpeg"===t||"gif"===t||"img"===t)return'<div class="card flex w-50 justify-content-center"><Image class="sized"   src="'+e+'" zoomSrc="'+e+'" alt="Image" class="resizedImages" width="250"  preview /></div>';if("mp4"===t)return'<video src="'+e+'" controls>Your browser does not support the video tag.</video>';if("mp3"===t)return'<audio src="'+e+'" controls>Your browser does not support the audio tag.</audio>';{const t=e.match();return t?'<div className="Fit" style="position: relative; padding-bottom: 56.25%; height: 300px, width: 300px"><iframe src="https://www.youtube.com/embed/'+t[5]+'?controls=0&modestbranding=1" title="YouTube video player" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>':e}})(e)||a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},e);t.push(n)}else e.startsWith("data:image/")&&t.push('<div class="card flex justify-content-center"><Image className="sized" src="'+e+'" zoomSrc="'+e+'" alt="Image" class="resizedImages" width="250" preview /></div>')})),t.join("")})()},spellCheck:!0,style:{height:"fit-content",marginLeft:"auto",minHeight:"fit-content",background:"white",marginRight:"auto",overflow:"scroll",width:"40vw",border:"1px solid grey",padding:"20px 10px",color:"black",border:"1px solid #ccc",padding:"5px"},placeholder:"Text here ...",onFocus:()=>{j(!0)},onBlur:()=>{j(!1)}}),a.createElement("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onloadend=()=>{const e=n.result;E((t=>t+" "+e)),A(e),Y.current='<div class="card flex justify-content-center"><Image className="sized" src="'+e+'" zoomSrc="'+e+'" alt="Image" class="resizedImages" width="250" preview /></div>\n'}},ref:F,style:{display:"none"}}),a.createElement("label",{className:"positions",htmlFor:"file-input",onClick:()=>F.current.click()},a.createElement(i.G,{style:{fontSize:"1.3rem",marginLeft:"10px",cursor:"pointer",color:"black"},icon:p.l9f})),a.createElement("div",{className:"smile_icon_small"},a.createElement(d.z,{type:"button",className:"hideit ms-0 p-1 ml-3 text-mute",style:{background:"transparent",border:"none"}},a.createElement(i.G,{onClick:()=>{B(!G)},style:{fontSize:"1.3rem",color:"#ffcb4d",cursor:"pointer"},icon:p.ctA})),G&&a.createElement("div",{ref:K,style:{position:"absolute"}},a.createElement(u.Z,{data:l,onEmojiSelect:e=>{console.log(e),C.current.innerHTML=C.current.innerHTML+e.native},style:{position:"absolute",bottom:"100%",right:"0"}}))),a.createElement("button",{style:{fontSize:"1.3rem",cursor:"pointer",background:"none",border:"none",hover:"green"},className:"hovered ms-3 text-muted"},a.createElement(i.G,{className:"paperplaneS",icon:p.XCy,style:{cursor:"pointer",color:"yellowgreen"},type:"submit"})))))}},3869:function(e,t,n){t.Z=n.p+"static/proxy-d399bc692ed8a689928018ed3b8a9403.jpeg"},6118:function(e,t,n){n(1435),n(4444),n(389),n(3333),n(8463)},3416:function(e,t,n){n.d(t,{x0:function(){return a}});let a=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);
//# sourceMappingURL=component---src-pages-profile-components-message-js-63dcb8e9c3b6918f88bf.js.map