"use strict";
exports.id = 9687;
exports.ids = [9687];
exports.modules = {

/***/ 59507:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MessageA)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98078);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var firebase_compat_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(75159);
/* harmony import */ var _Accounts_useAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94405);
/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99184);
/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(88965);
/* harmony import */ var _images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(83869);
/* harmony import */ var react_lazy_load__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25043);
/* harmony import */ var gatsby__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(57076);
/* harmony import */ var firebase_compat_firestore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(30359);
/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(70982);
/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(25935);
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(59417);
// import from compat version
//import parse from 'html-react-parser';
const firebaseConfig019={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function MessageA(props){//fas const youtubeRegex = /^(https?:\/\/)?(www\.)?(m\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/)?([\w-]{11})(\S+)?$/;
const{0:zoom,1:setzoom}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);const ifZomed={position:zoom&&"absolute",top:zoom&&"0",left:zoom&&"0",right:zoom&&"0",bottom:zoom&&"0",zIndex:zoom&&"20",backgroundColor:zoom&&"rgba(0,0,0,0.11)"};// const handleImageOrVide = props.handleImageOrVideo;
const newMessage=props.message;const handleImageOrVideo=url=>{const fileExtension=url.split('.').pop().toLowerCase();if(fileExtension==='jpg'||fileExtension==='png'||fileExtension==='jpeg'||fileExtension==='gif'||fileExtension==='img'){// If the URL is pointing to an image
return`<div class="p-image-preview-container card flex justify-content-center"><Image style="width: 60px" className="sized p-image-preview"   src="${url}" zoomSrc="${url}" alt="Image" id="resizedImages" class="resizedImages" width="250"   /></div>`;}else if(fileExtension==='mp4'){// If the URL is pointing to a video
return`<video src="${url}" controls>Your browser does not support the video tag.</video>`;}else if(fileExtension==='mp3'){// If the URL is pointing to an audio file
return`<audio src="${url}" controls>Your browser does not support the audio tag.</audio>`;}else{// If the URL is not pointing to an image, video, or audio file, check if it's a YouTube link
const youtubeRegex=/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/)?([\w-]{11})(\S+)?$/;const match=url.match(youtubeRegex);if(match){// If the URL is a YouTube link, extract the video id  {/*<iframe src="https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1" title="YouTube video player" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>*/}
const videoId=match[5];return`<div className="Fit" id="Fit" style="position: relative; padding-bottom: 56.25%; height: 300px, width: 300px"><iframe src="https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1" title="YouTube video player" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>`;}else{// If the URL is not pointing to an image, video, or YouTube link, return the URL  
return url;}}};const generateMarkup=()=>{if(!newMessage){return null;// Or any default value or error handling you want
}const words=newMessage.split(' ');const elements=[];words.forEach((word,index)=>{if(word.startsWith('http')||word.startsWith('https')){const element=handleImageOrVideo(word)||/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a",{href:word,target:"_blank",rel:"noopener noreferrer"},word);elements.push(element);}else if(word.startsWith("data:image/")){// If the word is a base64-encoded image data URL, create an <img> tag
elements.push(`<div class="p-image-preview-container wid card flex justify-content-center"><Image className="sized" id="resizedImages" src="${word}" zoomSrc="${word}" alt="Image" class="resizedImages p-image-preview" preview width="250"  /></div>`);}else{elements.push(word+' ');}});return elements.join('');};const setFullSizeImage=props.setFullSizeImage;const fullSizeImage=props.fullSizeImage;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const images=document.querySelectorAll(".resizedImages");images.forEach(image=>{image.addEventListener("click",handleImageClick);return()=>{image.removeEventListener("click",handleImageClick);};});},[]);function handleImageClick(event){const clickedEl=event.target;if(clickedEl.tagName==="IMG"){// Do something with the clicked image
setFullSizeImage(clickedEl.src);}}function showPreview(src){alert("bob");setFullSizeImage(src);}function resizeImage(){const htmlString=generateMarkup();const regex=/<img [^>]*>/g;const matches=htmlString?htmlString.match(regex)||[]:[];let modifiedHtmlString=htmlString;for(const match of matches){const widthRegex=/width="(\d+)"/;const heightRegex=/height="(\d+)"/;const srcRegex=/src="([^"]+)"/;// add regex to extract src attribute
const widthMatch=match.match(widthRegex);const heightMatch=match.match(heightRegex);const srcMatch=match.match(srcRegex);// match src attribute
const width=widthMatch?parseInt(widthMatch[1]):undefined;const height=heightMatch?parseInt(heightMatch[1]):undefined;const newWidth=width?Math.floor(width/2):undefined;const newHeight=height?Math.floor(height/2):undefined;const widthAttr=newWidth?` width="${newWidth}"`:"";const heightAttr=newHeight?` height="${newHeight}"`:"";const src=srcMatch?srcMatch[1]:'';// extract the src value from the match
const newTag=`<Image src="${src}" id="resizedImages" style="width:100%; max-width:300px" class="resizedImages p-image-preview p-image-mask" width="250" preview  />`;modifiedHtmlString=modifiedHtmlString.replace(match,`<div class=" p-image-preview-container card flex justify-content-center imagewraper d-flex-column">${newTag}</div>`);}return modifiedHtmlString;}/*
  
  
  function resizeImage() {
    const htmlString = generateMarkup();
  const preview = true;
    const regex = /<img [^>]*>/g;
    const matches = htmlString.match(regex) || [];
    let modifiedHtmlString = htmlString; // initialize modifiedHtmlString with original htmlString
    for (const match of matches) {
      const widthRegex = /width="(\d+)"/;
      const heightRegex = /height="(\d+)"/;
  
      const widthMatch = match.match(widthRegex);
      const heightMatch = match.match(heightRegex);
      const width = widthMatch ? parseInt(widthMatch[1]) : undefined;
      const height = heightMatch ? parseInt(heightMatch[1]) : undefined;
      const newWidth = width ? Math.floor(width / 2) : undefined;
      const newHeight = height ? Math.floor(height / 2) : undefined;
      const widthAttr = newWidth ? ` width="${newWidth}"` : "";
      const heightAttr = newHeight ? ` height="${newHeight}"` : "";
      const newTag = match.replace(/<img/, '<Image').replace(/\/?>/, `${widthAttr}${heightAttr} style="width: 60px" id="resizedImages" class="p-image-preview p-image-preview-indicator p-image-preview-icon p-image-mask"   width="250"   />`);
   
      modifiedHtmlString = modifiedHtmlString.replace(match, `<div  class="p-image  p-image-preview-container card flex justify-content-center imagewraper d-flex-column card flex justify-content-center imagewraper d-flex-column">${newTag} </div>`);
    }  
    return modifiedHtmlString; // return modified htmlString
  }
    
  */const resizedHtml=resizeImage();const parsedHtml=typeof resizedHtml==='string'?(0,html_react_parser__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(resizedHtml,{decodeEntities:false}):null;// Render the parsed HTML
return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message my-message"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(gatsby__WEBPACK_IMPORTED_MODULE_6__.Link,{to:`profileComponents/Myprofile`},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img",{alt:"Your Dp",height:"50",width:"50",className:" img-circle medium-image",src:props.mypic?props.mypic:_images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-body"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-body-inner"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-info"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h4",null," ",props.myuser,"  "),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5",null,"  ",props.hasRead&&props.hasRead>0&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__/* .FontAwesomeIcon */ .G,{style:{marginRight:"5px"},icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faClockFour */ .uF7})," ",props.time)),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr",null),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-text d-flex"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:zoom?ifZomed:{// overflow: "hidden", 
msTextOverflow:"ellipsis",whiteSpace:"pre-wrap",width:"fit-content",maxWidth:"100",wordBreak:"break-all",overflowWrap:"break-all",display:"flex",flexDirection:"column"},className:"w-100 message-text d-flex-column dflex"},parsedHtml," ")))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br",null)));}

/***/ }),

/***/ 36099:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MessageB)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98078);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var firebase_compat_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(75159);
/* harmony import */ var _Accounts_useAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94405);
/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99184);
/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(88965);
/* harmony import */ var react_lazy_load__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25043);
/* harmony import */ var gatsby__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(57076);
/* harmony import */ var firebase_compat_firestore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(30359);
/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(70982);
/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(25935);
// import from fas compat version
const firebaseConfig019={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function MessageB(props){const{0:zoom,1:setzoom}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);const setFullSizeImage=props.setFullSizeImage;const fullSizeImage=props.fullSizeImage;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const images=document.querySelectorAll(".resizedImages");images.forEach(image=>{image.addEventListener("click",handleImageClick);return()=>{image.removeEventListener("click",handleImageClick);};});},[]);function handleImageClick(event){const clickedEl=event.target;if(clickedEl.tagName==="IMG"){// Do something with the clicked image youtube
setFullSizeImage(clickedEl.src);}}const ifZomed={position:zoom&&"absolute",top:zoom&&"0",left:zoom&&"0",right:zoom&&"0",bottom:zoom&&"0",zIndex:zoom&&"20",backgroundColor:zoom&&"rgba(0,0,0,0.11)"};// const handleImageOrVide = props.handleImageOrVideo;
const newMessage=props.message;const handleImageOrVideo=url=>{const fileExtension=url.split('.').pop().toLowerCase();if(fileExtension==='jpg'||fileExtension==='png'||fileExtension==='jpeg'||fileExtension==='gif'||fileExtension==='img'){// If the URL is pointing to an image
return`<div class="card p-image-preview-container flex justify-content-center"><Image className="sized resizedImages" id="resizedImages"   src="${url}" zoomSrc="${url}" alt="Image" class="resizedImages" width="250"   /></div>`;}else if(fileExtension==='mp4'){// If the URL is pointing to a video
return`<video src="${url}" controls>Your browser does not support the video tag.</video>`;}else if(fileExtension==='mp3'){// If the URL is pointing to an audio file
return`<audio src="${url}" controls>Your browser does not support the audio tag.</audio>`;}else{// If the URL is not pointing to an image, video, or audio file, check if it's a YouTube link
// const youtubeRegex = /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/)?([\w-]{11})(\S+)?$/;
const match=url.match();if(match){// If the URL is a YouTube link, extract the video id
const videoId=match[5];return` <div height={300}> <div className="Fit" id="Fit" style="position: relative; padding-bottom: 56.25%; height: auto, width: 50%"><iframe src="https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1" title="YouTube video player" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"  allowfullscreen></iframe></div></div>`;}else{// If the URL is not pointing to an image, video, or YouTube link, return the URL
return url;}}};const generateMarkup=()=>{if(!newMessage){return null;// Or any default value or error handling you want
}const words=newMessage.split(' ');const elements=[];words.forEach((word,index)=>{if(word.startsWith('http')||word.startsWith('https')){const element=handleImageOrVideo(word)||/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a",{href:word,target:"_blank",rel:"noopener noreferrer"},word);elements.push(element);}else if(word.startsWith("data:image/")){// If the word is a base64-encoded image data URL, create an <img> tag i
elements.push(`<div class="p-image-preview-container wid card flex justify-content-center"><Image id="resizedImages"  className="sized resizedImages" src="${word}" zoomSrc="${word}" alt="Image" class="p-image-preview resizedImages" width="250"  /></div>`);}else{elements.push(word+' ');}});return elements.join('');};function resizeImage(){const htmlString=generateMarkup();const regex=/<img [^>]*>/g;const matches=htmlString?htmlString.match(regex)||[]:[];let modifiedHtmlString=htmlString;for(const match of matches){const widthRegex=/width="(\d+)"/;const heightRegex=/height="(\d+)"/;const srcRegex=/src="([^"]+)"/;// add regex to extract src attribute
const widthMatch=match.match(widthRegex);const heightMatch=match.match(heightRegex);const srcMatch=match.match(srcRegex);// match src attribute
const width=widthMatch?parseInt(widthMatch[1]):undefined;const height=heightMatch?parseInt(heightMatch[1]):undefined;const newWidth=width?Math.floor(width/2):undefined;const newHeight=height?Math.floor(height/2):undefined;const widthAttr=newWidth?` width="${newWidth}"`:"";const heightAttr=newHeight?` height="${newHeight}"`:"";const src=srcMatch?srcMatch[1]:'';// extract the src value from the match
const newTag=`<Image src="${src}" id="resizedImages" style="width:100%; max-width:300px" class="resizedImages p-image-preview p-image-mask" width="250" preview  />`;modifiedHtmlString=modifiedHtmlString.replace(match,`<div class=" p-image-preview-container card flex justify-content-center imagewraper d-flex-column">${newTag}</div>`);}return modifiedHtmlString;}const resizedHtml=resizeImage();const parsedHtml=typeof resizedHtml==='string'?(0,html_react_parser__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(resizedHtml,{decodeEntities:false}):null;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message info "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(gatsby__WEBPACK_IMPORTED_MODULE_6__.Link,{to:`/profileComponents/Profiles/?id=${props.personid}`},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img",{alt:props.named&&props.named,className:"img-circle medium-image",src:props.pic&&props.pic})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-body "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-info"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h4",null," ",props.named&&props.named," ",props.id," "),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5",null,"  ",props.time)),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr",null),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-text d-flex"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:zoom?ifZomed:{overflow:"hidden",msTextOverflow:"ellipsis",whiteSpace:"pre-wrap",width:"fit-content",maxWidth:"100",wordBreak:"break-all",overflowWrap:"break-all",display:"flex",flexDirection:"column"},className:"w-100 message-text d-flex-column dflex"},parsedHtml," ")),fullSizeImage&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"full-size-image-overlay",onClick:()=>setFullSizeImage(null)},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img",{src:fullSizeImage,alt:"Full-size Image"}))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br",null)));}

/***/ }),

/***/ 34266:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MessageDrawer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98078);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var firebase_compat_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(75159);
/* harmony import */ var _Accounts_useAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94405);
/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99184);
/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(88965);
/* harmony import */ var _images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(83869);
/* harmony import */ var gatsby__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57076);
/* harmony import */ var firebase_compat_firestore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(30359);
/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(70982);
/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(25935);
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(59417);
/* harmony import */ var primereact_skeleton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(4710);
// import fa from compat version
const firebaseConfig019={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function MessageDrawer(props){const{user}=(0,_Accounts_useAuth__WEBPACK_IMPORTED_MODULE_2__/* .useAuth */ .a)();firebase_compat_app__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z.initializeApp(firebaseConfig019,'app019');const app019=firebase_compat_app__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z.app('app019');const SetupidA=props.SetupidA;const SetupidB=props.SetupidB;const SetsetupDp=props.SetsetupDp;const searchval=props.searchval;const setSearchId=props.setSearchId;const BlockedMe=props.BlockedMe;const setBlockedMe=props.setBlockedMe;const{0:Muted,1:setMuted}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');const setlockedmeUsers=props.setlockedmeUsers;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(!user)return;const db=app019.database().ref('profile');const otherUserIds=Array.isArray(props.idA)?props.idA:[props.idA];const filteredChats=[];const didblockme=[];const onValue=snapshot=>{snapshot.forEach(childSnapshot=>{const chatValues=childSnapshot.val();const chatId=childSnapshot.key;const hasOtherUserId=otherUserIds.some(id=>chatId.includes(id));if(chatId.includes(user.uid)){didblockme.push(chatValues);}if(hasOtherUserId){filteredChats.push(chatValues);}});const filteredEmails=filteredChats.map(obj=>obj.username);const blockedME=filteredChats.map(obj=>obj.blockedMe!==undefined&&Object.keys(obj.blockedMe)[0]&&obj.username);//const blockedthem = filteredChats.map(obj => obj.blockList && obj.blockList);
blockedME&&setBlockedMe(blockedME);const Mute=filteredChats.map(obj=>obj.Muted!==undefined&&Object.keys(obj.Muted)[0]&&obj.username);setMuted(Mute);console.log("i blocked these people",blockedME);console.log("peps are",filteredChats);// console.log("i blocked this person ", blockedthem)
const filteredDp=filteredChats.map(obj=>obj.profileImg?obj.profileImg:_images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z);SetupidA(filteredEmails);SetsetupDp(filteredDp);const chatIds=Object.keys(snapshot.val()||{});const chatIdWithUserUid=chatIds.find(id=>id.includes((user===null||user===void 0?void 0:user.uid)||''));if(chatIdWithUserUid){const chatValue=snapshot.val()[chatIdWithUserUid];props.setmyuser(Object.values(chatValue.username||"You"));props.setmypic(Object.values(chatValue.profileImg||{im: _images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z}));}setlockedmeUsers(didblockme.map(obj=>obj.blockedMe!==undefined&&Object.keys(obj.blockedMe)[0]));//console.log( 'show those who blocked me ', didblockme  )
};db.on('value',onValue);return()=>{db.off('value',onValue);};},[user,props.idA,props.setmyuser,SetupidA,SetsetupDp]);const{0:showed,1:setShowed}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);/*
useEffect(() => {
 if(!props.setup) return;
searchval == props.setup && props.setup[props.setupidA] &&
props.setSearchId("jjj")

setmyUser

if(searchval && searchval.toLowerCase() === props.setup && props.setup[props.setupidA].toLowerCase()){
  console.log("if this two are equal props shows good", searchval && searchval.toLowerCase() === props.setup && props.setup[props.setupidA].toLowerCase()  )
}


}, [ props.setup && props.setup, searchval && searchval])

*/const BlockUser=async userId=>{// Remove the user ID from the "following" node of the current user
if(user){const userI=userId[0]===user.uid?userId[1]:userId[0];// Update the state with the modified followers array
await app019.database().ref(`profile/${user.uid}/following/${userI}`).remove();await app019.database().ref(`profile/${userI}/following/${user.uid}`).remove();// Remove the current user's ID from the "followers" node of the user being unfollowed
await app019.database().ref(`profile/${userI}/followers/${user.uid}`).remove();await app019.database().ref(`profile/${user.uid}/followers/${userI}`).remove();await app019.database().ref(`profile/${userI}/blockedMe/${user.uid}`).set(true);//    await app019.database().ref(`profile/${user.uid}/blockList/${userId.value}`).set(true);
alert("Blocked");}};const MuteUser=async userId=>{if(user){await app019.database().ref(`profile/${userId[0]===user.uid?userId[1]:userId[0]}/Muted/${user.uid}`).set(true);//    await app019.database().ref(`profile/${user.uid}/blockList/${userId.value}`).set(true);
alert("Muted");}};const setshowmuted=props.setshowmuted;const UnmuteUser=async(userId,mu)=>{if(user){await app019.database().ref(`profile/${userId[0]===user.uid?userId[1]:userId[0]}/Muted/${user.uid}`).remove();const newMutedUsers=Muted.filter(mutedUserId=>mutedUserId!==mu);setMuted(newMutedUsers);alert("unmuted",{mu});//    await app019.database().ref(ofile/${user.uid}/blockList/${userId.value}`).set(true);
}};const showmuted=props.showmuted;if(!user||!app019.database().ref('profile')||!props.setup){return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"flex mb-3"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(primereact_skeleton__WEBPACK_IMPORTED_MODULE_10__/* .Skeleton */ .O,{shape:"circle",size:"4rem",className:"mr-2"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(primereact_skeleton__WEBPACK_IMPORTED_MODULE_10__/* .Skeleton */ .O,{width:"5rem",className:"mb-2"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(primereact_skeleton__WEBPACK_IMPORTED_MODULE_10__/* .Skeleton */ .O,{width:"0rem",className:"mb-2"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(primereact_skeleton__WEBPACK_IMPORTED_MODULE_10__/* .Skeleton */ .O,{width:"2rem",className:"mb-2 ",style:{float:" right"}}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(primereact_skeleton__WEBPACK_IMPORTED_MODULE_10__/* .Skeleton */ .O,{width:"1rem",className:"mb-2 ",style:{float:" right"}})));}if(showmuted){return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment),null,props.setup&&BlockedMe&&BlockedMe.includes(props.setup[props.setupidA])?"":props.setup&&Muted.includes(props.setup[props.setupidA])&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li",{style:{borderLeftColor:props.Ref&&props.Ref>0?"green":"black"},"data-toggle":"tab","data-target":"#inbox-message-1",className:"active"},props.Ref&&props.Ref>0?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-count bg-success"}," ",props.Ref&&props.Ref>0&&props.Ref," "):"",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img",{style:{marginTop:"-65px"},alt:props.setup&&props.setup,className:"img-circle medium-image",src:props.setupDp&&props.setupDp[props.setupidA]}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"vcentered info-combo"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3",{className:"no-margin-bottom name"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(gatsby__WEBPACK_IMPORTED_MODULE_5__.Link,{style:{fontSize:"1rem",fontWeight:"bold",fontFamily:"monospace",textShadow:props.Ref&&props.Ref>0?"1px 1px 0.20px black":"1px 1px 0.10px Highlight",color:"black"},to:`profileComponents/Profiles/?id=${props.personid}`},props.setup&&props.setup[props.setupidA]," ")),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5",{style:{fontWeight:props.Ref&&props.Ref>0&&"bold",color:props.Ref&&props.Ref>0&&"black",textShadow:props.Ref&&props.Ref>0&&"1px 1px 0.25px Highlight"}},props.text),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{onClick:e=>{e.stopPropagation();setShowed(pre=>!pre);},style:{background:"transparent",border:"none",color:"black",float:"right",zIndex:"100"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faEllipsis */ .S6C,style:{marginTop:"5px",float:"right"}}))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"contacts-add mt-1"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",{className:"message-time mt-1",style:{display:"flex"}},props.Ref&&props.Ref>0?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{style:{marginTop:"5px"},icon:props.time.includes("days")?_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faCalendarDay */ .$nv:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faUserClock */ .hnx}):"","   ",props.time," "),showed&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:{display:"flex",justifyContent:"space-evenly",marginLeft:"auto",marginRight:"auto",padding:"5px 20px",width:"100%"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{onClick:e=>{e.stopPropagation();BlockUser(props.idA);},style:{background:"transparent",border:"none",color:"tomato"},tooltip:"Block"}," ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{className:"mx-2",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faBan */ .gPx,style:{marginTop:"5px"}})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{onClick:e=>{e.stopPropagation();UnmuteUser(props.idA,props.setup&&props.setup[props.setupidA]);},tooltip:"Mute",style:{background:"transparent",border:"none",color:"black"}},"    ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{className:"mx-2",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faVolumeHigh */ .AQZ,style:{marginTop:"5px"}})," "),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{style:{background:"transparent",border:"none",color:"red"},tooltip:"report"},"  ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{className:"mx-2",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faFlag */ .RrC,style:{marginTop:"5px"}})," ")))));}else{return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment),null,props.setup&&BlockedMe&&BlockedMe.includes(props.setup[props.setupidA])?"":props.setup&&Muted.includes(props.setup[props.setupidA])?"":/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li",{style:{borderLeftColor:props.Ref&&props.Ref>0?"green":"black"},"data-toggle":"tab","data-target":"#inbox-message-1",className:"active"},props.Ref&&props.Ref>0?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"message-count bg-success"}," ",props.Ref&&props.Ref>0&&props.Ref," "):"",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img",{style:{marginTop:"-65px"},alt:"no Dp!",className:"img-circle medium-image",src:props.setupDp&&props.setupDp[props.setupidA]?props.setupDp[props.setupidA]:_images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"vcentered info-combo"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3",{className:"no-margin-bottom name"},props.setup&&props.setup[props.setupidA]?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(gatsby__WEBPACK_IMPORTED_MODULE_5__.Link,{style:{fontSize:"1rem",fontWeight:"bold",fontFamily:"monospace",textShadow:props.Ref&&props.Ref>0?"1px 1px 0.20px black":"1px 1px 0.10px Highlight",color:"black"},to:`/profileComponents/Profiles/?id=${props.personid}`},props.setup&&props.setup[props.setupidA]," "):"Deleted user"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5",{style:{fontWeight:props.Ref&&props.Ref>0&&"bold",color:props.Ref&&props.Ref>0&&"black",textShadow:props.Ref&&props.Ref>0&&"1px 1px 0.25px Highlight"}},props.text),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{onClick:e=>{e.stopPropagation();setShowed(pre=>!pre);},style:{background:"transparent",border:"none",color:"black",float:"right",zIndex:"100"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faEllipsis */ .S6C,style:{marginTop:"5px",float:"right"}}))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"contacts-add mt-1"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",{className:"message-time mt-1",style:{display:"flex"}},props.Ref&&props.Ref>0?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{style:{marginTop:"5px"},icon:props.time.includes("days")?_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faCalendarDay */ .$nv:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faUserClock */ .hnx}):"","   ",props.time," "),showed&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:{display:"flex",justifyContent:"space-evenly",marginLeft:"auto",marginRight:"auto",padding:"5px 20px",width:"100%"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{onClick:e=>{e.stopPropagation();BlockUser(props.idA);},style:{background:"transparent",border:"none",color:"tomato"}}," ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{className:"mx-2",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faBan */ .gPx,style:{marginTop:"5px"}})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{onClick:e=>{e.stopPropagation();MuteUser(props.idA);},style:{background:"transparent",border:"none",color:"black"}},"   ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{className:"mx-2",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faVolumeMute */ .YLJ,style:{marginTop:"5px"}})," "),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{style:{background:"transparent",border:"none",color:"red"}},"  ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{className:"mx-2",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_11__/* .faFlag */ .RrC,style:{marginTop:"5px"}})," ")))));}}

/***/ }),

/***/ 63377:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Users)
/* harmony export */ });
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23279);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98078);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var firebase_compat_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(75159);
/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99184);
/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(88965);
/* harmony import */ var _images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(83869);
/* harmony import */ var gatsby__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57076);
/* harmony import */ var firebase_compat_firestore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(30359);
/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(70982);
/* harmony import */ var primereact_autocomplete__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(7730);
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(59417);
//import { useAuth } from '../../Accounts/useAuth';
//import { nanoid } from 'nanoid';
// import from compat version
//import ReactHtmlParser, { Comment } from "html-react-parser";
//import parse from 'html-react-parser';
//import { Carousel } from 'primereact/carousel fas';  youtube
const firebaseConfig019={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function Users(props){const setCreatemesage=props.setCreatemesage;const selectedUser=props.selectedUser;const{0:users,1:setUsers}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);const{0:uids,1:setuids}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:selectedAcc,1:setSelectedAcc}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:filteredUsers,1:setFilteredUsers}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);console.log("this s the selected Acc",selectedAcc);console.log("as you type logs data is",users.id);firebase_compat_app__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z.initializeApp(firebaseConfig019,'app0999');const app0999=firebase_compat_app__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z.app('app0999');//const {user} = useAuth(); typeof user.user === 'string' && 
const debouncedHandleChange=lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()(event=>{let _filteredUsers;if(!users)return;if(!event.query.trim().length){_filteredUsers=[...users];}else{_filteredUsers=users.filter(useri=>{return useri&&useri.useri&&useri.useri.toLowerCase().startsWith(event.query.toLowerCase());});}setFilteredUsers(_filteredUsers);},100);const search=event=>{debouncedHandleChange(event);};function rest(){setCreatemesage(false);selectedAcc&&props.setId(uids);props.setShowTextArea(true);alert(uids);}const itemTemplate=users=>{return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"flex align-items-center",onClick:rest},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("img",{alt:"dP",src:users&&users.profileImg//className={`flag flag-${item.code.toLowerCase()} mr-2`} youtube 
,style:{width:'28px'}}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{color:"black"}},users&&users.useri));};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if(typeof selectedAcc==='object'){return;}app0999.database().ref('profile').orderByChild('username').equalTo(selectedAcc).once('value').then(snapshot=>{if(snapshot.exists()){const userId=Object.keys(snapshot.val())[0];const userData=snapshot.val()[userId];const useri={id:userId,useri:userData.username,profileImg:userData.profileImg?userData.profileImg:_images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z};setUsers([useri]);setuids(useri.id);console.log("if this shows why is it id",useri.id);}else{setUsers([]);}});},[selectedAcc]);function setSearch(){if(!selectedAcc||selectedAcc.length<1){setCreatemesage(false);}if(typeof selectedAcc==='object'){return;}app0999.database().ref('profile').orderByChild('username').equalTo(selectedAcc).once('value').then(snapshot=>{if(snapshot.exists()){const userId=Object.keys(snapshot.val())[0];const userData=snapshot.val()[userId];const useri={id:userId,useri:userData.username,profileImg:userData.profileImg?userData.profileImg:_images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z};setUsers([useri]);setuids(useri.id);console.log("if this shows why is it id",useri.id);}else{setUsers([]);}});}return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(primereact_autocomplete__WEBPACK_IMPORTED_MODULE_9__/* .AutoComplete */ .Q,{field:"name",value:selectedAcc,suggestions:filteredUsers,placeholder:"Send message to...",className:"borderradius mt-1",style:{borderTopRightRadius:"0",borderBottomRightRadius:"0"},completeMethod:search,onChange:e=>setSelectedAcc(e.value),itemTemplate:itemTemplate}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button",{style:{background:"white",border:"none",fontSize:selectedAcc&&selectedAcc.length>0?"1rem":" 1.5rem",marginLeft:"-5px",marginTop:"-1px",padding:"10px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",paddingTop:selectedAcc&&selectedAcc.length>0&&"14px",paddingBottom:selectedAcc&&selectedAcc.length>0&&"14px"},onClick:setSearch,className:"btn btn-danger close-new-message"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_7__/* .FontAwesomeIcon */ .G,{icon:selectedAcc&&selectedAcc.length>0?_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__/* .faSearch */ .wn1:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__/* .faTimes */ .NBC,style:{cursor:"pointer",color:selectedAcc&&selectedAcc.length>0?"yellowgreen":"red"},type:"submit"})));}

/***/ }),

/***/ 18560:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Messages)
/* harmony export */ });
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23279);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98078);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var firebase_compat_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(75159);
/* harmony import */ var _Accounts_useAuth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(94405);
/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(51333);
/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99184);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(63068);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(3561);
/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(88965);
/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(33220);
/* harmony import */ var _MessageDrawer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(34266);
/* harmony import */ var _MessageA__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(59507);
/* harmony import */ var _MessageB__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(36099);
/* harmony import */ var _MessageUsers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(63377);
/* harmony import */ var _images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(83869);
/* harmony import */ var react_contenteditable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(61512);
/* harmony import */ var react_contenteditable__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_contenteditable__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(25935);
/* harmony import */ var _emoji_mart_data__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(26638);
/* harmony import */ var _emoji_mart_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(7571);
/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(99403);
/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(59417);
/* harmony import */ var gatsby__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(57076);
/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(70982);
/* harmony import */ var primereact_inputtextarea__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(42552);
/* harmony import */ var _components_Navbar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(78931);
//import 'firebase/compat/firestore'; // import from compat version fas
/*       <MDBBtn rippleDuration={3000} size='lg' rippleColor='red' color='light'> 

 <div className='bg-image'>
      <img src='https://mdbootstrap.com/img/new/standard/city/053.webp' className='w-100' />
      <div className='mask' style={{ backgroundColor: 'rgba(0, 0, 0, 0.6)' }}></div>
    </div>   to ad a shadow .shadow-1 to 5  .shadow-inner   .hover-shadow
*/const firebaseConfig015={// your firebase config fas
apiKey:"AIzaSyALrSOduM9yvvHS_fR14WeCcgEhH5D8oCA",authDomain:"zenaglob.firebaseapp.com",databaseURL:"https://zenaglob-default-rtdb.firebaseio.com",projectId:"zenaglob",storageBucket:"zenaglob.appspot.com",messagingSenderId:"62411931925",appId:"1:62411931925:web:6581dc5950a7a2137fa91c",measurementId:"G-KDMQLLD16X"};function Messages(){const{0:ifdark,1:setdark}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);const{user,loading}=(0,_Accounts_useAuth__WEBPACK_IMPORTED_MODULE_3__/* .useAuth */ .a)();const nano=(0,nanoid__WEBPACK_IMPORTED_MODULE_17__/* .nanoid */ .x0)();firebase_compat_app__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z.initializeApp(firebaseConfig015,'app015');const app015=firebase_compat_app__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z.app('app015');const{0:fullSizeImage,1:setFullSizeImage}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:lockedmeUsers,1:setlockedmeUsers}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);const{0:messages,1:setMessages}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);const{0:newMessage,1:setNewMessage}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');const{0:conversations,1:setConversations}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);const{0:selectedUser,1:setSelectedUser}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const op=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);const inputRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);const text=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)("");const{0:idis,1:setIds}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const chatId11=user&&`${user.uid}-${idis}`;const chatId22=user&&`${idis}-${user.uid}`;// const chatId1 = user && user.uid;
const handleNewMessageChange=event=>{setNewMessage(event.target.value);};const{0:selectedSender,1:setSelectedSender}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:selectedreceiver,1:setSelectedreceiver}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:chatId1,1:setchatId1}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:chatId2,1:setchatId2}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{setchatId1(user&&`${user.uid}-${selectedSender===user.uid?selectedreceiver&&selectedreceiver:selectedSender&&selectedSender}`);setchatId2(user&&`${selectedreceiver===user.uid?selectedSender&&selectedSender:selectedreceiver&&selectedreceiver}-${user.uid}`);},[selectedSender,selectedreceiver]);// console.log("this is the selectedreceiver", selectedreceiver)
// console.log("this is the SelectedSender", selectedSender)
// Send message to Firebase Realtime Database
const sendMessage=event=>{event.preventDefault();const message=newMessage;const timestamp=new Date().getTime();if(!user)return;const chatRef=app015.database().ref(`chats/${chatId1}`);chatRef.once('value',snapshot=>{if(snapshot.exists()){// Chat exists, push the new message youtube
chatRef.push({message,sender:user.uid,receiver:user.uid===selectedreceiver?selectedSender:selectedreceiver,timestamp,textid:nano,read:false});}else{// Chat doesn't exist, check if chatId2 exists
const chatRef2=app015.database().ref(`chats/${chatId2}`);chatRef2.once('value',snapshot=>{if(snapshot.exists()){// Chat exists, push the new message
chatRef2.push({message,sender:user.uid,receiver:user.uid===selectedreceiver?selectedSender:selectedreceiver,timestamp,textid:nano,read:false});}else{// Chat doesn't exist, create a new chat with chatId1
chatRef.push({message,sender:user.uid,receiver:user.uid===selectedreceiver?selectedSender:selectedreceiver,timestamp,textid:nano,read:false});}});}});setNewMessage("");if(newMessage===""){contentEditableRef.current.innerHTML="";}};const{0:Imaged,1:setImaged}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');const fileInputRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);const{0:previews,1:setPreviews}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');const handleImageUpload=event=>{const file=event.target.files[0];const reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=()=>{const base64String=reader.result;setNewMessage(prev=>prev+" "+base64String);// append the base64-encoded image data to the existing message
setPreviews(base64String);// Set the current text to the new base64-encoded image data
inputRef.current=`<div class="card flex justify-content-center"><Image className="sized" src="${base64String}" zoomSrc="${base64String}" alt="Image" class="resizedImages" width="250" preview /></div>
`;};};const{0:showPicker,1:setShowPicker}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);const pickerRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{const handleClickOutside=event=>{if(pickerRef.current&&!pickerRef.current.contains(event.target)){setShowPicker(false);}};document.addEventListener("mousedown",handleClickOutside);return()=>{document.removeEventListener("mousedown",handleClickOutside);};},[pickerRef]);const handleButtonClick=()=>{setShowPicker(!showPicker);};const handleImageOrVideos=url=>{const fileExtension=url.split('.').pop().toLowerCase();if(fileExtension==='jpg'||fileExtension==='png'||fileExtension==='jpeg'||fileExtension==='gif'||fileExtension==='img'){// If the URL is pointing to an image
return`<div class="card flex w-50 justify-content-center"><Image class="sized"   src="${url}" zoomSrc="${url}" alt="Image" class="resizedImages" width="250"  preview /></div>`;}else if(fileExtension==='mp4'){// If the URL is pointing to a video
return`<video src="${url}" controls>Your browser does not support the video tag.</video>`;}else if(fileExtension==='mp3'){// If the URL is pointing to an audio file
return`<audio src="${url}" controls>Your browser does not support the audio tag.</audio>`;}else{// If the URL is not pointing to an image, video, or audio file, check if it's a YouTube link
const youtubeRegex=/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/)?([\w-]{11})(\S+)?$/;const match=url.match(youtubeRegex);if(match){// If the URL is a YouTube link, extract the video id
const videoId=match[5];return`<div className="Fit" style="position: relative; padding-bottom: 56.25%; height: 300px, width: 300px">
            <iframe
            width="300"
            height="300"
            src='https://www.youtube.com/embed/${videoId}'
            frameBorder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowFullScreen
            title="Embedded youtube"
          ></iframe>



             
               </div>`;}else{// If the URL is not pointing to an image, video, or YouTube link, return the URL
return url;}}};// const words = newMessage.split(' ');
const generateMarkup=()=>{const words=newMessage.split(' ');const elements=[];words.forEach((word,index)=>{if(word.startsWith('http')||word.startsWith('https')){const element=handleImageOrVideos(word)||/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("a",{href:word,target:"_blank",rel:"noopener noreferrer"},word);elements.push(element);}else if(word.startsWith("data:image/")){// If the word is a base64-encoded image data URL, create an <img> tag
elements.push(`<div class="card flex justify-content-center"><Image className="sized" src="${word}" zoomSrc="${word}" alt="Image" class="resizedImages" width="250" preview /></div>`);}});return elements.join('');};const{0:BlockedMe,1:setBlockedMe}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');const{0:inputVal,1:setInputValue}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");const debouncedHandleChange=lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()(event=>{const inputValue=event.target.innerHTML;setNewMessage(inputValue);if(inputValue.length<=0){setNewMessage('');}},300);const handleChange=event=>{debouncedHandleChange(event);};console.log("if this is the vals",newMessage);/*
const handlePaste = (evt) => {
  const pasteData = evt.clipboardData.getData("text/plain");
  const youtubeRegex = /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/)?([\w-]{11})(\S+)?$/i;
  const match = pasteData.match(youtubeRegex);

  if (match) {
    evt.preventDefault(); // prevent default paste behavior

    const videoId = match[5];
    const iframe = document.createElement('iframe');
    iframe.style.position = 'absolute';
    iframe.style.top = 0;
    iframe.style.left = 0;
    iframe.style.width = '50%';
    iframe.style.height = '50%';
    iframe.src = `https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1`;
    iframe.title = 'YouTube video player';
    iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
    iframe.allowFullscreen = true;

    const parser = new DOMParser();
    const doc = parser.parseFromString(evt.clipboardData.getData('text/html'), 'text/html');
    const pastedElement = doc.documentElement;

    const range = window.getSelection().getRangeAt(0);
    range.deleteContents();
    range.insertNode(iframe);
    range.insertNode(pastedElement);
  }
};

*/const handleEmojiSelect=emo=>{console.log(emo);//  setNewMessage((prevMessage) => prevMessage + emo.unified);
contentEditableRef.current.innerHTML=contentEditableRef.current.innerHTML+emo.native;};const submits=()=>{contentEditableRef.current.innerHTML=" ";};const formatDate=date=>{if(!date){return"";}const timeDiffMs=new Date()-new Date(date);const timeDiffMSec=Math.floor(timeDiffMs/1000);if(timeDiffMSec===0){return`right_now`;}const timeDiffSec=Math.floor(timeDiffMs/1000);if(timeDiffSec<60){return`${timeDiffSec} sec `;}const timeDiffMin=Math.floor(timeDiffSec/60);if(timeDiffMin<60){return`${timeDiffMin} min `;}const timeDiffHr=Math.floor(timeDiffMin/60);if(timeDiffHr<24){return`${timeDiffHr} h `;}const timeDiffDay=Math.floor(timeDiffHr/24);if(timeDiffDay<2){return`${timeDiffDay} day `;}else if(timeDiffDay<30){return`${timeDiffDay} day's `;}const timeDiffMo=Math.floor(timeDiffDay/30);if(timeDiffMo<12){return`${timeDiffMo} mo's `;}else if(timeDiffMo<1){return`${timeDiffMo} mo `;}const timeDiffYr=Math.floor(timeDiffMo/12);return`${timeDiffYr} yr's `;};console.log("if full image trigers",fullSizeImage);const{0:pic,1:setpic}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:named,1:setnamed}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:mypic,1:setmypic}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_images_proxy_jpeg__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z);const{0:myuser,1:setmyuser}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if(!user)return;app015.database().ref(`chats`).on('value',snapshot=>{if(!snapshot)return;const filteredChats=[];snapshot.forEach(childSnapshot=>{const chatValues=childSnapshot.val();const chatId=childSnapshot.key;const split=chatId.split('-');const chat=Object.values(chatValues);const otherUser=split.includes(user.uid);if(otherUser){filteredChats.push(chat);}});setConversations(filteredChats);console.log("this are the filtered chats",filteredChats);});},[user]);const handleDelete=messageId=>{const chatRef=app015.database().ref(`chats/${chatId1}`);chatRef.once('value',snapshot=>{if(snapshot.exists()){const removeRef=app015.database().ref(`chats/${chatId1}`).orderByChild('textid').equalTo(messageId);removeRef.once('value',removeSnapshot=>{if(removeSnapshot.exists()){removeSnapshot.forEach(childSnapshot=>{childSnapshot.ref.remove();});}});}else{// Chat doesn't exist, check if chatId2 exists
const chatRef2=app015.database().ref(`chats/${chatId2}`);chatRef2.once('value',snapshot=>{if(snapshot.exists()){const removeRef2=app015.database().ref(`chats/${chatId2}`).orderByChild('textid').equalTo(messageId);removeRef2.once('value',removeSnapshot=>{if(removeSnapshot.exists()){removeSnapshot.forEach(childSnapshot=>{childSnapshot.ref.remove();});}});}});};});};//  app015.database().ref(`chats/${chatId}/${messageId}`).remove();
const handleRead=()=>{const chatRef=app015.database().ref(`chats/${chatId1}`);chatRef.once('value',snapshot=>{if(snapshot.exists()){const ref=chatRef.orderByChild('receiver').equalTo(user&&user.uid);ref.once('value',snapshot=>{if(!snapshot)return;snapshot.forEach(childSnapshot=>{const message=childSnapshot.val();if(message.read===false){chatRef.child(childSnapshot.key).update({read:true});}});});}else{const chatRef2=app015.database().ref(`chats/${chatId2}`);chatRef2.once('value',snapshot=>{if(snapshot.exists()){const ref2=chatRef2.orderByChild('receiver').equalTo(user&&user.uid);ref2.once('value',snapshot=>{if(!snapshot)return;snapshot.forEach(childSnapshot=>{const message=childSnapshot.val();if(message.read===false){chatRef2.child(childSnapshot.key).update({read:true});}});});}});}});};const{0:setupidA,1:setSetupidA}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:setupDp,1:SetsetupDp}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:setupidB,1:setSetupidB}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);console.log("this are the uSerA Data chats frm M",setupidA);const{0:activate,1:setActivate}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);const{0:showBox,1:setShowBox}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if(loading!==undefined&&!loading){setTimeout(()=>{if(loading!==undefined&&!loading){window.location.href="/";}},3000);}},[loading]);const debouncedHandleUser=lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()((userId,sender,receiver,pic,name,isread)=>{setSelectedUser(userId);setMessages(conversations[userId]||[]);setnamed(name);setpic(pic);setSelectedSender(sender);receiver&&setSelectedreceiver(receiver);setActivate(true);},200);const handleUserClick=(userId,sender,receiver,pic,name,isread)=>{debouncedHandleUser(userId,sender,receiver,pic,name,isread);handleChatBoxClick();isread&&setShowBox(true);};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{handleRead();},[handleUserClick]);const Ref=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);const{0:setup,1:setSetup}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:filtered,1:setSetupfilter}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);console.log("these is the setupidA withot map ",setupidA&&setupidA);const{0:ids,1:setids}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:showUploa,1:SetshowUploa}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);const{0:newMessages,1:setNewMessages}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});if(newMessages){console.log("newMessages messages is ",newMessages);}const{0:hasRead,1:sethasRead}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{const users=[...Object.keys(conversations)].sort((a,b)=>{const aTime=conversations[a].slice().reverse()[0].timestamp;const bTime=conversations[b].slice().reverse()[0].timestamp;return bTime-aTime;});users&&users.map(userId=>{if(userId===selectedUser){const values=conversations[userId].slice().reverse()[0].sender===user.uid&&conversations[userId].slice().filter(a=>a.read===false).length;sethasRead(values);const conversation=conversations[userId][0];const sender=conversation.sender===user.uid?user.uid:conversation.sender;const receiver=conversation.receiver===user.uid?conversation.sender:conversation.receiver;const dp=setupDp&&setupDp[userId];const idA=setupidA&&setupidA[userId];handleUserClick(userId,sender,receiver,dp,idA);setNewMessages(prev=>({...prev,[userId]:0// set the count for the selected conversation to zero
}));Ref.current=null;}else if(userId!==selectedUser){var _conversations$userId;if(((_conversations$userId=conversations[userId][0])===null||_conversations$userId===void 0?void 0:_conversations$userId.sender)!==user.uid){var _conversations$userId2,_conversations$userId3;setSetup(((_conversations$userId2=conversations[userId][0])===null||_conversations$userId2===void 0?void 0:_conversations$userId2.sender)!==user.uid&&messages.filter(l=>l.sender.length).length);setSetupfilter(((_conversations$userId3=conversations[userId][0])===null||_conversations$userId3===void 0?void 0:_conversations$userId3.sender)!==user.uid&&conversations[userId].filter(l=>l.sender.length).length);}if(filtered>setup){Ref.current=filtered;}else{Ref.current=null;}}});const vals=[];users&&users.map(userId=>{conversations[userId][0].sender===user.uid?vals.push(conversations[userId][0].receiver):vals.push(conversations[userId][0].sender);});setids(vals);},[conversations]);/*
   if(userId !== selectedUser){
        
          setStore(pre => pre && conversations[userId].length > pre[userId][0].length  )

          
          }
            
          
          useEffect(() =>  {

const val = document.getElementById('blockedperson').innerText;



you are seeing this because you this user has  blocked you!

}, [])
*/const chatBoxRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);const handleChatBoxClick=()=>{scrollToRecentMessage();};const scrollToRecentMessage=()=>{if(chatBoxRef.current){const messages=chatBoxRef.current.getElementsByClassName("list-group-item");if(messages.length>0){const lastMessage=messages[messages.length-1];lastMessage.scrollIntoView({behavior:"smooth"});}}};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{scrollToRecentMessage();},[messages]);const{0:isFocused,1:setIsFocused}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);const{0:content,1:setContent}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");const handleFocus=()=>{setIsFocused(true);};const handleBlur=()=>{setIsFocused(false);};console.log("it exists ",idis);const contentEditableRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)('');const sendMesso=event=>{event.preventDefault();console.log("does it exists ",idis);if(ids===user.uid)return alert("don't send message to yourself!!");const nano=(0,nanoid__WEBPACK_IMPORTED_MODULE_17__/* .nanoid */ .x0)();const message=newMessage;const timestamp=new Date().getTime();if(!user)return;if(!idis)return;const chatRef=app015.database().ref(`chats/${chatId11}`);chatRef.once('value',snapshot=>{if(snapshot.exists()){// Chat exists, push the new message
chatRef.push({message,sender:user.uid,receiver:idis,timestamp,textid:nano,read:false});}else{// Chat doesn't exist, check if chatId2 exists
const chatRef2=app015.database().ref(`chats/${chatId22}`);chatRef2.once('value',snapshot=>{if(snapshot.exists()){// Chat exists, push the new message
chatRef2.push({message,sender:user.uid,receiver:idis,timestamp,textid:nano,read:false});}else{// Chat doesn't exist, create a new chat with chatId1
chatRef.push({message,sender:user.uid,receiver:idis,timestamp,textid:nano,read:false});}});}});setNewMessage("");setPreviews("");if(newMessage===""){contentEditableRef.current.innerHTML="";}};const{0:showmuted,1:setshowmuted}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);const{0:createmessage,1:setCreatemesage}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);const{0:searchval,1:setSearchVal}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);const{0:searchId,1:setSearchId}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);console.log("this is the val fi id  ",searchval);console.log("this is the seadcc tis fi id  ",searchId);const renderUsers=()=>{const users=[...Object.keys(conversations)].sort((a,b)=>{const aTime=conversations[a].slice().reverse()[0].timestamp;const bTime=conversations[b].slice().reverse()[0].timestamp;return bTime-aTime;});if(searchval){const users=[...Object.keys(conversations)].sort((a,b)=>{const aTime=conversations[a].slice().reverse()[0].timestamp;const bTime=conversations[b].slice().reverse()[0].timestamp;return bTime-aTime;});users&&users.map(userId=>{console.log("if this two are equal props shows props",searchval&&searchval.toLowerCase()===(setupidA&&setupidA[userId]&&setupidA[userId].toLowerCase()));console.log(searchval&&searchval);console.log(setupidA&&setupidA);console.log("if this two are equal props shows good really",searchval&&searchval.toLowerCase(),setupidA&&setupidA[userId]&&setupidA[userId].toLowerCase());});}console.log('show those who blocked me ',lockedmeUsers);return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z,null,users&&users.map(userId=>searchval&&searchval.length>1?searchval&&searchval.toLowerCase()===(setupidA&&setupidA[userId]&&setupidA[userId].toLowerCase())&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z.Item,{key:userId,active:userId===selectedUser,style:{display:BlockedMe&&BlockedMe.some(a=>Array.isArray(a)&&a.includes(setupidA&&setupidA[userId[0]]))?"none":"block",background:userId===selectedUser&&"#fbfcff",borderRight:userId===selectedUser&&"none",borderColor:userId===selectedUser&&"yellowgreen"},onClick:()=>{var _conversations$userId4;const conversation=conversations[userId][0];const sender=conversation.sender===user.uid?user.uid:conversation.sender;const receiver=conversation.receiver===user.uid?conversation.sender:conversation.receiver;const dp=setupDp&&setupDp[userId];const idA=setupidA&&setupidA[userId];const timestamp=(_conversations$userId4=conversations[userId])===null||_conversations$userId4===void 0?void 0:_conversations$userId4.slice().reverse()[0].timestamp;handleUserClick(userId,sender,receiver,dp,idA,timestamp);},onTouchEnd:()=>{var _conversations$userId5;const conversation=conversations[userId][0];const sender=conversation.sender===user.uid?user.uid:conversation.sender;const receiver=conversation.receiver===user.uid?conversation.sender:conversation.receiver;const dp=setupDp&&setupDp[userId];const idA=setupidA&&setupidA[userId];const timestamp=(_conversations$userId5=conversations[userId])===null||_conversations$userId5===void 0?void 0:_conversations$userId5.slice().reverse()[0].timestamp;handleUserClick(userId,sender,receiver,dp,idA,timestamp);}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_MessageDrawer__WEBPACK_IMPORTED_MODULE_7__["default"],{personid:conversations[userId][0].sender===user.uid?conversations[userId][0].receiver:conversations[userId][0].sender,setmypic:setmypic,showmuted:showmuted,setshowmuted:setshowmuted,setlockedmeUsers:setlockedmeUsers,setmyuser:setmyuser,setupDp:setupDp,SetsetupDp:SetsetupDp,userId:userId,setupid:setupidA,setSetupidA:setSetupidA,conversations:conversations,setup:setupidA,setupidA:[userId][0],searchval:searchval,setSearchId:setSearchId,setBlockedMe:setBlockedMe,BlockedMe:BlockedMe,Ref:conversations[userId].slice().reverse()[0].receiver===user.uid&&conversations[userId].filter(a=>a.receiver===user.uid).slice().filter(a=>a.read===false).length,SetupidA:setSetupidA,SetupidB:setSetupidB,idB:user&&user.uid,idA:ids,text:userId!==selectedUser?conversations[userId].slice().reverse()[0].message.length>50?conversations[userId].slice().reverse()[0].message.slice(0,50)+"...":conversations[userId].slice().reverse()[0].message:"",time:formatDate(conversations[userId].slice().reverse()[0].timestamp)})):/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z.Item,{key:userId,active:userId===selectedUser,style:{display:BlockedMe&&BlockedMe.some(a=>a&&a.includes(setupidA&&setupidA[userId[0]]))&&"none",background:userId===selectedUser&&"#fbfcff",borderRight:userId===selectedUser&&"none",borderColor:userId===selectedUser&&"yellowgreen"},onClick:()=>{var _conversations$userId6;const conversation=conversations[userId][0];const sender=conversation.sender===user.uid?user.uid:conversation.sender;const receiver=conversation.receiver===user.uid?conversation.sender:conversation.receiver;const dp=setupDp&&setupDp[userId];const idA=setupidA&&setupidA[userId];const timestamp=(_conversations$userId6=conversations[userId])===null||_conversations$userId6===void 0?void 0:_conversations$userId6.slice().reverse()[0].timestamp;handleUserClick(userId,sender,receiver,dp,idA,timestamp);},onTouchEnd:()=>{var _conversations$userId7;const conversation=conversations[userId][0];const sender=conversation.sender===user.uid?user.uid:conversation.sender;const receiver=conversation.receiver===user.uid?conversation.sender:conversation.receiver;const dp=setupDp&&setupDp[userId];const idA=setupidA&&setupidA[userId];const timestamp=(_conversations$userId7=conversations[userId])===null||_conversations$userId7===void 0?void 0:_conversations$userId7.slice().reverse()[0].timestamp;handleUserClick(userId,sender,receiver,dp,idA,timestamp);}},BlockedMe&&BlockedMe.includes(conversations[userId][0].receiver===user.uid?conversations[userId][0].sender:conversations[userId][0].receiver)?"":/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_MessageDrawer__WEBPACK_IMPORTED_MODULE_7__["default"],{personid:conversations[userId][0].sender===user.uid?conversations[userId][0].receiver:conversations[userId][0].sender,setmypic:setmypic,showmuted:showmuted,setshowmuted:setshowmuted,setlockedmeUsers:setlockedmeUsers,setmyuser:setmyuser,setupDp:setupDp,SetsetupDp:SetsetupDp,userId:userId,setupid:setupidA,setSetupidA:setSetupidA,conversations:conversations,setup:setupidA,setBlockedMe:setBlockedMe,BlockedMe:BlockedMe,setupidA:[userId][0],searchval:searchval,setSearchId:setSearchId,Ref:conversations[userId].slice().reverse()[0].receiver===user.uid&&conversations[userId].filter(a=>a.receiver===user.uid).slice().filter(a=>a.read===false).length,SetupidA:setSetupidA,SetupidB:setSetupidB,idB:user&&user.uid,idA:ids,text:userId!==selectedUser?conversations[userId].slice().reverse()[0].message.length>50?conversations[userId].slice().reverse()[0].message.slice(0,50)+"...":conversations[userId].slice().reverse()[0].message:"",time:formatDate(conversations[userId].slice().reverse()[0].timestamp)}))));};const{0:showtextArea,1:setShowTextArea}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);const{0:zoomLevel,1:setZoomLevel}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);const zoomIn=()=>{setZoomLevel(zoomLevel+0.1);};const zoomOut=()=>{if(zoomLevel>1){setZoomLevel(zoomLevel-0.1);}};const{0:showBin,1:setshowBin}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);function revert(){setShowTextArea(false);setIds(null);}const initialState={};messages.forEach(message=>{initialState[message.textid]=false;});const{0:buttonState,1:setButtonState}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState);const renderMessages=()=>{// if (!selectedUser) return null;
return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z,{ref:chatBoxRef},messages.map(message=>/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z.Item,{key:message.textid},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{display:"flex",position:"fixed",top:"0",zIndex:"102"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button",{onTouchEnd:()=>setShowBox(false),onClick:()=>setShowBox(false),style:{background:"transparent",border:"none",color:"#fefeff"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{className:"bchevro",style:{paddingTop:"8px",fontSize:"1.6rem",marginLeft:"-7px",marginRight:"8px"},icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faChevronLeft */ .A35})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("img",{alt:named&&named,className:"mt-1 img-circle medium-image",src:pic&&pic}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(gatsby__WEBPACK_IMPORTED_MODULE_14__.Link,{style:{color:"gray",fontWeight:" bold",fontStyle:" italic",fontFamily:"helvantica",fontSmooth:"auto"},to:`/profileComponents/Profiles/?id=${message.sender}`},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("h4",{style:{marginTop:"14px"}},named&&named," "))),message.sender===user.uid?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_MessageA__WEBPACK_IMPORTED_MODULE_8__["default"],{mypic:mypic,fullSizeImage:fullSizeImage,setFullSizeImage:setFullSizeImage,setmypic:setmypic,myuser:myuser,setmyuser:setmyuser,setupidA:setupidA,setupidB:setupidB,hasRead:hasRead,time:formatDate(message.timestamp),message:message.message,lockedmeUsers:lockedmeUsers,setlockedmeUsers:setlockedmeUsers}):/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_MessageB__WEBPACK_IMPORTED_MODULE_9__["default"],{pic:pic,fullSizeImage:fullSizeImage,setFullSizeImage:setFullSizeImage,named:named,setupidA:setupidA,setupidB:setupidB,personid:message.sender===user.uid?message.receiver:message.sender,message:message.message,lockedmeUsers:lockedmeUsers,setlockedmeUsers:setlockedmeUsers,time:formatDate(message.timestamp)}),message.sender===user.uid&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button",{onClick:()=>setButtonState(prevState=>({...prevState,[message.textid]:!prevState[message.textid]})),style:{background:"transparent",border:"none",color:"black",float:"right",marginLeft:"10px"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faEllipsis */ .S6C})),buttonState[message.textid]&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(primereact_button__WEBPACK_IMPORTED_MODULE_21__/* .Button */ .z,{variant:"link",style:{float:"right",marginTop:"-10px"},onClick:()=>handleDelete(message.textid)},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{style:{color:'darkred',fontSize:"1.1rem"},icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faTrash */ .$aW})))))));};/*   
                    className="container bg-danger  w-100 m-0 p-0   y-0 x-0"     
    style={{heigh : "100px"} debounce
      className={`panel messages-panel  ${showBox ? 'messosize' : "" } `}  */ /*
      const users = [...Object.keys(conversations)].sort((a, b) => {
        const aTime = conversations[a]?.slice()?.reverse()?.[0]?.timestamp;
        const bTime = conversations[b]?.slice()?.reverse()?.[0]?.timestamp;
        return bTime - aTime;
      });
      
      const messoLength = users && users.map((userId) => (
        conversations[userId]?.slice()
          .reverse()?.[0]?.receiver === user.uid &&
        conversations[userId]?.slice().filter(a => a.receiver === user.uid)
          .filter(a => !a.read)
          .length || 0
      ));
      
      const totalLength = messoLength.reduce((total, length) => total + (length ? length : 0), 0);
      */if(!user||!app015.database().ref('chats')){return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",null,"Loading");}return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment),null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_Navbar__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z,{setLight:setdark})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{background:ifdark&&" black"},id:ifdark?"darkmode":"lightmode",className:`${ifdark&&"bg-dark darkmode "}  `},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{marginTop:"-15px",height:"fit-content"}},fullSizeImage&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{id:"myModal",className:"moda  "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span",{onClick:()=>setFullSizeImage(null),className:"close"},"\xD7"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{marginBottom:"100px",width:"100%",height:"100%",margin:"auto",alignItems:"center",display:"flex",flexDirection:"column"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{display:"inline-block",float:"right",marginTop:"-45px"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span",{onClick:zoomIn,style:{cursor:"pointer"},className:"m-3  text-light "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{className:"hover-text-light",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faMagnifyingGlassPlus */ .q9v})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span",{onClick:zoomOut,style:{cursor:"pointer",color:zoomLevel>1&&"white"},className:"m-3 hover-text-light "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{className:"",icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faMagnifyingGlassMinus */ .Wq6}))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("img",{style:{width:`${50*zoomLevel}%`,textAlign:"center",justifySelf:"center",marginLeft:"auto",marginRight:"auto"},zoomSrc:fullSizeImage,src:fullSizeImage,alt:"Full-size Image",preview:true}))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{height:"100vh",position:"fixed",left:"0",top:"70px",bottom:"0",background:"azure"}}," ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:`contacts-list   ${showBox?"contacts-li":"contacts-lili"}`},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"inbox-categories  "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{onClick:()=>setshowmuted(false),"data-toggle":"tab","data-target":"#inbox",style:{color:showmuted&&"black",borderBottomColor:"black"},className:`${!showmuted&&"active"}`}," Chats "),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{onClick:()=>setshowmuted(true),className:`${showmuted&&'active'}`,"data-toggle":"tab","data-target":"#marked"}," Muted ")),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"tab-content  "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{id:"inbox",className:"contacts-outter-wrapper tab-pane active "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("input",{type:"text",className:"form-control",value:searchval,onChange:e=>setSearchVal(e.target.value),name:"search",placeholder:" Search"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("span",{className:"fa fa-search form-control-feedback"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"contacts-outter "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("ul",{className:"list-unstyled contacts"},renderUsers())))))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:`${!showBox&&"dnoned"} backis`,style:{marginBottom:"0",marginTop:"5px",marginBottom:"20px",height:"100vh"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"tab-content   "},"    ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"tab-pane message-body active  ",id:"inbox-message-1"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"message-top  bg-dark bgg asided",style:{position:"fixed",top:'0',zIndex:"101",background:"none",width:"fit-content"}},!selectedUser&&!createmessage&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button",{style:{background:"transparent",border:"none"},onClick:()=>setCreatemesage(true),className:"btn btn btn-success new-message bg-dark text-light  float-left"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faEnvelopeOpenText */ .mSY,style:{cursor:"pointer",color:"yellowgreen"},type:"submit"})," New Message"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"new-message-wrappe "},createmessage&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:" form-group"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_MessageUsers__WEBPACK_IMPORTED_MODULE_10__["default"],{setCreatemesage:setCreatemesage,selectedUser:selectedUser,setId:setIds,setShowTextArea:setShowTextArea})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"chat-footer new-message-textarea d-none h-10 positon-absolute top-0 z-index-3 bg-dark",style:{zIndex:"4"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(primereact_inputtextarea__WEBPACK_IMPORTED_MODULE_22__/* .InputTextarea */ .g,{className:"send-message-text bg-light"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("label",{className:"upload-file"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("input",{type:"file",required:"",className:"bg-dark"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faLink */ .nNP,style:{cursor:"pointer",color:"yellowgreen"},type:"submit"})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button",{type:"button",className:"send-message-button btn-info"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faPaperPlane */ .XCy,style:{cursor:"pointer",color:"yellowgreen"},type:"submit",disabled:!selectedUser}))))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:`{ message-chat  ${!showBox&&"message-chated"} } bg-dark`},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"chat-body bg-success h-100  bg-dark",style:{marginBottom:"60px"}},renderMessages(),showtextArea&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{position:"absolute",top:"25%",bottom:"25%",justifySelf:"center",alignItems:"center"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(primereact_button__WEBPACK_IMPORTED_MODULE_21__/* .Button */ .z,{severity:"danger",outlined:true,onClick:revert},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faTimes */ .NBC})," "),lockedmeUsers.some(id=>id===selectedreceiver)?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{background:"black",color:"white",position:"fixed",bottom:"0"}},"  you are seeing this because this user blocked you! "):/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z,{className:"bg-light",onSubmit:sendMesso},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z.Group,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{id:"containered",className:"text-muted d-flex justify-content-start align-items-center pe-3 pt-3 mt-2   w-100 "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("img",{src:mypic,alt:user.uid,style:{width:"40px",height:"100%"}}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"input-box b-dark h-100 fom-control fom-control-lg mb-2 h-auto",ref:contentEditableRef,contentEditable:true,onInput:handleChange,dangerouslySetInnerHTML:{__html:generateMarkup()},spellCheck:true,style:{height:'fit-content',// minHeight: "50px",
marginLeft:'auto',minHeight:"fit-content",background:"white",marginRight:'auto',overflow:'scroll',width:"40vw",border:"1px solid grey",padding:"20px 10px",color:"black",border:"1px solid #ccc",padding:"5px"},placeholder:"Text here ...",onFocus:handleFocus,onBlur:handleBlur}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{display:"flex",justifyContent:"space-evenly",background:"white"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("input",{type:"file",accept:"image/*",onChange:handleImageUpload//onKeyDown = {ha}
,ref:fileInputRef,style:{display:'none'}// hide the input element initially
}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("label",{className:"positions",htmlFor:"file-input",onClick:()=>fileInputRef.current.click()},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{style:{fontSize:"1.3rem",marginLeft:"10px",cursor:"pointer",color:"black"},icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faImages */ .l9f})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(primereact_button__WEBPACK_IMPORTED_MODULE_21__/* .Button */ .z,{onClick:handleButtonClick,type:"button",className:"hideit ms-0 p-1 ml-3 text-mute",style:{background:"transparent",border:"none"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{style:{fontSize:"1.3rem",color:"#ffcb4d",cursor:"pointer"},icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faSmile */ .ctA})),showPicker&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{ref:pickerRef},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_emoji_mart_react__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z,{data:_emoji_mart_data__WEBPACK_IMPORTED_MODULE_24__,onEmojiSelect:handleEmojiSelect,style:{position:"absolute",bottom:"100%",right:"0"}})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button",{style:{fontSize:"1.3rem",cursor:"pointer",background:"none",border:"none",hover:"green"},className:"hovered ms-3 text-muted"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faPaperPlane */ .XCy,style:{cursor:"pointer",color:"yellowgreen"},type:"submit"})))))))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{width:"100%",height:"70px",background:"rgb(251, 252, 255)",backgroundColor:"#f8f8f8",position:"fixed",bottom:"0",zIndex:"101"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{width:"60%",background:"#fbfcff",height:"fit-content",zIndex:"102"},className:"chat-foote ml-0 mr-0 w-70   position-fixed bottom-0 bg-light "},lockedmeUsers.some(id=>id===selectedreceiver)?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{background:"black",color:"white",position:"fixed",bottom:"0"}},"  you are seeing this because this user blocked you! "):/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z,{className:"bg-light",onSubmit:event=>sendMessage(event)},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z.Group,null,activate&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{id:"containered",className:"text-muted d-flex justify-content-start align-items-center pe-3 pt-3 mt-2   w-100 "},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"inheri",style:{backgroundColor:"white",width:"76vw",overflowY:"scroll",position:" absolute",bottom:"0",left:"0",right:"0",maxHeight:"150px",display:"flex"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("img",{src:mypic,alt:user.uid,style:{width:"40px",height:"100%"}}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:"input-box b-dark h-100 fom-control fom-control-lg mb-2 h-auto",ref:contentEditableRef,contentEditable:true,onInput:handleChange,dangerouslySetInnerHTML:{__html:generateMarkup()},spellCheck:true,style:{height:'fit-content',// minHeight: "50px",
marginLeft:'auto',minHeight:"fit-content",background:"white",marginRight:'auto',overflow:'scroll',width:"100%",border:"1px solid grey",padding:"20px 10px",color:"black",border:"1px solid #ccc",borderRadius:"5px",padding:"10px 20px"},placeholder:"Text here ...",onFocus:handleFocus,onBlur:handleBlur}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{style:{display:"flex",justifyContent:"space-evenly",background:"white",alignItems:"center"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("input",{type:"file",accept:"image/*",onChange:handleImageUpload//onKeyDown = {ha}
,ref:fileInputRef,style:{display:'none'}// hide the input element initially
}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("label",{className:"positions",htmlFor:"file-input",onClick:()=>fileInputRef.current.click()},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{style:{fontSize:"1.3rem",marginLeft:"10px",cursor:"pointer",color:"black"},icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faImages */ .l9f})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(primereact_button__WEBPACK_IMPORTED_MODULE_21__/* .Button */ .z,{onClick:handleButtonClick,type:"button",className:"hideit ms-0 p-1 ml-3 text-mute",style:{background:"transparent",border:"none"}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{style:{fontSize:"1.3rem",color:"#ffcb4d",cursor:"pointer"},icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faSmile */ .ctA})),showPicker&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{ref:pickerRef},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_emoji_mart_react__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z,{data:_emoji_mart_data__WEBPACK_IMPORTED_MODULE_24__,onEmojiSelect:handleEmojiSelect,style:{position:"absolute",bottom:"100%",right:"0"}})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement("button",{onClick:submits,style:{fontSize:"1.3rem",cursor:"pointer",background:"none",border:"none",hover:"green",marginLeft:"10px",marginRight:"10px"},className:"hovered ms-3 text-muted"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__/* .FontAwesomeIcon */ .G,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_20__/* .faPaperPlane */ .XCy,style:{cursor:"pointer",color:"yellowgreen"},type:"submit"}))))))))))))))));}

/***/ })

};
;
//# sourceMappingURL=component---src-pages-profile-components-messages-js.js.map