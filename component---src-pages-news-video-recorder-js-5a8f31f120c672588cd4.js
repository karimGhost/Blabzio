"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[5691],{4405:function(e,t,a){a.d(t,{a:function(){return i}});var n=a(7294),r=(a(6118),a(1019),a(4866));a(9319),a(6267),a(6953);const o={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function i(){r.Z.initializeApp(o,"app05");const e=r.Z.app("app05"),t=e,{0:a,1:i}=(0,n.useState)(null),{0:s,1:d}=(0,n.useState)();return(0,n.useEffect)((()=>{const t=e.auth().onAuthStateChanged((e=>{e?(i(e),d(!0)):(i(null),d(!1))}));return()=>t()}),[]),{apps:t,user:a,setUser:i,app05:e,loading:s,signInWithEmailAndPassword:function(t,a){return e.auth().signInWithEmailAndPassword(t,a)},signOut:function(){return i(""),e.auth().signOut()}}}},6109:function(e,t,a){a.r(t);var n=a(5785),r=a(7294),o=a(4405);t.default=e=>{const t="video/webm",{user:a}=(0,o.a)(),{0:i,1:s}=(0,r.useState)("inactive"),{0:d,1:c}=(0,r.useState)([]),l=e.facingMode,u=e.setFacingMode,m=e.stream,p=(e.setStream,e.liveVideoFeed),b=e.permission,y=e.setPermission,g=e.recordedVideo,h=e.setRecordedVideo,f=e.mediaRecorder;(0,r.useEffect)((()=>{b&&p.current&&m&&(p.current.srcObject=m)}),[b,m]);e.recordedVideos;const v=e.setRecordedVideos;return r.createElement("div",null,r.createElement("main",{className:e.showVid&&" boxmain"},r.createElement("div",{className:"video-controls"}),b&&p?r.createElement("div",{style:{position:"relative"},className:"video-player"},"recording"===i&&r.createElement("span",{style:{color:"red"}}," ",r.createElement("ul",null,r.createElement("li",{style:{color:"red",position:"absolute",zIndex:"20"},className:"recordmode"},i))),r.createElement("video",{className:"live-player  m-50",ref:p,autoPlay:!0,playsInline:!0}),b&&"inactive"===i?r.createElement("button",{style:{zIndex:"20",position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",background:"transparent",border:"2px solid green",borderRadius:"50%",width:"3rem",height:"3rem"},onClick:async()=>{s("recording");const e=new MediaRecorder(m,{mimeType:t});f.current=e,f.current.start();let a=[];f.current.ondataavailable=e=>{void 0!==e.data&&0!==e.data.size&&a.push(e.data)},c(a)},type:"button"},r.createElement("i",{style:{display:"block",width:"2rem",height:"2rem",padding:"4px",background:"red",borderRadius:"50%",margin:"1px auto"}},"s")):null,"recording"===i?r.createElement("button",{style:{zIndex:"20",position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",background:"transparent",border:"2px solid red",borderRadius:"50%",width:"3rem",height:"3rem"},onClick:()=>{y(!1),s("inactive"),f.current.stop(),f.current.onstop=()=>{const e=new Blob(d,{type:t}),a=URL.createObjectURL(e);h(a),c([])}},type:"button"},r.createElement("i",{style:{display:"block",width:"2rem",height:"2rem",padding:"4px",background:"green",borderRadius:"50%",margin:"1px auto"}},"p")):null,"inactive"===i&&r.createElement("button",{style:{position:"absolute",zIndex:"20",top:"0",right:"0"},type:"button",onClick:async()=>{m&&m.getTracks().forEach((e=>e.stop()));u("user"===l?"environment":"user"),await getCameraPermission()}}," switchcam ")):null,!b&&g?r.createElement("div",{className:"video-player"},r.createElement("video",{className:"recorded-player",src:g,controls:!0,autoPlay:!0}),r.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"}},r.createElement("button",{onClick:()=>(e=>{const t={user:a.uid,id:nanoid(),recordedVideo:e};v((e=>[].concat((0,n.Z)(e),[t]))),setShowVid(!1)})(g)},"post Video"),r.createElement("button",{onClick:e.getCameraPermission},"retake video"))):null))}},6118:function(e,t,a){a(1435),a(4444),a(389),a(3333),a(8463)}}]);
//# sourceMappingURL=component---src-pages-news-video-recorder-js-5a8f31f120c672588cd4.js.map