"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[3251],{7477:function(e,t,n){n.r(t);var l=n(5785),r=n(7294),a=n(5212),i=n.n(a),c=n(4866),s=n(3416),o=n(9583);const u={apiKey:"AIzaSyChFGTB5YEugUKho-YqcWVZtKJG3PIrtt0",authDomain:"thewall-10a4a.firebaseapp.com",databaseURL:"https://thewall-10a4a-default-rtdb.firebaseio.com",projectId:"thewall-10a4a",storageBucket:"thewall-10a4a.appspot.com",messagingSenderId:"221023885061",appId:"1:221023885061:web:bc550d03edd2fbf60e496c",measurementId:"G-7V80059NF7"};t.default=()=>{const e="000";c.Z.initializeApp(u,"app212121");const t=c.Z.app("app212121"),{0:n,1:a}=(0,r.useState)(!1),{0:m,1:d}=(0,r.useState)(null),{0:p,1:f}=(0,r.useState)([]),{0:h,1:v}=(0,r.useState)(""),b=(0,r.useRef)(null),E=(0,r.useRef)(null);return r.createElement("div",{className:"container mt-4"},r.createElement("h1",null," welll should iot function fnfnkingr"),r.createElement("video",{className:"video-player",ref:E,src:m,controls:!0}),r.createElement("div",null,r.createElement("button",{onClick:async()=>{if(n)b.current.stopRecording((()=>{const e=b.current.getBlob(),t=URL.createObjectURL(e);d(t)}));else{const e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),t=new(i())(e,{type:"video",mimeType:"video/webm"});b.current=t,t.startRecording()}a(!n)},className:"btn btn-primary mr-2"},n?r.createElement(o.JuG,null):r.createElement(o.gmG,null)),m&&r.createElement("button",{onClick:()=>{const n=(0,s.x0)(),l=e.uid;t.ref("videos").child(n).set({videoUrl:m,userId:l,likes:0,dislikes:0,comments:[]}),a(!1),d(null)},className:"btn btn-success"},r.createElement(o.l_A,null)," Publish")),r.createElement("div",null,r.createElement("h2",null,"Comments"),r.createElement("div",{className:"comment-section"},p.map((e=>r.createElement("div",{key:e.id},r.createElement("p",null,e.text),r.createElement("div",null,r.createElement("button",{onClick:()=>(e=>{const n=p.map((t=>t.id===e?{...t,likes:t.likes+1}:t));f(n),t.ref("comments").child(e).update({likes:c.Z.database.ServerValue.increment(1)})})(e.id)},r.createElement(o.spm,null)," ",e.likes),r.createElement("button",{onClick:()=>(e=>{const n=p.map((t=>t.id===e?{...t,dislikes:t.dislikes+1}:t));f(n),t.ref("comments").child(e).update({dislikes:c.Z.database.ServerValue.increment(1)})})(e.id)},r.createElement(o.bGJ,null)," ",e.dislikes),r.createElement("button",{onClick:()=>(e=>{const t=p.map((t=>t.id===e?{...t,showReplies:!t.showReplies}:t));f(t)})(e.id)},r.createElement(o.Bjt,null)," ",e.replies.length," Replies")),e.replies.length>0&&r.createElement("div",null,e.replies.map((e=>r.createElement("p",{key:e.id},e.text)))),e.showReplies&&r.createElement("div",null,r.createElement("input",{type:"text",value:h,onChange:e=>v(e.target.value),placeholder:"Reply to this comment"}),r.createElement("button",{onClick:()=>((e,n)=>{const r=p.map((t=>t.id===e?{...t,replies:[].concat((0,l.Z)(t.replies),[{id:(0,s.x0)(),text:n}])}:t));f(r),t.ref("comments").child(e).child("replies").push({id:(0,s.x0)(),text:n})})(e.id,h)},r.createElement(o.Bjt,null)," Reply"))))),r.createElement("div",null,r.createElement("input",{type:"text",value:h,onChange:e=>v(e.target.value),placeholder:"Add a comment"}),r.createElement("button",{onClick:()=>{if(""!==h.trim()){const n=(0,s.x0)(),l={text:h,userId:e.uid,likes:0,dislikes:0,replies:[]};t.ref("comments").child(n).set(l),v("")}}},"Add Comment")))))}},7090:function(e,t,n){n.d(t,{w_:function(){return o}});var l=n(7294),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=l.createContext&&l.createContext(r),i=function(){return i=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},c=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]])}return n};function s(e){return e&&e.map((function(e,t){return l.createElement(e.tag,i({key:t},e.attr),s(e.child))}))}function o(e){return function(t){return l.createElement(u,i({attr:i({},e.attr)},t),s(e.child))}}function u(e){var t=function(t){var n,r=e.attr,a=e.size,s=e.title,o=c(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),l.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&l.createElement("title",null,s),e.children)};return void 0!==a?l.createElement(a.Consumer,null,(function(e){return t(e)})):t(r)}},3416:function(e,t,n){n.d(t,{x0:function(){return l}});let l=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);
//# sourceMappingURL=component---src-pages-news-video-uploader-js-d3565b3243c94108c740.js.map