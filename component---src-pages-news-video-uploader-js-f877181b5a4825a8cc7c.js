"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[3251],{4405:function(e,t,n){n.d(t,{a:function(){return i}});var a=n(7294),l=(n(6118),n(1019),n(4866));n(9319),n(6267),n(6953);const r={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function i(){l.Z.initializeApp(r,"app05");const e=l.Z.app("app05"),t=e,{0:n,1:i}=(0,a.useState)(null),{0:s,1:c}=(0,a.useState)();return(0,a.useEffect)((()=>{const t=e.auth().onAuthStateChanged((e=>{e?(i(e),c(!0)):(i(null),c(!1))}));return()=>t()}),[]),{apps:t,user:n,setUser:i,app05:e,loading:s,signInWithEmailAndPassword:function(t,n){return e.auth().signInWithEmailAndPassword(t,n)},signOut:function(){return i(""),e.auth().signOut()}}}},7477:function(e,t,n){n.r(t);n(5785);var a=n(7294),l=n(5212),r=n.n(l),i=n(4866),s=n(3416),c=n(9583),o=n(4405);const u={apiKey:"AIzaSyChFGTB5YEugUKho-YqcWVZtKJG3PIrtt0",authDomain:"thewall-10a4a.firebaseapp.com",databaseURL:"https://thewall-10a4a-default-rtdb.firebaseio.com",projectId:"thewall-10a4a",storageBucket:"thewall-10a4a.appspot.com",messagingSenderId:"221023885061",appId:"1:221023885061:web:bc550d03edd2fbf60e496c",measurementId:"G-7V80059NF7"};t.default=()=>{const{user:e,setUser:t,loading:n,signOut:l}=(0,o.a)();i.Z.initializeApp(u,"app212121");const d=i.Z.app("app212121"),{0:m,1:p}=(0,a.useState)(!1),{0:f,1:h}=(0,a.useState)(null),{0:b,1:v}=(0,a.useState)([]),{0:g,1:E}=(0,a.useState)(""),y=(0,a.useRef)(null),k=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=database.ref("comments");return e.on("value",(e=>{const t=e.val();if(t){const e=Object.keys(t).map((e=>({id:e,...t[e]})));v(e)}})),()=>e.off("value")}),[e,d]);return a.createElement("div",{className:"container mt-4"},a.createElement("h1",null," welll should iot function fnfnkingr"),a.createElement("video",{className:"video-player",ref:k,src:f,controls:!0}),a.createElement("div",null,a.createElement("button",{onClick:async()=>{if(m)y.current.stopRecording((()=>{const e=y.current.getBlob(),t=URL.createObjectURL(e);h(t)})),p(!1);else{const e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),t=new(r())(e,{type:"video",mimeType:"video/webm"});y.current=t,t.startRecording();const n=new MediaStream;n.addTrack(e.getVideoTracks()[0]),n.addTrack(e.getAudioTracks()[0]),k.current.srcObject=n,p(!0)}},className:"btn btn-primary mr-2"},m?a.createElement(c.JuG,null):a.createElement(c.gmG,null)),f&&a.createElement("button",{onClick:()=>{if(!e)return;const t=(0,s.x0)(),n=e.uid;d.ref("videos").child(t).set({videoUrl:f,userId:n,likes:0,dislikes:0,comments:[]}),p(!1),h(null)},className:"btn btn-success"},a.createElement(c.l_A,null)," Publish")),a.createElement("div",null,a.createElement("h2",null,"Comments"),a.createElement("div",{className:"comment-section"},b.map((e=>a.createElement("div",{key:e.id&&e.id},a.createElement("p",null,e.text&&e.text),a.createElement("div",null,a.createElement("button",{onClick:()=>(e=>{const t=b.map((t=>t.id===e?{...t,likes:t.likes+1}:t));v(t),d.ref("comments").child(e).update({likes:i.Z.hhh.ServerValue.increment(1)})})(e.id)},a.createElement(c.spm,null)," ",e.likes&&e.likes),a.createElement("button",{onClick:()=>(e=>{const t=b.map((t=>t.id===e?{...t,dislikes:t.dislikes+1}:t));v(t),d.ref("comments").child(e).update({dislikes:i.Z.hhh.ServerValue.increment(1)})})(e.id)},a.createElement(c.bGJ,null)," ",e.dislikes&&e.dislikes),a.createElement("button",{onClick:()=>(e=>{const t=b.map((t=>t.id===e?{...t,showReplies:!t.showReplies}:t));v(t)})(e.id)},a.createElement(c.Bjt,null)," ",e.replies&&e.replies.length," Replies")),e.replies&&e.replies.length>0&&a.createElement("div",null,e.replies.map((e=>a.createElement("p",{key:e.id&&e.id},e.text&&e.text)))),e.showReplies&&a.createElement("div",null,a.createElement("input",{type:"text",value:g,onChange:e=>E(e.target.value),placeholder:"Reply to this comment"}),a.createElement("button",null,a.createElement(c.Bjt,null)," Reply"))))),a.createElement("div",null,a.createElement("input",{type:"text",value:g,placeholder:"Add a comment"}),a.createElement("button",null,"Add Comment")))))}},7090:function(e,t,n){n.d(t,{w_:function(){return o}});var a=n(7294),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=a.createContext&&a.createContext(l),i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},i.apply(this,arguments)},s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n};function c(e){return e&&e.map((function(e,t){return a.createElement(e.tag,i({key:t},e.attr),c(e.child))}))}function o(e){return function(t){return a.createElement(u,i({attr:i({},e.attr)},t),c(e.child))}}function u(e){var t=function(t){var n,l=e.attr,r=e.size,c=e.title,o=s(e,["attr","size","title"]),u=r||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,o,{className:n,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==r?a.createElement(r.Consumer,null,(function(e){return t(e)})):t(l)}},6118:function(e,t,n){n(1435),n(4444),n(389),n(3333),n(8463)},3416:function(e,t,n){n.d(t,{x0:function(){return a}});let a=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")}}]);
//# sourceMappingURL=component---src-pages-news-video-uploader-js-f877181b5a4825a8cc7c.js.map