{"version":3,"file":"component---src-pages-profile-components-messages-js-3acc6a95305f6fe1f319.js","mappings":"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","sources":["webpack://blabzio/./node_modules/fast-deep-equal/index.js","webpack://blabzio/./src/pages/profileComponents/MessageA.js","webpack://blabzio/./src/pages/profileComponents/MessageB.js","webpack://blabzio/./node_modules/primereact/skeleton/skeleton.esm.js","webpack://blabzio/./src/pages/profileComponents/MessageDrawer.js","webpack://blabzio/./src/pages/profileComponents/MessageUsers.js","webpack://blabzio/./node_modules/@restart/ui/esm/TabContext.js","webpack://blabzio/./node_modules/@restart/ui/esm/NavItem.js","webpack://blabzio/./node_modules/@restart/ui/esm/Nav.js","webpack://blabzio/./node_modules/react-bootstrap/esm/ListGroupItem.js","webpack://blabzio/./node_modules/react-bootstrap/esm/ListGroup.js","webpack://blabzio/./node_modules/primereact/inputtextarea/inputtextarea.esm.js","webpack://blabzio/./src/pages/profileComponents/Messages.js","webpack://blabzio/./node_modules/react-contenteditable/lib/react-contenteditable.js","webpack://blabzio/./node_modules/react-lazy-load/dist/LazyLoad.js"],"sourcesContent":["'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import React, { useState, useEffect ,useRef} from 'react';\nimport firebase from 'firebase/compat/app';\nimport { useAuth } from '../../Accounts/useAuth';\nimport { nanoid } from 'nanoid';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport { Skeleton } from 'primereact/skeleton';\nimport im from '../../images/proxy.jpeg';\nimport LazyLoad from 'react-lazy-load';\nimport { Link } from \"gatsby\";\nimport 'firebase/compat/firestore'; // import from compat version\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport ReactHtmlParser, { Comment } from \"html-react-parser\";\nimport { Image } from 'primereact/image';\n//import parse from 'html-react-parser';\nimport { Carousel } from 'primereact/carousel';\nimport { Card } from 'react-bootstrap';\nimport '../../styles/Messages.css';\nimport{\n  faAnchorLock,\n  faBan,\n  faCalendarDay,\n  faCalendarWeek,\n  faTimes,\n  faClock, faClockFour, faClockRotateLeft, faEllipsis, faFlag, faPaperclip, faTrash, faUserClock, faVolumeMute, faSearch, faVolumeHigh\n} from '@fortawesome/free-solid-svg-icons';\nimport { FaUserClock, FaVolumeUp } from 'react-icons/fa';\n\n\nconst firebaseConfig019 = {\n\n  apiKey: \"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y\",\n\n  authDomain: \"itsmynodezena.firebaseapp.com\",\n\n  databaseURL: \"https://itsmynodezena-default-rtdb.firebaseio.com\",\n\n  projectId: \"itsmynodezena\",\n\n  storageBucket: \"itsmynodezena.appspot.com\",\n\n  messagingSenderId: \"299392955521\",\n\n  appId: \"1:299392955521:web:ef5671ad2702d441304980\"\n\n};\n\n\n\n\n\n\nexport default function MessageA(props) {\n\n  //fas const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(m\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|embed\\/|v\\/)?([\\w-]{11})(\\S+)?$/;\n  \n  \n  const [zoom, setzoom] = useState(false)\n  \n  \n  \n      const ifZomed ={\n        position : zoom && \"absolute\",\n        top: zoom && \"0\",\n        left: zoom && \"0\",\n        right:  zoom &&\"0\",\n  \n        bottom: zoom && \"0\",\n    zIndex: zoom && \"20\",\n    backgroundColor:  zoom && \"rgba(0,0,0,0.11)\"\n      }\n  \n     // const handleImageOrVide = props.handleImageOrVideo;\n  const  newMessage = props.message;\n  \n  \n  \n  \n  \n  \n  \n  const handleImageOrVideo = (url) => {\n    const fileExtension = url.split('.').pop().toLowerCase();\n  \n    if (fileExtension === 'jpg' || fileExtension === 'png' || fileExtension === 'jpeg' || fileExtension === 'gif'  || fileExtension === 'img') {\n      // If the URL is pointing to an image\n      return `<div class=\"p-image-preview-container card flex justify-content-center\"><Image style=\"width: 60px\" className=\"sized p-image-preview\"   src=\"${url}\" zoomSrc=\"${url}\" alt=\"Image\" id=\"resizedImages\" class=\"resizedImages\" width=\"250\"   /></div>`;\n    } else if (fileExtension === 'mp4') {\n      // If the URL is pointing to a video\n      return `<video src=\"${url}\" controls>Your browser does not support the video tag.</video>`;\n    } else if (fileExtension === 'mp3') {\n      // If the URL is pointing to an audio file\n      return `<audio src=\"${url}\" controls>Your browser does not support the audio tag.</audio>`;\n    } else {\n      // If the URL is not pointing to an image, video, or audio file, check if it's a YouTube link\n      const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|embed\\/|v\\/)?([\\w-]{11})(\\S+)?$/;\n      const match = url.match(youtubeRegex);\n      if (match) {\n        // If the URL is a YouTube link, extract the video id  {/*<iframe src=\"https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1\" title=\"YouTube video player\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>*/}\n        const videoId = match[5];\n        return `<div className=\"Fit\" id=\"Fit\" style=\"position: relative; padding-bottom: 56.25%; height: 300px, width: 300px\"><iframe src=\"https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1\" title=\"YouTube video player\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>`;\n      } else {\n        // If the URL is not pointing to an image, video, or YouTube link, return the URL  \n        return url;\n      }\n    }\n  };\n  \n  const generateMarkup = () => {\n\n    if (!newMessage) {\n      return null; // Or any default value or error handling you want\n    }\n\n    const words = newMessage.split(' ');\n    const elements = [];\n  \n    words.forEach((word, index) => {\n      if (word.startsWith('http') || word.startsWith('https')) {\n        const element = handleImageOrVideo(word) || (\n          <a href={word} target=\"_blank\" rel=\"noopener noreferrer\">\n            {word}\n          </a>\n        );\n        elements.push( element);\n      } else if (word.startsWith(\"data:image/\")) {\n        // If the word is a base64-encoded image data URL, create an <img> tag\n        elements.push(`<div class=\"p-image-preview-container wid card flex justify-content-center\"><Image className=\"sized\" id=\"resizedImages\" src=\"${word}\" zoomSrc=\"${word}\" alt=\"Image\" class=\"resizedImages p-image-preview\" preview width=\"250\"  /></div>`);\n      } else {\n        elements.push(word + ' ');\n      }\n    });\n    \n  \n    return elements.join('');\n  };\n  \n  \n  const setFullSizeImage = props.setFullSizeImage;\n  const fullSizeImage = props.fullSizeImage;\n  \n  \n  \n  useEffect(() => {\n    const images = document.querySelectorAll(\".resizedImages\");\n    images.forEach(image => {\n      image.addEventListener(\"click\", handleImageClick);\n      return () => {\n        image.removeEventListener(\"click\", handleImageClick);\n      };\n    });\n  }, []);\n  \n  function handleImageClick(event) {\n    const clickedEl = event.target;\n    if (clickedEl.tagName === \"IMG\") {\n      // Do something with the clicked image\n      setFullSizeImage(clickedEl.src)\n  }\n  }\n  \n  function showPreview(src){\n  alert(\"bob\")\n    setFullSizeImage(src)\n  }\n  \n  \n  \n  \n  function resizeImage() {\n    const htmlString = generateMarkup();\n    const regex = /<img [^>]*>/g;\n    const matches =   htmlString ? htmlString.match(regex) || [] : [];\n    let modifiedHtmlString = htmlString;\n    for (const match of matches) {\n      const widthRegex = /width=\"(\\d+)\"/;\n      const heightRegex = /height=\"(\\d+)\"/;\n      const srcRegex = /src=\"([^\"]+)\"/; // add regex to extract src attribute\n  \n      const widthMatch = match.match(widthRegex);\n      const heightMatch = match.match(heightRegex);\n      const srcMatch = match.match(srcRegex); // match src attribute\n  \n      const width = widthMatch ? parseInt(widthMatch[1]) : undefined;\n      const height = heightMatch ? parseInt(heightMatch[1]) : undefined;\n      const newWidth = width ? Math.floor(width / 2) : undefined;\n      const newHeight = height ? Math.floor(height / 2) : undefined;\n      const widthAttr = newWidth ? ` width=\"${newWidth}\"` : \"\";\n      const heightAttr = newHeight ? ` height=\"${newHeight}\"` : \"\";\n      const src = srcMatch ? srcMatch[1] : ''; // extract the src value from the match\n      const newTag = `<Image src=\"${src}\" id=\"resizedImages\" style=\"width:100%; max-width:300px\" class=\"resizedImages p-image-preview p-image-mask\" width=\"250\" preview  />`;\n  \n      modifiedHtmlString = modifiedHtmlString.replace( \n        match,\n        `<div class=\" p-image-preview-container card flex justify-content-center imagewraper d-flex-column\">${newTag}</div>`\n      );\n    }\n    return modifiedHtmlString;\n  }\n  \n  /*\n  \n  \n  function resizeImage() {\n    const htmlString = generateMarkup();\n  const preview = true;\n    const regex = /<img [^>]*>/g;\n    const matches = htmlString.match(regex) || [];\n    let modifiedHtmlString = htmlString; // initialize modifiedHtmlString with original htmlString\n    for (const match of matches) {\n      const widthRegex = /width=\"(\\d+)\"/;\n      const heightRegex = /height=\"(\\d+)\"/;\n  \n      const widthMatch = match.match(widthRegex);\n      const heightMatch = match.match(heightRegex);\n      const width = widthMatch ? parseInt(widthMatch[1]) : undefined;\n      const height = heightMatch ? parseInt(heightMatch[1]) : undefined;\n      const newWidth = width ? Math.floor(width / 2) : undefined;\n      const newHeight = height ? Math.floor(height / 2) : undefined;\n      const widthAttr = newWidth ? ` width=\"${newWidth}\"` : \"\";\n      const heightAttr = newHeight ? ` height=\"${newHeight}\"` : \"\";\n      const newTag = match.replace(/<img/, '<Image').replace(/\\/?>/, `${widthAttr}${heightAttr} style=\"width: 60px\" id=\"resizedImages\" class=\"p-image-preview p-image-preview-indicator p-image-preview-icon p-image-mask\"   width=\"250\"   />`);\n   \n      modifiedHtmlString = modifiedHtmlString.replace(match, `<div  class=\"p-image  p-image-preview-container card flex justify-content-center imagewraper d-flex-column card flex justify-content-center imagewraper d-flex-column\">${newTag} </div>`);\n    }  \n    return modifiedHtmlString; // return modified htmlString\n  }\n    \n  */\n  const resizedHtml = resizeImage();\nconst parsedHtml = typeof resizedHtml === 'string' ? ReactHtmlParser(resizedHtml, { decodeEntities: false }) : null;\n\n// Render the parsed HTML\n\n\n  \n      return (\n        <>\n  \n  <div className=\"message my-message\">\n  <Link to={`profileComponents/Myprofile`}> \n                  <img alt=\"Your Dp\" height=\"50\" width=\"50\"  className=\" img-circle medium-image\" src={props.mypic ? props.mypic : im}/>\n  </Link>\n  \n                              <div className=\"message-body\">\n                                  <div className=\"message-body-inner\">\n                                      <div className=\"message-info\">\n                                          <h4> {props.myuser}  </h4>\n  \n     <h5>  {props.hasRead && props.hasRead > 0 &&  (<FontAwesomeIcon style={{marginRight:\"5px\"}}  icon={faClockFour} />) } {props.time}</h5>\n                                      </div>\n                                      <hr/>\n                                      <div className=\"message-text d-flex\">\n                                      <div \n                                       \n                                       style={ zoom ?  ifZomed :{ \n                                       // overflow: \"hidden\", \n                                        msTextOverflow: \"ellipsis\", \n                                        whiteSpace: \"pre-wrap\", \n                                        width: \"fit-content\",\n                                        maxWidth: \"100\", \n                                        wordBreak: \"break-all\", \n                                        overflowWrap: \"break-all\",\n                                        display:  \"flex\",\n                                        flexDirection: \"column\"\n                                      }  } \n                                      className=\"w-100 message-text d-flex-column dflex\"\n                                    \n                                    >\n\n\n{parsedHtml} </div>\n  {/*ReactHtmlParser(generateMarkup(), { decodeEntities: false, })*/}\n  \n       \n  \n                                      </div>\n                                  </div>\n                              </div>\n                              <br/>\n                          </div>\n  \n  \n        </>\n      )\n      }\n  ","import React, { useState, useEffect ,useRef} from 'react';\nimport firebase from 'firebase/compat/app';\nimport { useAuth } from '../../Accounts/useAuth';\nimport { nanoid } from 'nanoid';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport im from '../../images/proxy.jpeg';\nimport LazyLoad from 'react-lazy-load';\nimport { Link } from \"gatsby\";\nimport 'firebase/compat/firestore'; // import from fas compat version\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport ReactHtmlParser, { Comment } from \"html-react-parser\";\nimport { Image } from 'primereact/image';\nimport parse from 'html-react-parser';\nimport { Carousel } from 'primereact/carousel';\nimport { Card } from 'react-bootstrap';\nimport '../../styles/Messages.css';\n\nimport{\n  faAnchorLock,\n  faBan,\n  faCalendarDay,\n  faCalendarWeek,\n  faTimes,\n  faClock, faClockFour, faClockRotateLeft, faEllipsis, faFlag, faPaperclip, faTrash, faUserClock, faVolumeMute, faSearch, faVolumeHigh\n} from '@fortawesome/free-solid-svg-icons';\nimport { FaUserClock, FaVolumeUp } from 'react-icons/fa';\n\nconst firebaseConfig019 = {\n\n  apiKey: \"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y\",\n\n  authDomain: \"itsmynodezena.firebaseapp.com\",\n\n  databaseURL: \"https://itsmynodezena-default-rtdb.firebaseio.com\",\n\n  projectId: \"itsmynodezena\",\n\n  storageBucket: \"itsmynodezena.appspot.com\",\n\n  messagingSenderId: \"299392955521\",\n\n  appId: \"1:299392955521:web:ef5671ad2702d441304980\"\n\n};\n\n\n\n\n\nexport default  function MessageB(props) {\n\n\n  const [zoom, setzoom] = useState(false)\n\n\n\n  const setFullSizeImage = props.setFullSizeImage;\n  const fullSizeImage = props.fullSizeImage;\n  \n  \n  \n  useEffect(() => {\n    const images = document.querySelectorAll(\".resizedImages\");\n    images.forEach(image => {\n      image.addEventListener(\"click\", handleImageClick);\n      return () => {\n        image.removeEventListener(\"click\", handleImageClick);\n      };\n    });\n  }, []);\n  \n  function handleImageClick(event) {\n    const clickedEl = event.target;\n    if (clickedEl.tagName === \"IMG\") {\n      // Do something with the clicked image youtube\n      setFullSizeImage(clickedEl.src)\n  }\n  }\n  \n  const ifZomed ={\n    position : zoom && \"absolute\",\n    top: zoom && \"0\",\n    left: zoom && \"0\",\n    right:  zoom &&\"0\",\n\n    bottom: zoom && \"0\",\nzIndex: zoom && \"20\",\nbackgroundColor:  zoom && \"rgba(0,0,0,0.11)\"\n  }\n\n // const handleImageOrVide = props.handleImageOrVideo;\nconst  newMessage = props.message;\n\n\n\n\n\n\nconst handleImageOrVideo = (url) => {\nconst fileExtension = url.split('.').pop().toLowerCase();\n\nif (fileExtension === 'jpg' || fileExtension === 'png' || fileExtension === 'jpeg' || fileExtension === 'gif'  || fileExtension === 'img') {\n  // If the URL is pointing to an image\n  return `<div class=\"card p-image-preview-container flex justify-content-center\"><Image className=\"sized resizedImages\" id=\"resizedImages\"   src=\"${url}\" zoomSrc=\"${url}\" alt=\"Image\" class=\"resizedImages\" width=\"250\"   /></div>`;\n} else if (fileExtension === 'mp4') {\n  // If the URL is pointing to a video\n  return `<video src=\"${url}\" controls>Your browser does not support the video tag.</video>`;\n} else if (fileExtension === 'mp3') {\n  // If the URL is pointing to an audio file\n  return `<audio src=\"${url}\" controls>Your browser does not support the audio tag.</audio>`;\n} else {\n  // If the URL is not pointing to an image, video, or audio file, check if it's a YouTube link\n // const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|embed\\/|v\\/)?([\\w-]{11})(\\S+)?$/;\n  const match = url.match();\n  if (match) {\n    // If the URL is a YouTube link, extract the video id\n    const videoId = match[5];\n    return ` <div height={300}> <div className=\"Fit\" id=\"Fit\" style=\"position: relative; padding-bottom: 56.25%; height: auto, width: 50%\"><iframe src=\"https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1\" title=\"YouTube video player\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"  allowfullscreen></iframe></div></div>`;\n  } else {\n    // If the URL is not pointing to an image, video, or YouTube link, return the URL\n    return url;\n  }\n}\n};\n\nconst generateMarkup = () => {\n\n  if (!newMessage) {\n    return null; // Or any default value or error handling you want\n  }\nconst words =  newMessage.split(' ');\nconst elements = [];\n\nwords.forEach((word, index) => {\n  if (word.startsWith('http') || word.startsWith('https')) {\n    const element = handleImageOrVideo(word) || (\n      <a href={word} target=\"_blank\" rel=\"noopener noreferrer\">\n        {word}\n      </a>\n    );\n    elements.push( element);\n  } else if (word.startsWith(\"data:image/\")) {\n    // If the word is a base64-encoded image data URL, create an <img> tag i\n    elements.push(`<div class=\"p-image-preview-container wid card flex justify-content-center\"><Image id=\"resizedImages\"  className=\"sized resizedImages\" src=\"${word}\" zoomSrc=\"${word}\" alt=\"Image\" class=\"p-image-preview resizedImages\" width=\"250\"  /></div>`);\n  } else {\n    elements.push(word + ' ');\n  }\n});\n\n\nreturn elements.join('');\n};\n\n\nfunction resizeImage() {\n\nconst htmlString = generateMarkup();\nconst regex = /<img [^>]*>/g;\n\nconst matches =  htmlString ? htmlString.match(regex) || [] : [];\nlet modifiedHtmlString = htmlString;\nfor (const match of matches) {\nconst widthRegex = /width=\"(\\d+)\"/;\nconst heightRegex = /height=\"(\\d+)\"/;\nconst srcRegex = /src=\"([^\"]+)\"/; // add regex to extract src attribute\n\nconst widthMatch = match.match(widthRegex);\nconst heightMatch = match.match(heightRegex);\nconst srcMatch = match.match(srcRegex); // match src attribute\n\nconst width = widthMatch ? parseInt(widthMatch[1]) : undefined;\nconst height = heightMatch ? parseInt(heightMatch[1]) : undefined;\nconst newWidth = width ? Math.floor(width / 2) : undefined;\nconst newHeight = height ? Math.floor(height / 2) : undefined;\nconst widthAttr = newWidth ? ` width=\"${newWidth}\"` : \"\";\nconst heightAttr = newHeight ? ` height=\"${newHeight}\"` : \"\";\nconst src = srcMatch ? srcMatch[1] : ''; // extract the src value from the match\nconst newTag = `<Image src=\"${src}\" id=\"resizedImages\" style=\"width:100%; max-width:300px\" class=\"resizedImages p-image-preview p-image-mask\" width=\"250\" preview  />`;\n\nmodifiedHtmlString = modifiedHtmlString.replace( \n  match,\n  `<div class=\" p-image-preview-container card flex justify-content-center imagewraper d-flex-column\">${newTag}</div>`\n);\n}\nreturn modifiedHtmlString;\n}\n\n\n\nconst resizedHtml = resizeImage();\nconst parsedHtml = typeof resizedHtml === 'string' ? ReactHtmlParser(resizedHtml, { decodeEntities: false }) : null;\n\n  return (\n    <>\n\n\n   \n   <div className=\"message info \">\n   <Link to={`/profileComponents/Profiles/?id=${props.personid}`}> \n             <img alt={props.named && props.named} className=\"img-circle medium-image\" src={props.pic && props.pic }/>\n           \n                     </Link>\n<div className=\"message-body \">\n\n\n<div className=\"message-info\">\n\n\n   <h4 > { props.named && props.named} {props.id} </h4>\n\n     <h5>  {props.time}</h5>\n </div>\n <hr/>\n <div className=\"message-text d-flex\">\n                                <div \n                                 \n                                 style={ zoom ?  ifZomed :{ \n                                  overflow: \"hidden\", \n                                  msTextOverflow: \"ellipsis\", \n                                  whiteSpace: \"pre-wrap\", \n                                  width: \"fit-content\",\n                                  maxWidth: \"100\", \n                                  wordBreak: \"break-all\", \n                                  overflowWrap: \"break-all\",\n                                  display:  \"flex\",\n                                  flexDirection: \"column\"\n                                }  } \n                                className=\"w-100 message-text d-flex-column dflex\"\n                              \n                              >\n\n\n\n                               {parsedHtml} </div>\n</div>\n\n{fullSizeImage && (\n    <div className=\"full-size-image-overlay\" onClick={() => setFullSizeImage(null)}>\n      <img src={fullSizeImage} alt=\"Full-size Image\" />\n    </div>\n  )}\n\n\n\n     \n </div>\n                         <br/>\n                     </div>\n                  \n\n                  \n    </>\n  )\n  }\n\n","import * as React from 'react';\nimport { classNames, mergeProps } from 'primereact/utils';\nimport { ComponentBase } from 'primereact/componentbase';\nimport { PrimeReactContext } from 'primereact/api';\n\nvar SkeletonBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'Skeleton',\n    shape: 'rectangle',\n    size: null,\n    width: '100%',\n    height: '1rem',\n    borderRadius: null,\n    animation: 'wave',\n    style: null,\n    className: null\n  }\n});\n\nvar Skeleton = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var context = React.useContext(PrimeReactContext);\n  var props = SkeletonBase.getProps(inProps, context);\n  var _SkeletonBase$setMeta = SkeletonBase.setMetaData({\n      props: props\n    }),\n    ptm = _SkeletonBase$setMeta.ptm;\n  var elementRef = React.useRef(null);\n  var style = props.size ? {\n    width: props.size,\n    height: props.size,\n    borderRadius: props.borderRadius\n  } : {\n    width: props.width,\n    height: props.height,\n    borderRadius: props.borderRadius\n  };\n  var className = classNames('p-skeleton p-component', {\n    'p-skeleton-circle': props.shape === 'circle',\n    'p-skeleton-none': props.animation === 'none'\n  }, props.className);\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  var rootProps = mergeProps({\n    ref: elementRef,\n    className: className,\n    style: style\n  }, SkeletonBase.getOtherProps(props), ptm('root'));\n  return /*#__PURE__*/React.createElement(\"div\", rootProps);\n}));\nSkeleton.displayName = 'Skeleton';\n\nexport { Skeleton };\n","import React, { useState, useEffect ,useRef} from 'react';\nimport firebase from 'firebase/compat/app';\nimport { useAuth } from '../../Accounts/useAuth';\nimport { nanoid } from  'nanoid';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport im from '../../images/proxy.jpeg';\nimport { Link } from \"gatsby\";\nimport 'firebase/compat/firestore'; // import fa from compat version\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { AutoComplete } from \"primereact/autocomplete\";\nimport ReactHtmlParser, { Comment } from \"html-react-parser\";\nimport { Image } from 'primereact/image';\nimport parse from 'html-react-parser';\nimport { Carousel } from 'primereact/carousel';\nimport { Card } from 'react-bootstrap';\nimport '../../styles/Messages.css';\n\nimport{\n  faAnchorLock,\n  faBan,\n  faCalendarDay,\n  faCalendarWeek,\n  faTimes,\n  faClock, faClockFour, faClockRotateLeft, faEllipsis, faFlag, faPaperclip, faTrash, faUserClock, faVolumeMute, faSearch, faVolumeHigh\n} from '@fortawesome/free-solid-svg-icons';\nimport { FaUserClock, FaVolumeUp } from 'react-icons/fa';\nimport { Skeleton } from 'primereact/skeleton';\n\nconst firebaseConfig019 = {\n\n  apiKey: \"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y\",\n\n  authDomain: \"itsmynodezena.firebaseapp.com\",\n\n  databaseURL: \"https://itsmynodezena-default-rtdb.firebaseio.com\",\n\n  projectId: \"itsmynodezena\",\n\n  storageBucket: \"itsmynodezena.appspot.com\",\n\n  messagingSenderId: \"299392955521\",\n\n  appId: \"1:299392955521:web:ef5671ad2702d441304980\"\n\n};\n\n\n\n\n\n\nexport default function MessageDrawer(props) {\n  const {user} = useAuth();\n\n  firebase.initializeApp(firebaseConfig019, 'app019');\n  const app019 = firebase.app('app019');\n\n\n\nconst SetupidA = props.SetupidA;\nconst SetupidB = props.SetupidB;\nconst SetsetupDp = props.SetsetupDp;\nconst searchval = props.searchval;\nconst setSearchId = props.setSearchId;\n\nconst BlockedMe  = props.BlockedMe;\nconst setBlockedMe = props.setBlockedMe;\nconst [Muted, setMuted] = useState('') ;\n\nconst setlockedmeUsers = props.setlockedmeUsers;\n\nuseEffect(() => {\n  if (!user) return;\n\n  const db = app019.database().ref('profile');\n  const otherUserIds = Array.isArray(props.idA) ? props.idA : [props.idA];\n  const filteredChats = [];\nconst didblockme  = []; \n  const onValue = (snapshot) => {\n    snapshot.forEach((childSnapshot) => {\n      const chatValues = childSnapshot.val();\n      const chatId = childSnapshot.key;\n      const hasOtherUserId = otherUserIds.some(id => chatId.includes(id));\n     \n\n    \n    if(chatId.includes(user.uid)){\n\n     didblockme.push(chatValues)\n\n    }\n\n      if (hasOtherUserId) {\n        filteredChats.push(chatValues);\n      }\n    });\n\n\n    const filteredEmails = filteredChats.map(obj => obj.username);\n    const blockedME = filteredChats.map(obj => obj.blockedMe !== undefined && Object.keys(obj.blockedMe)[0] && obj.username );\n\n    //const blockedthem = filteredChats.map(obj => obj.blockList && obj.blockList);\n   blockedME && setBlockedMe(blockedME);\n   const Mute = filteredChats.map(obj => obj.Muted !== undefined  && Object.keys(obj.Muted)[0] && obj.username );\nsetMuted(Mute);\n\n    console.log(\"i blocked these people\", blockedME);\n    console.log(\"peps are\", filteredChats)\n   // console.log(\"i blocked this person \", blockedthem)\n    const filteredDp = filteredChats.map(obj => obj.profileImg ? obj.profileImg : im);\n SetupidA(filteredEmails);\n   SetsetupDp(filteredDp);\n\n    const chatIds = Object.keys(snapshot.val() || {});\n    const chatIdWithUserUid = chatIds.find(id => id.includes(user?.uid || ''));\n\n    if (chatIdWithUserUid) {\n      const chatValue = snapshot.val()[chatIdWithUserUid];\n      \n      props.setmyuser(Object.values(chatValue.username || \"You\"));\n      props.setmypic( Object.values(chatValue.profileImg || {im}) );\n\n    }\n  setlockedmeUsers(didblockme.map(obj => obj.blockedMe !== undefined && Object.keys(obj.blockedMe)[0]))\n  //console.log( 'show those who blocked me ', didblockme  )\n\n  };\n  db.on('value', onValue);\n\n  return () => {\n    db.off('value', onValue);\n  };\n}, [user, props.idA, props.setmyuser, SetupidA, SetsetupDp]);\n\n\n\nconst [showed, setShowed] = useState(false)\n\n /*\nuseEffect(() => {\n if(!props.setup) return;\nsearchval == props.setup && props.setup[props.setupidA] &&\nprops.setSearchId(\"jjj\")\n\nsetmyUser\n\nif(searchval && searchval.toLowerCase() === props.setup && props.setup[props.setupidA].toLowerCase()){\n  console.log(\"if this two are equal props shows good\", searchval && searchval.toLowerCase() === props.setup && props.setup[props.setupidA].toLowerCase()  )\n}\n\n\n}, [ props.setup && props.setup, searchval && searchval])\n\n*/\n\n\n\n\n\nconst BlockUser = async (userId) => {\n          \n  // Remove the user ID from the \"following\" node of the current user\nif(user){\n\nconst userI = userId[0] === user.uid ?\nuserId[1] : userId[0]\n // Update the state with the modified followers array\n\n await  app019.database().ref(`profile/${user.uid}/following/${userI}`).remove();\n await app019.database().ref(`profile/${userI}/following/${user.uid}`).remove();\n\n  // Remove the current user's ID from the \"followers\" node of the user being unfollowed\n await app019.database().ref(`profile/${userI}/followers/${user.uid}`).remove();\n\n await app019.database().ref(`profile/${user.uid}/followers/${userI}`).remove();\n\n await app019.database().ref(`profile/${userI}/blockedMe/${user.uid}`).set(true);\n //    await app019.database().ref(`profile/${user.uid}/blockList/${userId.value}`).set(true);\n\n alert(\"Blocked\")\n}\n};\n\nconst MuteUser = async (userId) =>{\nif(user){\n\n  await app019.database().ref(`profile/${userId[0] === user.uid ?\n     userId[1] : userId[0] }/Muted/${user.uid}`).set(true);\n  //    await app019.database().ref(`profile/${user.uid}/blockList/${userId.value}`).set(true);\n  alert(\"Muted\")\n\n }\n };\n\n const setshowmuted = props.setshowmuted;\nconst UnmuteUser = async (userId, mu) => {\n             \n  if(user){   \n   \n    \n\n    await app019.database().ref(`profile/${userId[0] === user.uid ?\n      userId[1] : userId[0] }/Muted/${user.uid}`).remove();\n     \n      const newMutedUsers = Muted.filter((mutedUserId) => mutedUserId !== mu);\n      setMuted(newMutedUsers);\n\n   alert(\"unmuted\", {mu})\n\n  //    await app019.database().ref(ofile/${user.uid}/blockList/${userId.value}`).set(true);\n\n\n        \n\n   }\n\n\n   };\n   \n\n\n\nconst showmuted = props.showmuted;\n\n\n\n\nif(!user || !app019.database().ref('profile') || !props.setup ){\n  return(<div className=\"flex mb-3\">\n  <Skeleton shape=\"circle\" size=\"4rem\" className=\"mr-2\"></Skeleton>\n  <div>\n      <Skeleton width=\"5rem\" className=\"mb-2\"></Skeleton>\n      <Skeleton width=\"0rem\" className=\"mb-2\"></Skeleton>\n      <Skeleton width=\"2rem\" className=\"mb-2 \" style={{float: \" right\"}}></Skeleton>\n      <Skeleton width=\"1rem\" className=\"mb-2 \" style={{float: \" right\"}}></Skeleton>\n\n  </div>\n</div>)\n}\n\nif(showmuted){\n\n\nreturn(\n  <>\n\n  { props.setup && BlockedMe && BlockedMe.includes(props.setup[props.setupidA])   ? \n    \"\" : \n   \n    props.setup && Muted.includes(props.setup[props.setupidA]) &&\n   \n  <li style={{borderLeftColor: props.Ref && props.Ref > 0  ? \"green\" : \"black\"}} data-toggle=\"tab\" data-target=\"#inbox-message-1\" className=\"active\">\n  {  props.Ref && props.Ref > 0 ? <div className=\"message-count bg-success\"> {props.Ref && props.Ref > 0 && props.Ref} </div> : \"\"}\n  <img style={{marginTop: \"-65px\"}}  alt={props.setup && props.setup} className=\"img-circle medium-image\" src={props.setupDp && props.setupDp[props.setupidA]}/>\n\n  <div className=\"vcentered info-combo\">\n     <h3  className=\"no-margin-bottom name\" >\n        <Link style={{fontSize: \"1rem\", fontWeight:\"bold\", fontFamily:\"monospace\", textShadow: props.Ref && props.Ref > 0 ? \"1px 1px 0.20px black\" : \"1px 1px 0.10px Highlight\", color: \"black\"}} to={`profileComponents/Profiles/?id=${props.personid}`}> \n        {props.setup && props.setup[props.setupidA]} </Link>\n</h3>\n\n <h5 style={{ fontWeight: props.Ref && props.Ref > 0  && \"bold\", color: props.Ref && props.Ref > 0   && \"black\", textShadow: props.Ref && props.Ref > 0  && \"1px 1px 0.25px Highlight\"}}> \n{props.text}</h5>\n<button onClick={(e) => {  e.stopPropagation(); setShowed(pre => !pre) }} style={{background: \"transparent\", border: \"none\", color: \"black\", float:\"right\", zIndex:\"100\"}} >\n<FontAwesomeIcon icon={faEllipsis} style={{marginTop: \"5px\", float:\"right\"}} />\n</button>\n  </div>\n\n  <div className=\"contacts-add mt-1\">\n      <span className=\"message-time mt-1\" style={{display: \"flex\"}}>{ props.Ref && props.Ref > 0 ? <FontAwesomeIcon style={{marginTop: \"5px\"}}  icon={   props.time.includes(\"days\") ? faCalendarDay :    faUserClock } /> : \"\" }   {props.time} </span>\n      { showed && <div style={{display:\"flex\", justifyContent:\"space-evenly\", marginLeft:\"auto\", marginRight:\"auto\" ,padding:\"5px 20px\", width: \"100%\"}}>\n           <button onClick={(e) => {e.stopPropagation(); BlockUser(props.idA)}} style={{background: \"transparent\", border: \"none\", color: \"tomato\"}} tooltip=\"Block\" > <FontAwesomeIcon className='mx-2' icon={faBan} style={{marginTop: \"5px\" }} /></button>    \n           <button onClick={(e) => {e.stopPropagation(); UnmuteUser(props.idA, props.setup && props.setup[props.setupidA]) }} tooltip=\"Mute\" style={{background: \"transparent\", border: \"none\", color: \"black\"}} >    <FontAwesomeIcon className='mx-2' icon={faVolumeHigh} style={{marginTop: \"5px\"}} /> </button>\n           <button  style={{background: \"transparent\", border: \"none\", color: \"red\"}} tooltip=\"report\">  <FontAwesomeIcon className='mx-2' icon={faFlag} style={{marginTop: \"5px\"}} /> </button>\n\n        </div>} \n\n          </div>\n</li>\n  } \n  \n  \n  </>\n    )\n\n\n}else{\n\n\n  \n\n  return (\n\n <> \n  { props.setup && BlockedMe && BlockedMe.includes(props.setup[props.setupidA])   ? \n    \"\" : \n    props.setup && Muted.includes(props.setup[props.setupidA]) ? \"\" \n    \n    \n    :\n\n    <li style={{borderLeftColor: props.Ref && props.Ref > 0  ? \"green\" : \"black\"}} data-toggle=\"tab\" data-target=\"#inbox-message-1\" className=\"active\">\n    {  props.Ref && props.Ref > 0 ? <div className=\"message-count bg-success\"> {props.Ref && props.Ref > 0 && props.Ref} </div> : \"\"}\n    <img style={{marginTop: \"-65px\"}}  alt=\"no Dp!\" className=\"img-circle medium-image\" src={props.setupDp && props.setupDp[props.setupidA] ? props.setupDp[props.setupidA] : im  }/>\n\n    <div className=\"vcentered info-combo\">\n       <h3  className=\"no-margin-bottom name\" >\n       {props.setup && props.setup[props.setupidA] ? <Link style={{fontSize: \"1rem\", fontWeight:\"bold\", fontFamily:\"monospace\", textShadow: props.Ref && props.Ref > 0 ? \"1px 1px 0.20px black\" : \"1px 1px 0.10px Highlight\", color: \"black\"}} to={`/profileComponents/Profiles/?id=${props.personid}`}> \n          {props.setup && props.setup[props.setupidA]} </Link> : \"Deleted user\"}\n  </h3>\n\n   <h5 style={{ fontWeight: props.Ref && props.Ref > 0  && \"bold\", color: props.Ref && props.Ref > 0   && \"black\", textShadow: props.Ref && props.Ref > 0  && \"1px 1px 0.25px Highlight\"}}> \n  {props.text}</h5>\n  <button onClick={(e) => {  e.stopPropagation(); setShowed(pre => !pre) }} style={{background: \"transparent\", border: \"none\", color: \"black\", float:\"right\", zIndex:\"100\"}} >\n  <FontAwesomeIcon icon={faEllipsis} style={{marginTop: \"5px\", float:\"right\"}} />\n</button>\n    </div>\n\n    <div className=\"contacts-add mt-1\">\n        <span className=\"message-time mt-1\" style={{display: \"flex\"}}>{ props.Ref && props.Ref > 0 ? <FontAwesomeIcon style={{marginTop: \"5px\"}}  icon={   props.time.includes(\"days\") ? faCalendarDay :    faUserClock } /> : \"\" }   {props.time} </span>\n        { showed && <div style={{display:\"flex\", justifyContent:\"space-evenly\", marginLeft:\"auto\", marginRight:\"auto\" ,padding:\"5px 20px\", width: \"100%\"}}>\n             <button onClick={(e) => {e.stopPropagation(); BlockUser(props.idA)}} style={{background: \"transparent\", border: \"none\", color: \"tomato\"}} > <FontAwesomeIcon className='mx-2' icon={faBan} style={{marginTop: \"5px\" }} /></button>    \n             <button onClick={(e) => {e.stopPropagation(); MuteUser(props.idA)}}  style={{background: \"transparent\", border: \"none\", color: \"black\"}}>   <FontAwesomeIcon className='mx-2' icon={faVolumeMute} style={{marginTop: \"5px\"}} /> </button>\n             <button  style={{background: \"transparent\", border: \"none\", color: \"red\"}}>  <FontAwesomeIcon className='mx-2' icon={faFlag} style={{marginTop: \"5px\"}} /> </button>\n\n          </div>} \n\n            </div>\n</li>\n  \n }</>\n  )\n  \n  }\n\n}\n\n\n","import React, { useState, useEffect ,useRef} from 'react';\nimport firebase from 'firebase/compat/app';\n//import { useAuth } from '../../Accounts/useAuth';\n//import { nanoid } from 'nanoid';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport im from '../../images/proxy.jpeg';\nimport { Link } from \"gatsby\";\nimport 'firebase/compat/firestore'; // import from compat version\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { AutoComplete } from \"primereact/autocomplete\";\n//import ReactHtmlParser, { Comment } from \"html-react-parser\";\nimport { Image } from 'primereact/image';\n//import parse from 'html-react-parser';\n//import { Carousel } from 'primereact/carousel fas';  youtube\nimport { Card } from 'react-bootstrap';\nimport '../../styles/Messages.css';\nimport { debounce } from 'lodash';\n\nimport{\n\n  faTimes,\n  faSearch\n} from '@fortawesome/free-solid-svg-icons';\n\nconst firebaseConfig019 = {\n\n  apiKey: \"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y\",\n\n  authDomain: \"itsmynodezena.firebaseapp.com\",\n\n  databaseURL: \"https://itsmynodezena-default-rtdb.firebaseio.com\",\n\n  projectId: \"itsmynodezena\",\n\n  storageBucket: \"itsmynodezena.appspot.com\",\n\n  messagingSenderId: \"299392955521\",\n\n  appId: \"1:299392955521:web:ef5671ad2702d441304980\"\n\n};\n\n\n\n\n\n\n    \n      export default  function Users(props) {\n\n\n        const setCreatemesage = props.setCreatemesage;\n       const selectedUser = props.selectedUser;\n\n       const [users, setUsers] = useState([]);\n       const [uids, setuids] = useState(null);\n\n       const [selectedAcc, setSelectedAcc] = useState(null);\n       const [filteredUsers, setFilteredUsers] = useState(null);\n   \n\nconsole.log(\"this s the selected Acc\", selectedAcc)\nconsole.log(\"as you type logs data is\", users.id)\n\n       firebase.initializeApp(firebaseConfig019, 'app0999');\n       const app0999 = firebase.app('app0999');\n       //const {user} = useAuth(); typeof user.user === 'string' && \n\n       const debouncedHandleChange = debounce((event) => {\n        let _filteredUsers;\n        if (!users) return;\n        if (!event.query.trim().length) {\n          _filteredUsers = [...users];\n       \n        } else {\n          _filteredUsers = users.filter((useri) => {\n        \n\n            return (\n              useri &&\n              useri.useri &&\n                useri.useri.toLowerCase().startsWith(event.query.toLowerCase())\n            );\n          });\n        }\n        setFilteredUsers(_filteredUsers);\n      }, 100); \n      \n    \n      \n       const search = (event) => {\n        debouncedHandleChange(event);\n\n      };\n      \n    \n\n      function rest(){\n        setCreatemesage(false);\n        selectedAcc && props.setId(uids);\n        props.setShowTextArea(true);\n       \n        alert(uids)\n\n      }\n\n\n\n       const  itemTemplate = (users) => {\n          \n        return (\n         \n            <div className=\"flex align-items-center\" onClick={rest}>\n                <img\n                    alt={\"dP\"}\n                    src={users && users.profileImg }\n                    //className={`flag flag-${item.code.toLowerCase()} mr-2`} youtube \n                    style={{width: '28px'}}\n                />\n                <div style={{color: \"black\"}}>{ users && users.useri }</div>\n            </div>\n        );\n    };\n  \n    useEffect(() => {\n      if (typeof selectedAcc === 'object') {\n        return;\n      }\n      app0999\n        .database()\n        .ref('profile')\n        .orderByChild('username')\n        .equalTo(selectedAcc)\n        .once('value')\n        .then((snapshot) => {\n          if (snapshot.exists()) {\n            const userId = Object.keys(snapshot.val())[0];\n            const userData = snapshot.val()[userId];\n        const useri = {\n              id: userId,\n         useri: userData.username,\n              profileImg: userData.profileImg ? userData.profileImg : im,\n \n            };\n            setUsers([useri]);\n            setuids(useri.id)\n            console.log(\"if this shows why is it id\", useri.id)\n          } else {\n            setUsers([]);\n          }\n        });\n    }, [selectedAcc]);\n\n      \n\n   function setSearch(){\n\n    \n    if(!selectedAcc || selectedAcc.length < 1){\n      setCreatemesage(false)\n    }\n    \n\n    if (typeof selectedAcc === 'object') {\n      return;\n    }\n\n\n\n    app0999\n      .database()\n      .ref('profile')\n      .orderByChild('username')\n      .equalTo(selectedAcc)\n      .once('value')\n      .then((snapshot) => {\n        if (snapshot.exists()) {\n          const userId = Object.keys(snapshot.val())[0];\n          const userData = snapshot.val()[userId];\n      const useri = {\n            id: userId,\n       useri: userData.username,\n            profileImg: userData.profileImg ? userData.profileImg : im,\n\n          };\n          setUsers([useri]);\n          setuids(useri.id)\n          console.log(\"if this shows why is it id\", useri.id)\n        } else {\n          setUsers([]);\n        }\n      });\n\n\n   }\n\n        return(\n          <>\n  \n\n  \n         \n         \n<AutoComplete field=\"name\" value={selectedAcc} suggestions={filteredUsers} placeholder=\"Send message to...\" \n     className='borderradius mt-1'   style={{borderTopRightRadius:\"0\", borderBottomRightRadius: \"0\"}}       completeMethod={search}  onChange={(e) => setSelectedAcc(e.value)} itemTemplate={itemTemplate} />\n{\n                            <button style={{background:\"white\",  border: \"none\", fontSize: selectedAcc && selectedAcc.length > 0 ? \"1rem\" : \" 1.5rem\", marginLeft:\"-5px\", marginTop: \"-1px\",padding: \"10px\", borderTopLeftRadius:\"0\", borderBottomLeftRadius: \"0\", paddingTop: selectedAcc && selectedAcc.length > 0 && \"14px\", paddingBottom: selectedAcc && selectedAcc.length > 0 && \"14px\" }}\n                             onClick={setSearch} className=\"btn btn-danger close-new-message\">\n                            <FontAwesomeIcon  icon={selectedAcc && selectedAcc.length > 0 ?  faSearch : faTimes }\n                             style={{cursor:\"pointer\", color: selectedAcc && selectedAcc.length > 0 ? \"yellowgreen\" : \"red\" }} \n                             type=\"submit\"  />\n\n                            </button>\n}\n\n</>\n\n        )\n\n      }","import * as React from 'react';\nconst TabContext = /*#__PURE__*/React.createContext(null);\nexport default TabContext;","const _excluded = [\"as\", \"active\", \"eventKey\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport NavContext from './NavContext';\nimport SelectableContext, { makeEventKey } from './SelectableContext';\nimport Button from './Button';\nimport { dataAttr } from './DataKey';\nimport TabContext from './TabContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useNavItem({\n  key,\n  onClick,\n  active,\n  id,\n  role,\n  disabled\n}) {\n  const parentOnSelect = useContext(SelectableContext);\n  const navContext = useContext(NavContext);\n  const tabContext = useContext(TabContext);\n  let isActive = active;\n  const props = {\n    role\n  };\n  if (navContext) {\n    if (!role && navContext.role === 'tablist') props.role = 'tab';\n    const contextControllerId = navContext.getControllerId(key != null ? key : null);\n    const contextControlledId = navContext.getControlledId(key != null ? key : null);\n\n    // @ts-ignore\n    props[dataAttr('event-key')] = key;\n    props.id = contextControllerId || id;\n    isActive = active == null && key != null ? navContext.activeKey === key : active;\n\n    /**\n     * Simplified scenario for `mountOnEnter`.\n     *\n     * While it would make sense to keep 'aria-controls' for tabs that have been mounted at least\n     * once, it would also complicate the code quite a bit, for very little gain.\n     * The following implementation is probably good enough.\n     *\n     * @see https://github.com/react-restart/ui/pull/40#issuecomment-1009971561\n     */\n    if (isActive || !(tabContext != null && tabContext.unmountOnExit) && !(tabContext != null && tabContext.mountOnEnter)) props['aria-controls'] = contextControlledId;\n  }\n  if (props.role === 'tab') {\n    props['aria-selected'] = isActive;\n    if (!isActive) {\n      props.tabIndex = -1;\n    }\n    if (disabled) {\n      props.tabIndex = -1;\n      props['aria-disabled'] = true;\n    }\n  }\n  props.onClick = useEventCallback(e => {\n    if (disabled) return;\n    onClick == null ? void 0 : onClick(e);\n    if (key == null) {\n      return;\n    }\n    if (parentOnSelect && !e.isPropagationStopped()) {\n      parentOnSelect(key, e);\n    }\n  });\n  return [props, {\n    isActive\n  }];\n}\nconst NavItem = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n      as: Component = Button,\n      active,\n      eventKey\n    } = _ref,\n    options = _objectWithoutPropertiesLoose(_ref, _excluded);\n  const [props, meta] = useNavItem(Object.assign({\n    key: makeEventKey(eventKey, options.href),\n    active\n  }, options));\n\n  // @ts-ignore\n  props[dataAttr('active')] = meta.isActive;\n  return /*#__PURE__*/_jsx(Component, Object.assign({}, options, props, {\n    ref: ref\n  }));\n});\nNavItem.displayName = 'NavItem';\nexport default NavItem;","const _excluded = [\"as\", \"onSelect\", \"activeKey\", \"role\", \"onKeyDown\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport qsa from 'dom-helpers/querySelectorAll';\nimport * as React from 'react';\nimport { useContext, useEffect, useRef } from 'react';\nimport useForceUpdate from '@restart/hooks/useForceUpdate';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport NavContext from './NavContext';\nimport SelectableContext, { makeEventKey } from './SelectableContext';\nimport TabContext from './TabContext';\nimport { dataAttr, dataProp } from './DataKey';\nimport NavItem from './NavItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {};\nconst EVENT_KEY_ATTR = dataAttr('event-key');\nconst Nav = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n      // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n      as: Component = 'div',\n      onSelect,\n      activeKey,\n      role,\n      onKeyDown\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  // A ref and forceUpdate for refocus, b/c we only want to trigger when needed\n  // and don't want to reset the set in the effect\n  const forceUpdate = useForceUpdate();\n  const needsRefocusRef = useRef(false);\n  const parentOnSelect = useContext(SelectableContext);\n  const tabContext = useContext(TabContext);\n  let getControlledId, getControllerId;\n  if (tabContext) {\n    role = role || 'tablist';\n    activeKey = tabContext.activeKey;\n    // TODO: do we need to duplicate these?\n    getControlledId = tabContext.getControlledId;\n    getControllerId = tabContext.getControllerId;\n  }\n  const listNode = useRef(null);\n  const getNextActiveTab = offset => {\n    const currentListNode = listNode.current;\n    if (!currentListNode) return null;\n    const items = qsa(currentListNode, `[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`);\n    const activeChild = currentListNode.querySelector('[aria-selected=true]');\n    if (!activeChild || activeChild !== document.activeElement) return null;\n    const index = items.indexOf(activeChild);\n    if (index === -1) return null;\n    let nextIndex = index + offset;\n    if (nextIndex >= items.length) nextIndex = 0;\n    if (nextIndex < 0) nextIndex = items.length - 1;\n    return items[nextIndex];\n  };\n  const handleSelect = (key, event) => {\n    if (key == null) return;\n    onSelect == null ? void 0 : onSelect(key, event);\n    parentOnSelect == null ? void 0 : parentOnSelect(key, event);\n  };\n  const handleKeyDown = event => {\n    onKeyDown == null ? void 0 : onKeyDown(event);\n    if (!tabContext) {\n      return;\n    }\n    let nextActiveChild;\n    switch (event.key) {\n      case 'ArrowLeft':\n      case 'ArrowUp':\n        nextActiveChild = getNextActiveTab(-1);\n        break;\n      case 'ArrowRight':\n      case 'ArrowDown':\n        nextActiveChild = getNextActiveTab(1);\n        break;\n      default:\n        return;\n    }\n    if (!nextActiveChild) return;\n    event.preventDefault();\n    handleSelect(nextActiveChild.dataset[dataProp('EventKey')] || null, event);\n    needsRefocusRef.current = true;\n    forceUpdate();\n  };\n  useEffect(() => {\n    if (listNode.current && needsRefocusRef.current) {\n      const activeChild = listNode.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);\n      activeChild == null ? void 0 : activeChild.focus();\n    }\n    needsRefocusRef.current = false;\n  });\n  const mergedRef = useMergedRefs(ref, listNode);\n  return /*#__PURE__*/_jsx(SelectableContext.Provider, {\n    value: handleSelect,\n    children: /*#__PURE__*/_jsx(NavContext.Provider, {\n      value: {\n        role,\n        // used by NavLink to determine it's role\n        activeKey: makeEventKey(activeKey),\n        getControlledId: getControlledId || noop,\n        getControllerId: getControllerId || noop\n      },\n      children: /*#__PURE__*/_jsx(Component, Object.assign({}, props, {\n        onKeyDown: handleKeyDown,\n        ref: mergedRef,\n        role: role\n      }))\n    })\n  });\n});\nNav.displayName = 'Nav';\nexport default Object.assign(Nav, {\n  Item: NavItem\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useNavItem } from '@restart/ui/NavItem';\nimport { makeEventKey } from '@restart/ui/SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroupItem = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  active,\n  disabled,\n  eventKey,\n  className,\n  variant,\n  action,\n  as,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  const [navItemProps, meta] = useNavItem({\n    key: makeEventKey(eventKey, props.href),\n    active,\n    ...props\n  });\n  const handleClick = useEventCallback(event => {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    navItemProps.onClick(event);\n  });\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  // eslint-disable-next-line no-nested-ternary\n  const Component = as || (action ? props.href ? 'a' : 'button' : 'div');\n  process.env.NODE_ENV !== \"production\" ? warning(as || !(!action && props.href), '`action=false` and `href` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    ...navItemProps,\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, meta.isActive && 'active', disabled && 'disabled', variant && `${bsPrefix}-${variant}`, action && `${bsPrefix}-action`)\n  });\n});\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport BaseNav from '@restart/ui/Nav';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ListGroupItem from './ListGroupItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    bsPrefix: initialBsPrefix,\n    variant,\n    horizontal,\n    numbered,\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as = 'div',\n    ...controlledProps\n  } = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  });\n  const bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  let horizontalVariant;\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : `horizontal-${horizontal}`;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(BaseNav, {\n    ref: ref,\n    ...controlledProps,\n    as: as,\n    className: classNames(className, bsPrefix, variant && `${bsPrefix}-${variant}`, horizontalVariant && `${bsPrefix}-${horizontalVariant}`, numbered && `${bsPrefix}-numbered`)\n  });\n});\nListGroup.displayName = 'ListGroup';\nexport default Object.assign(ListGroup, {\n  Item: ListGroupItem\n});","import * as React from 'react';\nimport { KeyFilter } from 'primereact/keyfilter';\nimport { Tooltip } from 'primereact/tooltip';\nimport { ObjectUtils, classNames, mergeProps, DomHandler } from 'primereact/utils';\nimport { ComponentBase } from 'primereact/componentbase';\nimport { PrimeReactContext } from 'primereact/api';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar InputTextareaBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'InputTextarea',\n    autoResize: false,\n    keyfilter: null,\n    onBlur: null,\n    onFocus: null,\n    onBeforeInput: null,\n    onInput: null,\n    onKeyDown: null,\n    onKeyUp: null,\n    onPaste: null,\n    tooltip: null,\n    tooltipOptions: null,\n    validateOnly: false,\n    children: undefined\n  }\n});\n\nvar InputTextarea = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var context = React.useContext(PrimeReactContext);\n  var props = InputTextareaBase.getProps(inProps, context);\n  var elementRef = React.useRef(ref);\n  var cachedScrollHeight = React.useRef(0);\n  var _InputTextareaBase$se = InputTextareaBase.setMetaData({\n      props: props\n    }),\n    ptm = _InputTextareaBase$se.ptm;\n  var onFocus = function onFocus(event) {\n    if (props.autoResize) {\n      resize();\n    }\n    props.onFocus && props.onFocus(event);\n  };\n  var onBlur = function onBlur(event) {\n    if (props.autoResize) {\n      resize();\n    }\n    props.onBlur && props.onBlur(event);\n  };\n  var onKeyUp = function onKeyUp(event) {\n    if (props.autoResize) {\n      resize();\n    }\n    props.onKeyUp && props.onKeyUp(event);\n  };\n  var onKeyDown = function onKeyDown(event) {\n    props.onKeyDown && props.onKeyDown(event);\n    if (props.keyfilter) {\n      KeyFilter.onKeyPress(event, props.keyfilter, props.validateOnly);\n    }\n  };\n  var onBeforeInput = function onBeforeInput(event) {\n    props.onBeforeInput && props.onBeforeInput(event);\n    if (props.keyfilter) {\n      KeyFilter.onBeforeInput(event, props.keyfilter, props.validateOnly);\n    }\n  };\n  var onPaste = function onPaste(event) {\n    props.onPaste && props.onPaste(event);\n    if (props.keyfilter) {\n      KeyFilter.onPaste(event, props.keyfilter, props.validateOnly);\n    }\n  };\n  var onInput = function onInput(event) {\n    var target = event.target;\n    if (props.autoResize) {\n      resize(ObjectUtils.isEmpty(target.value));\n    }\n    props.onInput && props.onInput(event);\n    ObjectUtils.isNotEmpty(target.value) ? DomHandler.addClass(target, 'p-filled') : DomHandler.removeClass(target, 'p-filled');\n  };\n  var resize = function resize(initial) {\n    var inputEl = elementRef.current;\n    if (inputEl && DomHandler.isVisible(inputEl)) {\n      if (!cachedScrollHeight.current) {\n        cachedScrollHeight.current = inputEl.scrollHeight;\n        inputEl.style.overflow = 'hidden';\n      }\n      if (cachedScrollHeight.current !== inputEl.scrollHeight || initial) {\n        inputEl.style.height = '';\n        inputEl.style.height = inputEl.scrollHeight + 'px';\n        if (parseFloat(inputEl.style.height) >= parseFloat(inputEl.style.maxHeight)) {\n          inputEl.style.overflowY = 'scroll';\n          inputEl.style.height = inputEl.style.maxHeight;\n        } else {\n          inputEl.style.overflow = 'hidden';\n        }\n        cachedScrollHeight.current = inputEl.scrollHeight;\n      }\n    }\n  };\n  React.useEffect(function () {\n    ObjectUtils.combinedRefs(elementRef, ref);\n  }, [elementRef, ref]);\n  React.useEffect(function () {\n    if (props.autoResize) {\n      resize(true);\n    }\n  }, [props.autoResize]);\n  var isFilled = React.useMemo(function () {\n    return ObjectUtils.isNotEmpty(props.value) || ObjectUtils.isNotEmpty(props.defaultValue);\n  }, [props.value, props.defaultValue]);\n  var hasTooltip = ObjectUtils.isNotEmpty(props.tooltip);\n  var className = classNames('p-inputtextarea p-inputtext p-component', {\n    'p-disabled': props.disabled,\n    'p-filled': isFilled,\n    'p-inputtextarea-resizable': props.autoResize\n  }, props.className);\n  var rootProps = mergeProps({\n    ref: elementRef,\n    className: className,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onKeyUp: onKeyUp,\n    onKeyDown: onKeyDown,\n    onBeforeInput: onBeforeInput,\n    onInput: onInput,\n    onPaste: onPaste\n  }, InputTextareaBase.getOtherProps(props), ptm('root'));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"textarea\", rootProps), hasTooltip && /*#__PURE__*/React.createElement(Tooltip, _extends({\n    target: elementRef,\n    content: props.tooltip\n  }, props.tooltipOptions, {\n    pt: ptm('tooltip')\n  })));\n}));\nInputTextarea.displayName = 'InputTextarea';\n\nexport { InputTextarea };\n","import React, { useEffect, useRef, useState } from 'react'\n import { FileUpload } from 'primereact/fileupload';        \nimport firebase from 'firebase/compat/app';\nimport { useAuth } from '../../Accounts/useAuth';\nimport {Layout} from \"../../components/Layout\"\nimport 'firebase/auth';\nimport { Form, ListGroup } from 'react-bootstrap';\nimport { Badge } from 'primereact/badge';\nimport 'firebase/database';\nimport { Card } from 'react-bootstrap';\nimport { nanoid } from 'nanoid';\nimport 'quill/dist/quill.snow.css';\nimport { Editor } from \"primereact/editor\";\nimport MessageDrawer from \"./MessageDrawer\";\nimport MessageA from \"./MessageA\";\nimport MessageB from \"./MessageB\";\nimport Users from \"./MessageUsers\";\nimport im from '../../images/proxy.jpeg';\nimport { Image } from 'primereact/image';\nimport ContentEditable from 'react-contenteditable';\nimport ReactHtmlParser, { Comment } from \"html-react-parser\";\nimport data from '@emoji-mart/data'\nimport Picker from '@emoji-mart/react'\nimport { Button } from 'primereact/button';\nimport { OverlayPanel } from 'primereact/overlaypanel';\nimport { debounce } from 'lodash';\nimport { Skeleton } from 'primereact/skeleton';\n//import 'firebase/compat/firestore'; // import from compat version fas\n/*       <MDBBtn rippleDuration={3000} size='lg' rippleColor='red' color='light'> \n\n <div className='bg-image'>\n      <img src='https://mdbootstrap.com/img/new/standard/city/053.webp' className='w-100' />\n      <div className='mask' style={{ backgroundColor: 'rgba(0, 0, 0, 0.6)' }}></div>\n    </div>   to ad a shadow .shadow-1 to 5  .shadow-inner   .hover-shadow\n*/\n\nimport{\n  faSun,\n  faG,\n  faSmile,\n  faPaperPlane,\n  faPaperclip,\n  faTrashCan,\n  faTrashArrowUp,\n  faTrashRestore,\n  faTrashAlt,\n  faTrash,\n  faShareNodes,\n  faTimes,\n  faLink,\n  faEnvelopeOpenText,\n  faArrowRightFromBracket,\n  faArrowsLeftRightToLine,\n  faDownLeftAndUpRightToCenter,\n  faRightFromBracket,\n  faAngleLeft,\n  faChevronLeft,\n  faEllipsis,\n  faTimesCircle,\n  faImages,\n  faTimesSquare,\n  faMagnifyingGlassPlus,\n  faMagnifyingGlassMinus\n} from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'gatsby';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport '../../styles/Messages.css';\nimport { InputTextarea } from 'primereact/inputtextarea';\nimport { ListBox } from 'primereact/listbox';\nimport { FaImages, FaOpencart, FaTrashRestore } from 'react-icons/fa';\nimport Navbar from '../../components/Navbar';\nconst firebaseConfig015 = {\n  // your firebase config fas\n\n  apiKey: \"AIzaSyALrSOduM9yvvHS_fR14WeCcgEhH5D8oCA\",\n\n  authDomain: \"zenaglob.firebaseapp.com\",\n\n  databaseURL: \"https://zenaglob-default-rtdb.firebaseio.com\",\n\n  projectId: \"zenaglob\",\n\n  storageBucket: \"zenaglob.appspot.com\",\n\n  messagingSenderId: \"62411931925\",\n\n  appId: \"1:62411931925:web:6581dc5950a7a2137fa91c\",\n\n  measurementId: \"G-KDMQLLD16X\"\n\n\n};\n\nexport default function Messages() {\n\n  \nconst [ifdark, setdark] = useState(true)\n       \n  const {user, loading} = useAuth();\n  const nano = nanoid();\n    firebase.initializeApp(firebaseConfig015, 'app015');\n    const app015 = firebase.app('app015');\n    const [fullSizeImage, setFullSizeImage] = useState(null);\n    const [lockedmeUsers,  setlockedmeUsers]  =  useState([])\n\n      const [messages, setMessages] = useState([]);\n      const [newMessage, setNewMessage] = useState('');\n      const [conversations, setConversations] = useState([]);\n      const [selectedUser, setSelectedUser] = useState(null);\n      const op = useRef(null);\n      const inputRef = useRef(null);\n      const text = useRef(\"\");\n      const [idis, setIds] = useState(null);\n\n      const chatId11 = user && `${user.uid}-${idis}`;\n   \nconst chatId22 = user && `${idis}-${user.uid}`;\n     // const chatId1 = user && user.uid;\n    \n     const handleNewMessageChange = (event) => {\n      setNewMessage(event.target.value);\n\n\n    }\n\n     const [selectedSender,setSelectedSender] = useState(null)\n\nconst [selectedreceiver, setSelectedreceiver] = useState(null)\nconst [chatId1, setchatId1] = useState(null);\nconst [chatId2, setchatId2] = useState(null);\nuseEffect(()=>{\n  setchatId1( user && `${user.uid}-${selectedSender === user.uid ? selectedreceiver && selectedreceiver : selectedSender && selectedSender}`\n  ) \n  setchatId2(\n  user && `${selectedreceiver === user.uid ? selectedSender &&  selectedSender : selectedreceiver && selectedreceiver  }-${user.uid}`\n  )\n}, [selectedSender, selectedreceiver])\n\n  \n    // console.log(\"this is the selectedreceiver\", selectedreceiver)\n// console.log(\"this is the SelectedSender\", selectedSender)\n     // Send message to Firebase Realtime Database\n     const sendMessage = (event) => {\n        event.preventDefault();\n\n        \n\n        const message = newMessage;\n        const timestamp = new Date().getTime();\n      \n        if (!user) return;\n      \n        const chatRef =  app015.database().ref(`chats/${chatId1}`);\n      \n        chatRef.once('value', (snapshot) => {\n          if (snapshot.exists()) {\n            // Chat exists, push the new message youtube\n            chatRef.push({\n              message,\n              sender: user.uid,\n              receiver: user.uid ===  selectedreceiver ? selectedSender : selectedreceiver,\n              timestamp,\n              textid: nano,\n               read: false\n            });\n          } else {\n            // Chat doesn't exist, check if chatId2 exists\n            const chatRef2 = app015.database().ref(`chats/${chatId2}`);\n      \n            chatRef2.once('value', (snapshot) => {\n              if (snapshot.exists()) {\n                // Chat exists, push the new message\n                chatRef2.push({\n                  message,\n                  sender: user.uid,\n                  receiver: user.uid ===  selectedreceiver ? selectedSender : selectedreceiver,\n                  timestamp,\n                  textid: nano,\n                  read: false\n\n                });\n              } else {\n                // Chat doesn't exist, create a new chat with chatId1\n                chatRef.push({\n                 \n                      message,\n                      sender: user.uid,\n                      receiver: user.uid ===  selectedreceiver ? selectedSender : selectedreceiver,\n                      timestamp,\n                      textid: nano,\n                      read: false\n                      \n                  \n                });\n              }\n            });\n          }\n        });\n      \n        setNewMessage(\"\");\n        if( newMessage === \"\"){\n        contentEditableRef.current.innerHTML = \"\"\n        }\n      };\n      const [Imaged, setImaged ] = useState('')\n      const fileInputRef = useRef(null);\n\n      const [previews, setPreviews] = useState('')\n\n    \n      const handleImageUpload = (event) => {\n        const file = event.target.files[0];\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onloadend = () => {\n          const base64String = reader.result;\n          setNewMessage((prev) => prev + \" \" + base64String); // append the base64-encoded image data to the existing message\n          setPreviews(base64String);\n\n          // Set the current text to the new base64-encoded image data\n          inputRef.current =  `<div class=\"card flex justify-content-center\"><Image className=\"sized\" src=\"${base64String}\" zoomSrc=\"${base64String}\" alt=\"Image\" class=\"resizedImages\" width=\"250\" preview /></div>\n`  };\n      };\n        \n        \n      \n\n      const [showPicker, setShowPicker] = useState(false);\n      const pickerRef = useRef(null);\n    \n      useEffect(() => {\n        const handleClickOutside = (event) => {\n          if (pickerRef.current && !pickerRef.current.contains(event.target)) {\n            setShowPicker(false);\n          }\n        };\n    \n        document.addEventListener(\"mousedown\", handleClickOutside);\n    \n        return () => {\n          document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n      }, [pickerRef]);\n    \n      const handleButtonClick = () => {\n        setShowPicker(!showPicker);\n      };\n\n\n\n      const handleImageOrVideos = (url) => {\n        const fileExtension = url.split('.').pop().toLowerCase();\n      \n        if (fileExtension === 'jpg' || fileExtension === 'png' || fileExtension === 'jpeg' || fileExtension === 'gif'  || fileExtension === 'img') {\n          // If the URL is pointing to an image\n          return `<div class=\"card flex w-50 justify-content-center\"><Image class=\"sized\"   src=\"${url}\" zoomSrc=\"${url}\" alt=\"Image\" class=\"resizedImages\" width=\"250\"  preview /></div>`;\n        } else if (fileExtension === 'mp4') {\n          // If the URL is pointing to a video\n          return `<video src=\"${url}\" controls>Your browser does not support the video tag.</video>`;\n        } else if (fileExtension === 'mp3') {\n          // If the URL is pointing to an audio file\n          return `<audio src=\"${url}\" controls>Your browser does not support the audio tag.</audio>`;\n        } else {\n          // If the URL is not pointing to an image, video, or audio file, check if it's a YouTube link\n          const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|embed\\/|v\\/)?([\\w-]{11})(\\S+)?$/; \n          const match = url.match(youtubeRegex);\n          if (match) {\n            // If the URL is a YouTube link, extract the video id\n            const videoId = match[5];\n            return `<div className=\"Fit\" style=\"position: relative; padding-bottom: 56.25%; height: 300px, width: 300px\">\n            <iframe\n            width=\"300\"\n            height=\"300\"\n            src='https://www.youtube.com/embed/${videoId}'\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n            title=\"Embedded youtube\"\n          ></iframe>\n\n\n\n             \n               </div>`;\n\n          } else {\n            // If the URL is not pointing to an image, video, or YouTube link, return the URL\n            return url;\n          }\n        }\n      };\n    \n // const words = newMessage.split(' ');\n\n\n const generateMarkup = () => {\n  \n  const words = newMessage.split(' ');\n  const elements = [];\n\n  words.forEach((word, index) => {\n    if (word.startsWith('http') || word.startsWith('https')) {\n      const element = handleImageOrVideos(word) || (\n        <a href={word} target=\"_blank\" rel=\"noopener noreferrer\">\n          {word}\n        </a>\n      );\n      elements.push( element);\n    } else if (word.startsWith(\"data:image/\")) {\n      // If the word is a base64-encoded image data URL, create an <img> tag\n      elements.push(`<div class=\"card flex justify-content-center\"><Image className=\"sized\" src=\"${word}\" zoomSrc=\"${word}\" alt=\"Image\" class=\"resizedImages\" width=\"250\" preview /></div>`);\n    }\n  });\n\n  return elements.join('');\n};\n\n\nconst [BlockedMe, setBlockedMe] = useState('');\n\nconst [inputVal, setInputValue] = useState(\"\");\n\nconst debouncedHandleChange = debounce((event) => {\n  const inputValue = event.target.innerHTML;\n  setNewMessage(inputValue);\n  if (inputValue.length <= 0) {\n    setNewMessage('');\n  }\n}, 300); \n\nconst handleChange = (event) => {\n  debouncedHandleChange(event);\n};\n\n\n\n\n\n console.log(\"if this is the vals\", newMessage)\n\n/*\nconst handlePaste = (evt) => {\n  const pasteData = evt.clipboardData.getData(\"text/plain\");\n  const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|embed\\/|v\\/)?([\\w-]{11})(\\S+)?$/i;\n  const match = pasteData.match(youtubeRegex);\n\n  if (match) {\n    evt.preventDefault(); // prevent default paste behavior\n\n    const videoId = match[5];\n    const iframe = document.createElement('iframe');\n    iframe.style.position = 'absolute';\n    iframe.style.top = 0;\n    iframe.style.left = 0;\n    iframe.style.width = '50%';\n    iframe.style.height = '50%';\n    iframe.src = `https://www.youtube.com/embed/${videoId}?controls=0&modestbranding=1`;\n    iframe.title = 'YouTube video player';\n    iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';\n    iframe.allowFullscreen = true;\n\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(evt.clipboardData.getData('text/html'), 'text/html');\n    const pastedElement = doc.documentElement;\n\n    const range = window.getSelection().getRangeAt(0);\n    range.deleteContents();\n    range.insertNode(iframe);\n    range.insertNode(pastedElement);\n  }\n};\n\n*/\nconst handleEmojiSelect = (emo) => {\n  console.log(emo);\n //  setNewMessage((prevMessage) => prevMessage + emo.unified);\n  contentEditableRef.current.innerHTML = contentEditableRef.current.innerHTML+emo.native\n       \n        \n    \n}\n    \nconst submits = () => {\n  \n  contentEditableRef.current.innerHTML = \" \"\n}\n\nconst formatDate = (date) => {\n        if (!date) {\n          return \"\";\n        }\n        const timeDiffMs = new Date() - new Date(date);\n        const timeDiffMSec = Math.floor(timeDiffMs / 1000);\n        if (timeDiffMSec === 0) {\n          return `right_now`;\n        }\n        const timeDiffSec = Math.floor(timeDiffMs / 1000);\n        if (timeDiffSec < 60) {\n          return `${timeDiffSec} sec `;\n        }\n        const timeDiffMin = Math.floor(timeDiffSec / 60);\n        if (timeDiffMin < 60) {\n          return `${timeDiffMin} min `;\n        }\n        const timeDiffHr = Math.floor(timeDiffMin / 60);\n        if (timeDiffHr < 24) {\n          return `${timeDiffHr} h `;\n        }\n        const timeDiffDay = Math.floor(timeDiffHr / 24);\n        if (timeDiffDay < 2) {\n          return `${timeDiffDay} day `;\n        }else if(timeDiffDay < 30){\n            return `${timeDiffDay} day's `;\n        }\n        const timeDiffMo = Math.floor(timeDiffDay / 30);\n        if (timeDiffMo < 12) {\n          return `${timeDiffMo} mo's `;\n        }else  if (timeDiffMo < 1) {\n            return `${timeDiffMo} mo `;\n        }\n        const timeDiffYr = Math.floor(timeDiffMo / 12);\n        return `${timeDiffYr} yr's `;\n      };\n      console.log(\"if full image trigers\", fullSizeImage);\n\nconst [pic,setpic] = useState(null);\nconst [named, setnamed] = useState(null);\n\nconst [mypic, setmypic] = useState(im)\nconst [myuser, setmyuser] = useState(null)\n\n\n      useEffect(() => {\n        if (!user) return;\n      \n        app015\n          .database()\n          .ref(`chats`)\n          .on('value', (snapshot) => {\n            if (!snapshot) return;\n      \n            const filteredChats = [];\n      \n            snapshot.forEach((childSnapshot) => {\n              const chatValues = childSnapshot.val();\n              const chatId = childSnapshot.key;\n              const split = chatId.split('-');\n              const chat = Object.values(chatValues);\n      \n              const otherUser = split.includes(user.uid)\n      \n              if (otherUser) {\n                filteredChats.push(chat);\n              }\n            });\n      \n            setConversations(filteredChats);\n\n            console.log(\"this are the filtered chats\", filteredChats)\n          });\n      }, [user]);\n      \n    \n      const handleDelete = (messageId) => {\n        const chatRef = app015.database().ref(`chats/${chatId1}`);\n            \n        chatRef.once('value', (snapshot) => {\n          if (snapshot.exists()) {\n            const removeRef = app015.database().ref(`chats/${chatId1}`)\n                .orderByChild('textid')\n                .equalTo(messageId);\n      \n            removeRef.once('value', (removeSnapshot) => {\n              if (removeSnapshot.exists()) {\n                removeSnapshot.forEach((childSnapshot) => {\n                  childSnapshot.ref.remove();\n                });\n              }\n            });\n          } else {\n            // Chat doesn't exist, check if chatId2 exists\n            const chatRef2 = app015.database().ref(`chats/${chatId2}`);\n                \n            chatRef2.once('value', (snapshot) => {\n              if (snapshot.exists()) {\n                const removeRef2 = app015.database().ref(`chats/${chatId2}`)     \n                    .orderByChild('textid')\n                    .equalTo(messageId);\n      \n                removeRef2.once('value', (removeSnapshot) => {\n                  if (removeSnapshot.exists()) {\n                    removeSnapshot.forEach((childSnapshot) => {\n                      childSnapshot.ref.remove();\n                    });\n                  }\n                });\n              }\n            });\n          };\n        });\n      };\n      \n\n\n\n\n\n       //  app015.database().ref(`chats/${chatId}/${messageId}`).remove();\n    \n\n\nconst handleRead = () => {\n  const chatRef = app015.database().ref(`chats/${chatId1}`);\n\n  chatRef.once('value', (snapshot) => {\n    if (snapshot.exists()) {\n      const ref = chatRef.orderByChild('receiver').equalTo(user && user.uid);\n\n      ref.once('value', (snapshot) => {\n        if (!snapshot) return;\n        snapshot.forEach((childSnapshot) => {\n          const message = childSnapshot.val();\n          if (message.read === false) {\n            chatRef.child(childSnapshot.key).update({ read: true });\n          }\n        });\n      });\n    } else {\n      const chatRef2 = app015.database().ref(`chats/${chatId2}`);\n\n      chatRef2.once('value', (snapshot) => {\n        if (snapshot.exists()) {\n          const ref2 = chatRef2.orderByChild('receiver').equalTo(user && user.uid);\n\n          ref2.once('value', (snapshot) => {\n            if (!snapshot) return;\n            snapshot.forEach((childSnapshot) => {\n              const message = childSnapshot.val();\n              if (message.read === false) {\n                chatRef2.child(childSnapshot.key).update({ read: true });\n              }\n            });\n          });\n        }\n      });\n    }\n  });\n};\n\n\n       const  [setupidA, setSetupidA] = useState(null);\n   \n const [setupDp, SetsetupDp] = useState(null);\n       const [setupidB, setSetupidB] = useState(null);\n\n       console.log(\"this are the uSerA Data chats frm M\",setupidA)\nconst [activate, setActivate] = useState(false)\nconst [showBox, setShowBox] = useState(false)\n\n\n\nuseEffect(() => {\n  if (loading !== undefined && !loading) {\n    setTimeout(() => {\n      if ( loading !== undefined && !loading) {\n        window.location.href = \"/\";\n      }\n    }, 3000);\n  }\n}, [loading]);\n\n\nconst debouncedHandleUser = debounce((userId, sender, receiver, pic, name, isread) => {\n \n \n\n  setSelectedUser(userId);\n  setMessages(conversations[userId] || []);\n\n  setnamed(name);\n  setpic(pic);\n  setSelectedSender(sender);\n  receiver && setSelectedreceiver(receiver);\n  setActivate(true)\n \n}, 200); \n\n\n\nconst handleUserClick = (userId, sender, receiver, pic, name, isread) => {\n  debouncedHandleUser(userId, sender, receiver, pic, name, isread)\n \nhandleChatBoxClick();\n\nisread && setShowBox(true);\n}\n\n\nuseEffect(() => {\n  handleRead();\n}, [handleUserClick])\n    \n      const Ref = useRef(null)\n      const [setup, setSetup] = useState(null)\n      const [filtered, setSetupfilter] = useState(null)\n    \n   \n            console.log(\"these is the setupidA withot map \", setupidA && setupidA);\n\n\n            const [ids, setids] = useState(null)\n\nconst  [showUploa, SetshowUploa] = useState(true)\n\n\n\n\nconst [newMessages, setNewMessages] = useState({});\nif(newMessages){\n  console.log(\"newMessages messages is \", newMessages)\n\n}\n\n\nconst [hasRead, sethasRead] = useState(null)\n\nuseEffect(() => {\n   const users = [...Object.keys(conversations)].sort((a, b) => {\n          const aTime = conversations[a].slice().reverse()[0].timestamp;\n          const bTime = conversations[b].slice().reverse()[0].timestamp;\n          return bTime - aTime;\n        });\n        \n  users &&  users.map((userId) => {\n   \n\n     if(userId === selectedUser){\n        \n       const values =   conversations[userId]\n        .slice()\n        .reverse()[0].sender === user.uid && \n        conversations[userId]\n          .slice()\n          .filter((a) => a.read === false).length;\n          \n        sethasRead(values);\n\n        const conversation = conversations[userId][0];\n        const sender = conversation.sender === user.uid ? user.uid : conversation.sender;\n        const receiver = conversation.receiver === user.uid ? conversation.sender : conversation.receiver;\n        const dp = setupDp && setupDp[userId];\n        const idA = setupidA && setupidA[userId];\n        \n        handleUserClick(userId, sender, receiver, dp, idA);\n        \n          setNewMessages((prev) => ({\n            ...prev,\n            [userId]: 0, // set the count for the selected conversation to zero\n          }));\n\n     \n\n          Ref.current = null\n        }else if(userId !== selectedUser){\n        \n        \n           if(conversations[userId][0]?.sender !== user.uid ){\n\n            setSetup(conversations[userId][0]?.sender !== user.uid && messages.filter((l) => l.sender.length).length);\n            setSetupfilter(conversations[userId][0]?.sender !== user.uid  && conversations[userId].filter((l) => l.sender.length).length)\n         \n                      } \n        \n           if(filtered > setup){\n\n\n            Ref.current =    filtered\n            \n\n                           }else{\n          Ref.current = null\n                           }\n     \n                    }\n                  })\n\n                  const vals = []\n               users &&   users.map((userId) => { \n                    conversations[userId][0].sender === user.uid ? vals.push(conversations[userId][0].receiver) : vals.push(conversations[userId][0].sender)\n           })\nsetids(vals)\n\n\n\n\n\n}, [conversations])\n    \n/*\n   if(userId !== selectedUser){\n        \n          setStore(pre => pre && conversations[userId].length > pre[userId][0].length  )\n\n          \n          }\n            \n          \n          useEffect(() =>  {\n\nconst val = document.getElementById('blockedperson').innerText;\n\n\n\nyou are seeing this because you this user has  blocked you!\n\n}, [])\n*/\n\n\nconst chatBoxRef = useRef(null);\nconst handleChatBoxClick = () => {\n  scrollToRecentMessage();\n};\n\nconst scrollToRecentMessage = () => {\n  if (chatBoxRef.current) {\n    const messages = chatBoxRef.current.getElementsByClassName(\"list-group-item\");\n    if (messages.length > 0) {\n      const lastMessage = messages[messages.length - 1];\n      lastMessage.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }\n};\n\nuseEffect(() => {\n  scrollToRecentMessage();\n}, [messages])\n\nconst [isFocused, setIsFocused] = useState(false);\nconst [content, setContent] = useState(\"\");\n\nconst handleFocus = () => {\n  setIsFocused(true);\n};\n\nconst handleBlur = () => {\n  setIsFocused(false);\n};\n\n\n\nconsole.log(\"it exists \", idis)\n\nconst contentEditableRef = useRef('');\n\nconst sendMesso = (event) => {\n  event.preventDefault();\n  console.log(\"does it exists \", idis)\n   \n  if(ids === user.uid) return alert(\"don't send message to yourself!!\")\n  const nano = nanoid();\n\n  const message = newMessage ;\n\n  const timestamp = new Date().getTime();\n\n  if (!user) return;\n\n  if(!idis) return\n  const chatRef = app015.database().ref(`chats/${chatId11}`);\n  \n  chatRef.once('value', (snapshot) => {\n    if (snapshot.exists()) {\n      // Chat exists, push the new message\n      chatRef.push({\n        message,\n        sender: user.uid,\n        receiver: idis,\n        timestamp,\n        textid: nano,\n        read: false\n\n      });\n    } else {\n      // Chat doesn't exist, check if chatId2 exists\n      const chatRef2 = app015.database().ref(`chats/${chatId22}`);\n      \n      chatRef2.once('value', (snapshot) => {\n        if (snapshot.exists()) {\n          // Chat exists, push the new message\n          chatRef2.push({\n            message,\n                  sender: user.uid,\n                  receiver: idis,\n                  timestamp,\n                  textid: nano,\n                  read: false\n\n          });\n        } else {\n          // Chat doesn't exist, create a new chat with chatId1\n          chatRef.push({\n            message,\n            sender: user.uid,\n            receiver: idis,\n            timestamp,\n            textid: nano,\n            read: false\n            \n          });\n        }\n      });\n    }\n  });\n  setNewMessage(\"\");\n  setPreviews(\"\")\n        if( newMessage === \"\"){\n        contentEditableRef.current.innerHTML = \"\"\n        }\n\n};\n\n\n\n\n\nconst [showmuted, setshowmuted] = useState(false);\n\n\nconst [createmessage,  setCreatemesage] = useState(false);\n\nconst [searchval, setSearchVal] = useState(null)\nconst [searchId, setSearchId] = useState(null)\nconsole.log(\"this is the val fi id  \", searchval) \n\nconsole.log(\"this is the seadcc tis fi id  \", searchId)\n\n\n\n\n      const renderUsers = () => {\n     \n        const users = [...Object.keys(conversations)].sort((a, b) => {\n          const aTime = conversations[a].slice().reverse()[0].timestamp;\n          const bTime = conversations[b].slice().reverse()[0].timestamp;\n          return bTime - aTime;\n        });\n    \n \n        if(searchval){\n\n\n          const users = [...Object.keys(conversations)].sort((a, b) => {\n            const aTime = conversations[a].slice().reverse()[0].timestamp;\n            const bTime = conversations[b].slice().reverse()[0].timestamp;\n            return bTime - aTime;\n          });\n          \n          users &&  users.map((userId) => {\n  \n    \n\n            console.log(\"if this two are equal props shows props\",    searchval && searchval.toLowerCase() === (setupidA && setupidA[userId] && setupidA[userId].toLowerCase()) )\n            console.log(searchval && searchval)\n            console.log(setupidA && setupidA)\n         \n            console.log(\"if this two are equal props shows good really\", searchval && searchval.toLowerCase() , setupidA && setupidA[userId] &&  setupidA[userId].toLowerCase()  )\n      \n          })\n        }\n\n       console.log( 'show those who blocked me ', lockedmeUsers)\n\n\n      \n        return (\n        \n            <ListGroup>\n            {users && users.map((userId) => (\nsearchval && searchval.length > 1 ?\nsearchval && searchval.toLowerCase() === (setupidA && setupidA[userId] && setupidA[userId].toLowerCase())  &&\n\n \n<ListGroup.Item\nkey={userId}\nactive={userId === selectedUser}\nstyle={{display: BlockedMe && BlockedMe.some(a => Array.isArray(a) && a.includes(setupidA && setupidA[userId[0]])) ? \"none\" : \"block\",\n background:  userId === selectedUser && \"#fbfcff\", borderRight: userId === selectedUser && \"none\", borderColor: userId === selectedUser &&\"yellowgreen\"}}\n onClick={() => {\n  const conversation = conversations[userId][0];\n  const sender = conversation.sender === user.uid ? user.uid : conversation.sender;\n  const receiver = conversation.receiver === user.uid ? conversation.sender : conversation.receiver;\n  const dp = setupDp && setupDp[userId];\n  const idA = setupidA && setupidA[userId];\n  const timestamp = conversations[userId]?.slice().reverse()[0].timestamp;\n\n  handleUserClick(userId, sender, receiver, dp, idA, timestamp);\n}}\n\nonTouchEnd={\n  () => {\n    const conversation = conversations[userId][0];\n    const sender = conversation.sender === user.uid ? user.uid : conversation.sender;\n    const receiver = conversation.receiver === user.uid ? conversation.sender : conversation.receiver;\n    const dp = setupDp && setupDp[userId];\n    const idA = setupidA && setupidA[userId];\n    const timestamp = conversations[userId]?.slice().reverse()[0].timestamp;\n  \n    handleUserClick(userId, sender, receiver, dp, idA, timestamp);\n  }\n\n}\n>  \n\n\n<MessageDrawer personid={conversations[userId][0].sender === user.uid ? conversations[userId][0].receiver :   conversations[userId][0].sender }\nsetmypic={setmypic} \nshowmuted = {showmuted} \nsetshowmuted = {setshowmuted}\nsetlockedmeUsers={setlockedmeUsers}\nsetmyuser={setmyuser} \nsetupDp={setupDp}\nSetsetupDp={SetsetupDp} \nuserId={userId}  \nsetupid={setupidA} \nsetSetupidA={setSetupidA}\nconversations = {conversations} \nsetup={setupidA} \nsetupidA={[userId][0]} \nsearchval={searchval}\nsetSearchId={setSearchId}\nsetBlockedMe = {setBlockedMe}\nBlockedMe = {BlockedMe}\nRef =  {conversations[userId]\n.slice()\n.reverse()[0].receiver === user.uid && \nconversations[userId].filter(a => a.receiver === user.uid)\n.slice()\n.filter((a) => a.read === false).length\n} \n\nSetupidA={setSetupidA}\nSetupidB={setSetupidB} \nidB={user && user.uid} \nidA={ids} \n\ntext={ userId !== selectedUser ?   conversations[userId].slice().reverse()[0].message.length > 50 ? conversations[userId].slice().reverse()[0].message.slice(0, 50) +\"...\":  conversations[userId].slice().reverse()[0].message : \"\"  } \ntime ={ formatDate(conversations[userId].slice().reverse()[0].timestamp) }  /> \n\n\n</ListGroup.Item>  \n\n:\n\n<ListGroup.Item\nkey={userId}\nactive={userId === selectedUser}\nstyle={{  display :  BlockedMe && BlockedMe.some(a => a &&  a.includes(setupidA && setupidA[userId[0]] )) && \"none\" , background:  userId === selectedUser && \"#fbfcff\", borderRight: userId === selectedUser && \"none\", borderColor: userId === selectedUser &&\"yellowgreen\"}}\nonClick={() => {const conversation = conversations[userId][0];\n  const sender = conversation.sender === user.uid ? user.uid : conversation.sender;\n  const receiver = conversation.receiver === user.uid ? conversation.sender : conversation.receiver;\n  const dp = setupDp && setupDp[userId];\n  const idA = setupidA && setupidA[userId];\n  const timestamp = conversations[userId]?.slice().reverse()[0].timestamp;\n  \n  handleUserClick(userId, sender, receiver, dp, idA, timestamp);}\n  }\n\n\n\n\n  onTouchEnd={\n    () => {const conversation = conversations[userId][0];\n      const sender = conversation.sender === user.uid ? user.uid : conversation.sender;\n      const receiver = conversation.receiver === user.uid ? conversation.sender : conversation.receiver;\n      const dp = setupDp && setupDp[userId];\n      const idA = setupidA && setupidA[userId];\n      const timestamp = conversations[userId]?.slice().reverse()[0].timestamp;\n      \n      handleUserClick(userId, sender, receiver, dp, idA, timestamp);}\n  }\n>  \n{BlockedMe && BlockedMe.includes( conversations[userId][0].receiver === user.uid ?  conversations[userId][0].sender :  conversations[userId][0].receiver) \n  ? \"\" :  \n<MessageDrawer\n personid={conversations[userId][0].sender === user.uid ? conversations[userId][0].receiver :   conversations[userId][0].sender }\nsetmypic={setmypic} \nshowmuted = {showmuted} \nsetshowmuted = {setshowmuted}\nsetlockedmeUsers={setlockedmeUsers}\nsetmyuser={setmyuser} \nsetupDp={setupDp}\nSetsetupDp={SetsetupDp} \nuserId={userId}  \nsetupid={setupidA} \nsetSetupidA={setSetupidA}\nconversations = {conversations} \nsetup={setupidA} \nsetBlockedMe = {setBlockedMe} \nBlockedMe = {BlockedMe}\nsetupidA={[userId][0]} \nsearchval={searchval}\nsetSearchId={setSearchId}\nRef =  {conversations[userId]\n.slice()\n.reverse()[0].receiver === user.uid && \nconversations[userId].filter(a => a.receiver === user.uid)\n.slice()\n.filter((a) => a.read === false).length\n} \n\nSetupidA={setSetupidA}\nSetupidB={setSetupidB} \nidB={user && user.uid} \nidA={ids} \n\ntext={ userId !== selectedUser ?   conversations[userId].slice().reverse()[0].message.length > 50 ? conversations[userId].slice().reverse()[0].message.slice(0, 50) +\"...\":  conversations[userId].slice().reverse()[0].message : \"\"  } \ntime ={ formatDate(conversations[userId].slice().reverse()[0].timestamp) }  /> }\n\n\n</ListGroup.Item>  \n\n))}\n{ /* users && users.filter((userId) => (\n\n <ListGroup.Item\n                key={user}\n                active={userId === selectedUser}\n                style={{ background:  userId === selectedUser && \"#fbfcff\", borderRight: userId === selectedUser && \"none\", borderColor: userId === selectedUser &&\"yellowgreen\"}}\n                onClick={() => handleUserClick(userId, ( conversations[userId][0]?.sender === user.uid ? user.uid : user.uid),( conversations[userId][0]?.receiver === user.uid ? conversations[userId][0]?.sender : conversations[userId][0]?.receiver), setupDp && setupDp[userId] ,setupidA && setupidA[userId], conversations[userId].slice().reverse()[0].timestamp)}\n              >  \n<MessagedrawerShows\n personid={conversations[userId][0].sender === user.uid ? conversations[userId][0].receiver :   conversations[userId][0].sender }\n setmypic={setmypic} \n setmyuser={setmyuser} \n  setupDp={setupDp}\n   SetsetupDp={SetsetupDp} \n   userId={userId}  \n   setupid={setupidA} \n    setSetupidA={setSetupidA}\n     conversations = {conversations} \n     setup={setupidA} \n     setupidA={[userId][0]} \n     searchval={searchval}\n     Ref =  {conversations[userId]\n      .slice()\n      .reverse()[0].receiver === user.uid && \n      conversations[userId]\n        .slice()\n        .filter((a) => a.read === false).length\n        } \n\n     SetupidA={setSetupidA}\n      SetupidB={setSetupidB} \n      idB={user && user.uid} \n       idA={ids} \n       \n       text={ userId !== selectedUser ?   conversations[userId].slice().reverse()[0].message.length > 50 ? conversations[userId].slice().reverse()[0].message.slice(0, 50) +\"...\":  conversations[userId].slice().reverse()[0].message : \"\"  } \n         time ={ formatDate(conversations[userId].slice().reverse()[0].timestamp) }  />\n\n\n              </ListGroup.Item>\n\n         \n        )) */}\n\n     \n</ListGroup>\n        );\n      }; \n    \n\n      const [showtextArea, setShowTextArea] = useState(false)\n      const [zoomLevel, setZoomLevel] = useState(1);\n\n\n      const zoomIn = () => {\n        setZoomLevel(zoomLevel + 0.1);\n      };\n    \n      const zoomOut = () => {\n       if(zoomLevel > 1 ) {\n        setZoomLevel(zoomLevel - 0.1);\n       }\n      };\n    \n\nconst [showBin, setshowBin] = useState(false)\n\n\nfunction revert(){\n  setShowTextArea(false)\n  setIds(null);\n\n}\n\nconst initialState = {};\n\nmessages.forEach((message) => {\n  initialState[message.textid] = false\n})\n\n\n\n\nconst [buttonState, setButtonState] = useState(initialState);\n      const renderMessages = () => {\n       // if (!selectedUser) return null;\n\n\n     \n\n     \n\n     \n        return (\n          <>\n        \n            <ListGroup ref={chatBoxRef}>\n            \n              {messages.map((message) => (\n                <ListGroup.Item key={message.textid}>\n                  <div style={{display:\"flex\", position: \"fixed\", top: \"0\", zIndex:\"102\"}}>\n  <button onTouchEnd={() => setShowBox(false)} onClick={() => setShowBox(false) } style={{background:\"transparent\", border:\"none\", color:\"#fefeff\"}}>\n      <FontAwesomeIcon className='bchevro'  style={{paddingTop: \"8px\", fontSize:\"1.6rem\", marginLeft:\"-7px\", marginRight:\"8px\"}} icon={faChevronLeft}/>\n    \n  </button>\n  <img  alt={named && named} className=\"mt-1 img-circle medium-image\" src={pic && pic }/>\n<Link style={{color: \"gray\",fontWeight: \" bold\",fontStyle:\" italic\", fontFamily: \"helvantica\", fontSmooth:\"auto\"}} to={`/profileComponents/Profiles/?id=${message.sender}`}\n> \n <h4 style={{marginTop: \"14px\"}}>{named && named } </h4>\n</Link>               \n            \n                  </div>\n             \n\n {message.sender === user.uid ? \n   \n   \n     \n\n\n  <MessageA \n   mypic = {mypic} \n  fullSizeImage = {fullSizeImage}\n   setFullSizeImage = {setFullSizeImage}\n  setmypic={setmypic} \n  myuser={myuser}\n   setmyuser={setmyuser}  \n    setupidA={setupidA}\n    setupidB={setupidB}\n    hasRead ={hasRead}\n     time ={formatDate(message.timestamp)}\n       message={message.message}\n       lockedmeUsers ={lockedmeUsers}\n         setlockedmeUsers = {setlockedmeUsers}\n      \n       />\n  : \n<MessageB\n  pic={pic}  \n fullSizeImage = {fullSizeImage}\n  setFullSizeImage = {setFullSizeImage} \n named ={named} \n setupidA={setupidA} \n setupidB={setupidB} \n personid={message.sender === user.uid ?  message.receiver : message.sender }\n   message={message.message}\n   lockedmeUsers ={lockedmeUsers}\n    setlockedmeUsers = {setlockedmeUsers}\n     time ={formatDate(message.timestamp)}/>\n  \n    \n}\n        \n\n             \n                        {message.sender === user.uid && (\n                          <>\n<button  onClick={() =>\n              setButtonState((prevState) => ({\n                ...prevState,\n                [message.textid]: !prevState[message.textid],\n              }))\n            }  style={{background:\"transparent\", border:\"none\", color: \"black\", float: \"right\" ,marginLeft:\"10px\"}}>\n<FontAwesomeIcon icon={faEllipsis}   />\n</button>\n                          \n                     \n                    {buttonState[message.textid] && (\n                                          <Button   variant=\"link\" style={{float: \"right\",marginTop:\"-10px\" }} onClick={() => handleDelete(message.textid)}>\n\n                      <FontAwesomeIcon  style={{color:'darkred', fontSize:\"1.1rem\"}}  icon={faTrash} />\n                      \n                   </Button>\n                     )}\n                   </>\n      )}\n                  \n\n\n\n                </ListGroup.Item>\n              ))}\n            </ListGroup>\n            \n                 </>\n                  );\n      };\n                  \n     /*   \n                    className=\"container bg-danger  w-100 m-0 p-0   y-0 x-0\"     \n    style={{heigh : \"100px\"} debounce\n      className={`panel messages-panel  ${showBox ? 'messosize' : \"\" } `}  */\n/*\n      const users = [...Object.keys(conversations)].sort((a, b) => {\n        const aTime = conversations[a]?.slice()?.reverse()?.[0]?.timestamp;\n        const bTime = conversations[b]?.slice()?.reverse()?.[0]?.timestamp;\n        return bTime - aTime;\n      });\n      \n      const messoLength = users && users.map((userId) => (\n        conversations[userId]?.slice()\n          .reverse()?.[0]?.receiver === user.uid &&\n        conversations[userId]?.slice().filter(a => a.receiver === user.uid)\n          .filter(a => !a.read)\n          .length || 0\n      ));\n      \n      const totalLength = messoLength.reduce((total, length) => total + (length ? length : 0), 0);\n      */\n\n      if (!user || !app015.database().ref('chats')) {\n        return <div>Loading</div>;\n      }\n\n\n\n   \n      return (\n  <> \n  <>\n     <Navbar  setLight={setdark} />\n  </>\n\n  <div style={{background: ifdark && \" black\"}} id={ifdark ? \"darkmode\" : \"lightmode\"} className={`${ifdark && \"bg-dark darkmode \"}  `}>\n\n    <div  style={{ marginTop:\"-15px\", height:\"fit-content\"}} >\n    {fullSizeImage &&\n<div id=\"myModal\" className=\"moda  \" >\n      <span onClick={() => setFullSizeImage(null)} className=\"close\">&times;</span>\n     \n      <div style={{marginBottom: \"100px\", width: \"100%\",height: \"100%\", margin:\"auto\", alignItems: \"center\", display:\"flex\", flexDirection:\"column\" }}>\n    <div style={{display:\"inline-block\", float:\"right\", marginTop: \"-45px\"}}>\n    <span  onClick={zoomIn} style={{cursor:\"pointer\" }} className='m-3  text-light '>\n      <FontAwesomeIcon className='hover-text-light' icon={faMagnifyingGlassPlus}/>\n      </span> \n\n      <span  onClick={zoomOut}  style={{cursor:\"pointer\", color:zoomLevel > 1 && \"white\"}} className='m-3 hover-text-light ' >\n        <FontAwesomeIcon className='' icon={faMagnifyingGlassMinus}/>\n        </span>\n    </div>\n      \n      <img style={{ width: `${50 * zoomLevel}%`, textAlign: \"center\" , justifySelf:\"center\", marginLeft:\"auto\", marginRight:\"auto\"}} zoomSrc={fullSizeImage} src={fullSizeImage} alt=\"Full-size Image\" preview />\n     \n      </div>\n    </div> }\n\n\n  <div style={{height: \"100vh\",  position:\"fixed\", left:\"0\", top: \"70px\",bottom:\"0\", background:\"azure\"}}> {/*this uig */}\n        <div   className={`contacts-list   ${showBox ?  \"contacts-li\" : \"contacts-lili\"}`}>\n        \n            <div className=\"inbox-categories  \">\n                <div  onClick={() => setshowmuted(false)} data-toggle=\"tab\" data-target=\"#inbox\"  style={{color: showmuted && \"black\", borderBottomColor:\"black\"}}  className={`${!showmuted &&  \"active\"   }`}> Chats </div>\n                <div onClick={() => setshowmuted(true)} className={`${showmuted && 'active'}`} data-toggle=\"tab\"  data-target=\"#marked\"> Muted </div>\n            </div>\n\n\n            <div className=\"tab-content  \" >\n                <div id=\"inbox\" className=\"contacts-outter-wrapper tab-pane active \">\n   {/*Top Search */}   \n                        <input type=\"text\"  className=\"form-control\" value={searchval} onChange={(e) => setSearchVal( e.target.value)} name=\"search\" placeholder=\" Search\" />\n                        <span className=\"fa fa-search form-control-feedback\"></span>\n                      \n             \n      {/*list outer profile*/}   \n\n\n  \n\n                    <div className=\"contacts-outter \">\n                    \n                        <ul className=\"list-unstyled contacts\">\n                        {renderUsers()}\n                            \n                        </ul>\n                    </div>\n                </div>\n\n\n\n\n               </div>\n\n               </div>\n</div>\n\n\n\n<div     className={`${ !showBox && \"dnoned\"} backis`}\n style={{  marginBottom: \"0\", marginTop: \"5px\",marginBottom:\"20px\", height: \"100vh\"}} >\n       \n        <div className=\"tab-content   \"  >\n        {/*vwsm*/}    <div className=\"tab-pane message-body active  \"  id=\"inbox-message-1\" >\n                <div className=\"message-top  bg-dark bgg asided\" style={{position:\"fixed\", top:'0', zIndex:\"101\", background:\"none\", width: \"fit-content\"}} >\n                {!selectedUser &&   !createmessage   && <button style={{background:\"transparent\", border:\"none\"}} onClick={() => setCreatemesage(true)} className=\"btn btn btn-success new-message bg-dark text-light  float-left\">\n                <FontAwesomeIcon \n                                 icon={faEnvelopeOpenText} \n                                style={{cursor:\"pointer\", color: \"yellowgreen\"}}\n                                 type=\"submit\"\n                                  /> New Message</button>}\n\n                    <div className=\"new-message-wrappe \">\n                      {createmessage && <div className=\" form-group\">\n                      <Users \n                       setCreatemesage = {setCreatemesage}\n                      selectedUser={selectedUser} \n                      setId={setIds}\n                      setShowTextArea= {setShowTextArea}\n                    \n        />\n                        </div>    }\n\n                        <div className=\"chat-footer new-message-textarea d-none h-10 positon-absolute top-0 z-index-3 bg-dark\"  style={{zIndex:\"4\", }}>\n                      \n                            <InputTextarea className=\"send-message-text bg-light\"></InputTextarea>\n                            <label className=\"upload-file\">\n                                <input type=\"file\" required=\"\" className='bg-dark' />\n                                \n                                <FontAwesomeIcon \n                                 icon={faLink} \n                                style={{cursor:\"pointer\", color: \"yellowgreen\"}}\n                                 type=\"submit\"\n                                  />\n\n                            </label>\n                            <button type=\"button\" className=\"send-message-button btn-info\">        \n                                          <FontAwesomeIcon  icon={faPaperPlane} \n                                          style={{cursor:\"pointer\", color: \"yellowgreen\"}}\n                                           type=\"submit\" disabled={!selectedUser} />\n</button>\n\n                        </div>\n                    </div>\n                </div>\n             \n              \n                <div   className={`{ message-chat  ${!showBox && \"message-chated\"} } bg-dark` } >\n                  \n                <div className=\"chat-body bg-success h-100  bg-dark\" style= {{marginBottom:\"60px\"}}>\n                               \n                   \n                {renderMessages()}\n\n           \n                \n\n                       {showtextArea && <div style={{position: \"absolute\", top: \"25%\", bottom: \"25%\" , justifySelf:\"center\", alignItems:\"center\"}}>\n\n                  <Button severity=\"danger\" outlined onClick={revert}><FontAwesomeIcon icon={faTimes} /> </Button>\n                          \n{ lockedmeUsers.some(id => id === selectedreceiver) ? <div style={{background: \"black\", color: \"white\", position:\"fixed\" , bottom: \"0\"}}>  you are seeing this because this user blocked you! </div> :  \n                       <Form className='bg-light' onSubmit={sendMesso}>         \n                               <Form.Group >\n                 {  \n                    <div id=\"containered\" className=\"text-muted d-flex justify-content-start align-items-center pe-3 pt-3 mt-2   w-100 \" >\n                    <img\n                      src={mypic}\n                      alt={user.uid}\n                      style={{ width: \"40px\", height: \"100%\" }}\n                    />\n             \n              <div\n      className=\"input-box b-dark h-100 fom-control fom-control-lg mb-2 h-auto\"\n  ref={contentEditableRef}\n  contentEditable={true}\n  onInput={handleChange}\n  dangerouslySetInnerHTML={{ __html:  generateMarkup() } }\n  spellCheck={true}\n  style={{\n    height: 'fit-content',\n   // minHeight: \"50px\",\n    marginLeft: 'auto',\n   minHeight: \"fit-content\",\n    background:\"white\",\n    marginRight: 'auto',\n    overflow: 'scroll',\n    width:  \"40vw\",\n    border: \"1px solid grey\",\n    padding:\"20px 10px\",\n    color: \"black\",\n    \n     border: \"1px solid #ccc\", padding: \"5px\"\n  }}\n  placeholder={\"Text here ...\"}\n  onFocus={handleFocus}\n  onBlur={handleBlur} \n/>\n<div style={{display:\"flex\", justifyContent:\"space-evenly\", background:\"white\"}}>\n\n\n<input\n  type=\"file\"\n  accept=\"image/*\"\n  onChange={handleImageUpload}\n  //onKeyDown = {ha}\n  ref={fileInputRef}\n  style={{ display: 'none' }} // hide the input element initially\n  />\n\n <label className='positions' htmlFor=\"file-input\" onClick={() => fileInputRef.current.click()}>\n  <FontAwesomeIcon\n    style={{ fontSize:\"1.3rem\", marginLeft:\"10px\", cursor: \"pointer\",color:\"black\"}}\n    icon={faImages}\n  />\n</label>\n\n \n<Button onClick={handleButtonClick} type=\"button\" className='hideit ms-0 p-1 ml-3 text-mute'\n  \n  style={{ background:\"transparent\", border:\"none\"}} >  \n \n  <FontAwesomeIcon   style={{ fontSize:\"1.3rem\",  color:\"#ffcb4d\", cursor:\"pointer\"}}  icon={faSmile} />\n</Button>\n\n{  showPicker && (    \n<div ref={pickerRef}> \n  \n  <Picker \n     data={data}\n       onEmojiSelect={handleEmojiSelect}\n      style={{position: \"absolute\",bottom: \"100%\",right: \"0\"}} />\n\n</div>)\n}\n\n \n                    <button   style={{fontSize:\"1.3rem\", cursor:\"pointer\", background:\"none\", border:\"none\", hover: \"green\"}}  className=\"hovered ms-3 text-muted\" >\n                      <FontAwesomeIcon  icon={faPaperPlane} style={{ cursor:\"pointer\", color: \"yellowgreen\"}} type=\"submit\"  />\n                    </button>\n               \n\n</div>\n\n \n                 \n\n                 \n                  </div>\n      }\n          </Form.Group>\n                    </Form>  \n                    \n                   }\n</div>\n                 \n                       }\n                    </div>\n          \n\n           \n\n          <div style={{width: \"100%\",height:\"70px\", background:\"rgb(251, 252, 255)\",backgroundColor:\"#f8f8f8\", position: \"fixed\", bottom: \"0\", zIndex: \"101\"}}> \n                    <div style={{width:\"60%\", background:\"#fbfcff\", height:\"fit-content\", zIndex:\"102\"}}  className=\"chat-foote ml-0 mr-0 w-70   position-fixed bottom-0 bg-light \" >\n                    \n{ lockedmeUsers.some(id => id === selectedreceiver) ? <div style={{background: \"black\", color: \"white\", position:\"fixed\" , bottom: \"0\"}}>  you are seeing this because this user blocked you! </div> :  \n                       <Form className='bg-light' onSubmit={(event) => sendMessage(event)}>         \n                               <Form.Group >\n                 {  activate &&\n                    <div id=\"containered\" className=\"text-muted d-flex justify-content-start align-items-center pe-3 pt-3 mt-2   w-100 \" >\n                  <div className=\"inheri\" style={{backgroundColor:\"white\",\n     width:\"76vw\", overflowY:\"scroll\", position:\" absolute\", bottom:\"0\", left:\"0\",right:\"0\", maxHeight:\"150px\", display:\"flex\"}}>\n          <img\n                      src={mypic}\n                      alt={user.uid}\n                      style={{ width: \"40px\", height: \"100%\" }}\n                    />\n\n\n\n          <div\n      className=\"input-box b-dark h-100 fom-control fom-control-lg mb-2 h-auto\"\n  ref={contentEditableRef}\n  contentEditable={true}\n  onInput={handleChange}\n  dangerouslySetInnerHTML={{ __html:  generateMarkup() } }\n  spellCheck={true}\n  style={{\n    height: 'fit-content',\n   // minHeight: \"50px\",\n    marginLeft: 'auto',\n   minHeight: \"fit-content\",\n    background:\"white\",\n    marginRight: 'auto',\n    overflow: 'scroll',\n    width:  \"100%\",\n    border: \"1px solid grey\",\n    padding:\"20px 10px\",\n    color: \"black\",\n     border: \"1px solid #ccc\", \n    borderRadius:\"5px\",\n     padding: \"10px 20px\",\n\n  }}\n  placeholder={\"Text here ...\"}\n  onFocus={handleFocus}\n  onBlur={handleBlur} \n/>\n\n        \n           \n<div style={{display:\"flex\", justifyContent:\"space-evenly\", background:\"white\", alignItems:\"center\"}}>\n\n\n<input\n  type=\"file\"\n  accept=\"image/*\"\n  onChange={handleImageUpload}\n  //onKeyDown = {ha}\n  ref={fileInputRef}\n  style={{ display: 'none' }} // hide the input element initially\n  />\n\n <label className='positions' htmlFor=\"file-input\" onClick={() => fileInputRef.current.click()}>\n  <FontAwesomeIcon\n    style={{ fontSize:\"1.3rem\", marginLeft:\"10px\", cursor: \"pointer\",color:\"black\"}}\n    icon={faImages}\n  />\n</label>\n\n \n<Button  onClick={handleButtonClick} type=\"button\" className='hideit ms-0 p-1 ml-3 text-mute'\n  \n  style={{ background:\"transparent\", border:\"none\"}} >  \n \n  <FontAwesomeIcon  style={{ fontSize:\"1.3rem\",  color:\"#ffcb4d\", cursor:\"pointer\"}} icon={faSmile} />\n</Button>\n\n{  showPicker && (    \n<div ref={pickerRef}> \n  \n  <Picker \n     data={data}\n       onEmojiSelect={handleEmojiSelect}\n      style={{position: \"absolute\",bottom: \"100%\",right: \"0\"}} />\n\n</div>)\n}\n\n \n                    <button onClick={submits}  style={{fontSize:\"1.3rem\", cursor:\"pointer\", background:\"none\", border:\"none\", hover: \"green\", marginLeft:\"10px\", marginRight:\"10px\"}}  className=\"hovered ms-3 text-muted\" >\n                      <FontAwesomeIcon  icon={faPaperPlane} style={{ cursor:\"pointer\", color: \"yellowgreen\"}} type=\"submit\"  />\n                    </button>\n               </div>\n \n                    </div>         \n\n                 \n                  </div>\n      }\n          </Form.Group>\n                    </Form>  \n                    \n                   }\n                 \n                      </div>\n\n\n\n                </div>\n\n\n\n\n             \n\n               \n            </div>\n\n          \n\n\n</div>\n        </div>          \n        \n  </div>\n</div>\n\n</div>\n </>\n\n\n  )\n\n\n\n}\n\n\n\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar fast_deep_equal_1 = __importDefault(require(\"fast-deep-equal\"));\nvar PropTypes = __importStar(require(\"prop-types\"));\nfunction normalizeHtml(str) {\n    return str && str.replace(/&nbsp;|\\u202F|\\u00A0/g, ' ').replace(/<br \\/>/g, '<br>');\n}\nfunction replaceCaret(el) {\n    // Place the caret at the end of the element\n    var target = document.createTextNode('');\n    el.appendChild(target);\n    // do not move caret if element was not focused\n    var isTargetFocused = document.activeElement === el;\n    if (target !== null && target.nodeValue !== null && isTargetFocused) {\n        var sel = window.getSelection();\n        if (sel !== null) {\n            var range = document.createRange();\n            range.setStart(target, target.nodeValue.length);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        if (el instanceof HTMLElement)\n            el.focus();\n    }\n}\n/**\n * A simple component for an html element with editable contents.\n */\nvar ContentEditable = /** @class */ (function (_super) {\n    __extends(ContentEditable, _super);\n    function ContentEditable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastHtml = _this.props.html;\n        _this.el = typeof _this.props.innerRef === 'function' ? { current: null } : React.createRef();\n        _this.getEl = function () { return (_this.props.innerRef && typeof _this.props.innerRef !== 'function' ? _this.props.innerRef : _this.el).current; };\n        _this.emitChange = function (originalEvt) {\n            var el = _this.getEl();\n            if (!el)\n                return;\n            var html = el.innerHTML;\n            if (_this.props.onChange && html !== _this.lastHtml) {\n                // Clone event with Object.assign to avoid\n                // \"Cannot assign to read only property 'target' of object\"\n                var evt = Object.assign({}, originalEvt, {\n                    target: {\n                        value: html\n                    }\n                });\n                _this.props.onChange(evt);\n            }\n            _this.lastHtml = html;\n        };\n        return _this;\n    }\n    ContentEditable.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, tagName = _a.tagName, html = _a.html, innerRef = _a.innerRef, props = __rest(_a, [\"tagName\", \"html\", \"innerRef\"]);\n        return React.createElement(tagName || 'div', __assign(__assign({}, props), { ref: typeof innerRef === 'function' ? function (current) {\n                innerRef(current);\n                _this.el.current = current;\n            } : innerRef || this.el, onInput: this.emitChange, onBlur: this.props.onBlur || this.emitChange, onKeyUp: this.props.onKeyUp || this.emitChange, onKeyDown: this.props.onKeyDown || this.emitChange, contentEditable: !this.props.disabled, dangerouslySetInnerHTML: { __html: html } }), this.props.children);\n    };\n    ContentEditable.prototype.shouldComponentUpdate = function (nextProps) {\n        var props = this.props;\n        var el = this.getEl();\n        // We need not rerender if the change of props simply reflects the user's edits.\n        // Rerendering in this case would make the cursor/caret jump\n        // Rerender if there is no element yet... (somehow?)\n        if (!el)\n            return true;\n        // ...or if html really changed... (programmatically, not by user edit)\n        if (normalizeHtml(nextProps.html) !== normalizeHtml(el.innerHTML)) {\n            return true;\n        }\n        // Handle additional properties\n        return props.disabled !== nextProps.disabled ||\n            props.tagName !== nextProps.tagName ||\n            props.className !== nextProps.className ||\n            props.innerRef !== nextProps.innerRef ||\n            props.placeholder !== nextProps.placeholder ||\n            !(0, fast_deep_equal_1.default)(props.style, nextProps.style);\n    };\n    ContentEditable.prototype.componentDidUpdate = function () {\n        var el = this.getEl();\n        if (!el)\n            return;\n        // Perhaps React (whose VDOM gets outdated because we often prevent\n        // rerendering) did not update the DOM. So we update it manually now.\n        if (this.props.html !== el.innerHTML) {\n            el.innerHTML = this.props.html;\n        }\n        this.lastHtml = this.props.html;\n        replaceCaret(el);\n    };\n    ContentEditable.propTypes = {\n        html: PropTypes.string.isRequired,\n        onChange: PropTypes.func,\n        disabled: PropTypes.bool,\n        tagName: PropTypes.string,\n        className: PropTypes.string,\n        style: PropTypes.object,\n        innerRef: PropTypes.oneOfType([\n            PropTypes.object,\n            PropTypes.func,\n        ])\n    };\n    return ContentEditable;\n}(React.Component));\nexports.default = ContentEditable;\n","var h = Object.defineProperty;\nvar u = (n, t, e) => t in n ? h(n, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : n[t] = e;\nvar c = (n, t, e) => (u(n, typeof t != \"symbol\" ? t + \"\" : t, e), e);\nimport f, { Component as m, createElement as v, Children as b } from \"react\";\nconst p = (n, t) => typeof getComputedStyle < \"u\" ? getComputedStyle(n, null).getPropertyValue(t) : n.style.getPropertyValue(t), y = (n) => p(n, \"overflow\") + p(n, \"overflow-y\") + p(n, \"overflow-x\"), w = (n) => {\n  if (!(n instanceof HTMLElement))\n    return window;\n  let t = n;\n  for (; t && !(t === document.body || t === document.documentElement || !t.parentNode); ) {\n    if (/(scroll|auto)/.test(y(t)))\n      return t;\n    t = t.parentNode;\n  }\n  return window;\n};\nclass g extends m {\n  constructor(e) {\n    super(e);\n    c(this, \"elementObserver\");\n    c(this, \"wrapper\");\n    c(this, \"lazyLoadHandler\", (e) => {\n      var o, i;\n      const {\n        onContentVisible: s\n      } = this.props, [r] = e, {\n        isIntersecting: l\n      } = r;\n      if (l) {\n        this.setState({\n          visible: !0\n        }, () => {\n          s && s();\n        });\n        const a = (o = this.wrapper) == null ? void 0 : o.current;\n        a && a instanceof HTMLElement && ((i = this.elementObserver) == null || i.unobserve(a));\n      }\n    });\n    this.elementObserver = null, this.wrapper = f.createRef(), this.state = {\n      visible: !1\n    };\n  }\n  componentDidMount() {\n    var o;\n    this.getEventNode();\n    const {\n      offset: e,\n      threshold: s\n    } = this.props, r = {\n      rootMargin: typeof e == \"number\" ? `${e}px` : e || \"0px\",\n      threshold: s || 0\n    };\n    this.elementObserver = new IntersectionObserver(this.lazyLoadHandler, r);\n    const l = (o = this.wrapper) == null ? void 0 : o.current;\n    l instanceof HTMLElement && this.elementObserver.observe(l);\n  }\n  shouldComponentUpdate(e, s) {\n    return s.visible;\n  }\n  componentWillUnmount() {\n    var s, r;\n    const e = (s = this.wrapper) == null ? void 0 : s.current;\n    e && e instanceof HTMLElement && ((r = this.elementObserver) == null || r.unobserve(e));\n  }\n  getEventNode() {\n    var e;\n    return w((e = this.wrapper) == null ? void 0 : e.current);\n  }\n  render() {\n    const {\n      children: e,\n      className: s,\n      height: r,\n      width: l,\n      elementType: o\n    } = this.props, {\n      visible: i\n    } = this.state, a = {\n      height: r,\n      width: l\n    }, d = `LazyLoad${i ? \" is-visible\" : \"\"}${s ? ` ${s}` : \"\"}`;\n    return v(o || \"div\", {\n      className: d,\n      style: a,\n      ref: this.wrapper\n    }, i && b.only(e));\n  }\n}\nc(g, \"defaultProps\", {\n  elementType: \"div\",\n  className: \"\",\n  offset: 0,\n  threshold: 0,\n  width: null,\n  onContentVisible: null,\n  height: null\n});\nexport {\n  g as default\n};\n"],"names":["module","exports","equal","a","b","constructor","length","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","key","MessageA","props","zoom","setzoom","useState","ifZomed","position","top","left","right","bottom","zIndex","backgroundColor","newMessage","message","setFullSizeImage","fullSizeImage","handleImageClick","event","clickedEl","target","tagName","src","useEffect","document","querySelectorAll","forEach","image","addEventListener","removeEventListener","resizedHtml","htmlString","generateMarkup","words","split","elements","word","index","startsWith","element","url","fileExtension","pop","toLowerCase","youtubeRegex","match","handleImageOrVideo","React","href","rel","push","join","matches","modifiedHtmlString","widthRegex","heightRegex","srcRegex","widthMatch","heightMatch","srcMatch","width","parseInt","undefined","height","newTag","Math","floor","replace","resizeImage","parsedHtml","ReactHtmlParser","decodeEntities","className","Link","to","alt","mypic","im","myuser","hasRead","FontAwesomeIcon","style","marginRight","icon","faClockFour","time","msTextOverflow","whiteSpace","maxWidth","wordBreak","overflowWrap","display","flexDirection","MessageB","personid","named","pic","id","overflow","onClick","SkeletonBase","extend","defaultProps","__TYPE","shape","size","borderRadius","animation","Skeleton","inProps","ref","context","getProps","ptm","setMetaData","elementRef","getElement","current","rootProps","getOtherProps","displayName","firebaseConfig019","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","MessageDrawer","user","useAuth","firebase","initializeApp","app019","app","SetupidA","SetsetupDp","SetupidB","BlockedMe","searchval","setSearchId","setBlockedMe","Muted","setMuted","setlockedmeUsers","db","database","otherUserIds","idA","filteredChats","didblockme","onValue","snapshot","childSnapshot","chatValues","val","chatId","hasOtherUserId","some","includes","uid","filteredEmails","map","obj","username","blockedME","blockedMe","Mute","console","log","filteredDp","profileImg","chatIdWithUserUid","find","chatValue","setmyuser","values","setmypic","on","off","showed","setShowed","BlockUser","async","userI","userId","remove","set","alert","showmuted","setshowmuted","setup","setupidA","borderLeftColor","Ref","marginTop","setupDp","fontSize","fontWeight","fontFamily","textShadow","color","text","e","stopPropagation","pre","background","border","float","faEllipsis","faCalendarDay","faUserClock","justifyContent","marginLeft","padding","tooltip","faBan","mu","newMutedUsers","filter","mutedUserId","UnmuteUser","faVolumeHigh","faFlag","MuteUser","faVolumeMute","Users","setCreatemesage","users","setUsers","selectedUser","uids","setuids","selectedAcc","setSelectedAcc","filteredUsers","setFilteredUsers","app0999","debouncedHandleChange","_debounce","_filteredUsers","query","trim","useri","_toConsumableArray","rest","setId","setShowTextArea","orderByChild","equalTo","once","then","exists","userData","AutoComplete","field","value","suggestions","placeholder","borderTopRightRadius","borderBottomRightRadius","completeMethod","onChange","itemTemplate","borderTopLeftRadius","borderBottomLeftRadius","paddingTop","paddingBottom","faSearch","faTimes","cursor","type","_excluded","useNavItem","active","role","disabled","parentOnSelect","useContext","SelectableContext","navContext","NavContext","tabContext","isActive","contextControllerId","getControllerId","contextControlledId","getControlledId","activeKey","unmountOnExit","mountOnEnter","tabIndex","useEventCallback","isPropagationStopped","NavItem","_ref","as","Component","Button","eventKey","options","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","meta","assign","noop","EVENT_KEY_ATTR","Nav","onSelect","onKeyDown","forceUpdate","useForceUpdate","needsRefocusRef","useRef","listNode","getNextActiveTab","offset","currentListNode","items","activeChild","querySelector","activeElement","nextIndex","handleSelect","focus","mergedRef","useMergedRefs","Provider","children","nextActiveChild","preventDefault","dataset","Item","ListGroupItem","bsPrefix","variant","action","navItemProps","handleClick","ListGroup","initialBsPrefix","horizontal","numbered","controlledProps","horizontalVariant","_extends","bind","arguments","apply","this","InputTextareaBase","autoResize","keyfilter","onBlur","onFocus","onBeforeInput","onInput","onKeyUp","onPaste","tooltipOptions","validateOnly","InputTextarea","cachedScrollHeight","resize","initial","inputEl","isVisible","scrollHeight","parseFloat","maxHeight","overflowY","combinedRefs","isFilled","isNotEmpty","defaultValue","hasTooltip","onKeyPress","isEmpty","addClass","removeClass","content","pt","firebaseConfig015","measurementId","Messages","ifdark","setdark","loading","nano","nanoid","app015","lockedmeUsers","messages","setMessages","setNewMessage","conversations","setConversations","setSelectedUser","inputRef","idis","setIds","chatId11","chatId22","selectedSender","setSelectedSender","selectedreceiver","setSelectedreceiver","chatId1","setchatId1","chatId2","setchatId2","Imaged","setImaged","fileInputRef","previews","setPreviews","handleImageUpload","file","files","reader","FileReader","readAsDataURL","onloadend","base64String","result","prev","showPicker","setShowPicker","pickerRef","handleClickOutside","contains","handleButtonClick","handleImageOrVideos","inputVal","setInputValue","inputValue","innerHTML","handleChange","handleEmojiSelect","emo","contentEditableRef","native","formatDate","date","timeDiffMs","Date","timeDiffSec","timeDiffMin","timeDiffHr","timeDiffDay","timeDiffMo","setpic","setnamed","chat","setSetupidA","setupidB","setSetupidB","activate","setActivate","showBox","setShowBox","setTimeout","window","location","debouncedHandleUser","sender","receiver","name","isread","handleUserClick","handleChatBoxClick","handleRead","chatRef","read","child","update","chatRef2","setSetup","filtered","setSetupfilter","ids","setids","showUploa","SetshowUploa","newMessages","setNewMessages","sethasRead","sort","aTime","slice","reverse","timestamp","conversation","dp","_conversations$userId","_conversations$userId2","_conversations$userId3","l","vals","chatBoxRef","scrollToRecentMessage","getElementsByClassName","scrollIntoView","behavior","isFocused","setIsFocused","setContent","handleFocus","handleBlur","createmessage","setSearchVal","searchId","showtextArea","zoomLevel","setZoomLevel","showBin","setshowBin","initialState","textid","buttonState","setButtonState","Navbar","setLight","marginBottom","margin","alignItems","zoomIn","faMagnifyingGlassPlus","zoomOut","faMagnifyingGlassMinus","textAlign","justifySelf","zoomSrc","preview","borderBottomColor","renderUsers","borderRight","borderColor","_conversations$userId4","onTouchEnd","_conversations$userId5","setupid","idB","_conversations$userId6","_conversations$userId7","faEnvelopeOpenText","required","faLink","faPaperPlane","faChevronLeft","fontStyle","fontSmooth","prevState","handleDelete","messageId","removeSnapshot","faTrash","severity","outlined","Form","onSubmit","getTime","Group","contentEditable","dangerouslySetInnerHTML","__html","spellCheck","minHeight","accept","htmlFor","click","faImages","faSmile","Picker","data","onEmojiSelect","hover","sendMessage","submits","extendStatics","__extends","d","setPrototypeOf","__proto__","p","TypeError","String","__","create","__assign","t","s","n","__createBinding","o","m","k","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","__importStar","mod","__rest","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","fast_deep_equal_1","PropTypes","normalizeHtml","str","ContentEditable","_super","_this","lastHtml","html","el","innerRef","createRef","getEl","emitChange","originalEvt","evt","render","_a","createElement","shouldComponentUpdate","nextProps","default","componentDidUpdate","createTextNode","appendChild","isTargetFocused","nodeValue","sel","getSelection","range","createRange","setStart","collapse","removeAllRanges","addRange","HTMLElement","replaceCaret","propTypes","string","isRequired","func","bool","object","oneOfType","h","c","u","getComputedStyle","getPropertyValue","y","g","super","onContentVisible","r","isIntersecting","setState","visible","wrapper","elementObserver","unobserve","state","componentDidMount","getEventNode","threshold","rootMargin","IntersectionObserver","lazyLoadHandler","observe","componentWillUnmount","body","documentElement","parentNode","test","w","elementType","only"],"sourceRoot":""}