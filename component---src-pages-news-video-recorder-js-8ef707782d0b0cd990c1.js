"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[5691],{6109:function(e,t,a){a.r(t);var n=a(5785),r=a(7294);t.default=()=>{const e="video/webm",{0:t,1:a}=(0,r.useState)(!1),c=(0,r.useRef)(null),l=(0,r.useRef)(null),{0:o,1:i}=(0,r.useState)("inactive"),{0:s,1:u}=(0,r.useState)(null),{0:d,1:m}=(0,r.useState)([]),{0:v,1:b}=(0,r.useState)(null);return r.createElement("div",null,r.createElement("h2",null,"Audio Recorder"),r.createElement("main",null,r.createElement("div",{className:"video-controls"},t?null:r.createElement("button",{onClick:async()=>{if(b(null),"MediaRecorder"in window)try{const e={audio:!1,video:!0},t={audio:!0},r=await navigator.mediaDevices.getUserMedia(t),c=await navigator.mediaDevices.getUserMedia(e);a(!0);const o=new MediaStream([].concat((0,n.Z)(c.getVideoTracks()),(0,n.Z)(r.getAudioTracks())));u(o),l.current.srcObject=o}catch(e){alert(e.message)}else alert("The MediaRecorder API is not supported in your browser.")},type:"button"},"Get video"),t&&"inactive"===o?r.createElement("button",{onClick:async()=>{i("recording");const t=new MediaRecorder(s,{mimeType:e});c.current=t,c.current.start();let a=[];c.current.ondataavailable=e=>{void 0!==e.data&&0!==e.data.size&&a.push(e.data)},m(a)},type:"button"},"Start Recording"):null,"recording"===o?r.createElement("button",{onClick:()=>{a(!1),i("inactive"),c.current.stop(),c.current.onstop=()=>{const t=new Blob(d,{type:e}),a=URL.createObjectURL(t);b(a),m([])}},type:"button"},"Stop Recording"):null),t&&l?r.createElement("div",{className:"video-player"},r.createElement("video",{src:l})):null,!t&&v?r.createElement("div",{className:"video-player"},r.createElement("video",{src:v}),r.createElement("a",{download:!0,href:v},"Download Recording")):null))}}}]);
//# sourceMappingURL=component---src-pages-news-video-recorder-js-8ef707782d0b0cd990c1.js.map