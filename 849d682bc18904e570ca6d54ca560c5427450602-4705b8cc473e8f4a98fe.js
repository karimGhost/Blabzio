/*! For license information please see 849d682bc18904e570ca6d54ca560c5427450602-4705b8cc473e8f4a98fe.js.LICENSE.txt */
"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[5058],{9319:function(e,t,n){var a=n(8180),r=n(8463),s=n(5276),l=n(4444),i=n(3333);const o=new i.Yd("@firebase/database-compat"),h=function(e){const t="FIREBASE WARNING: "+e;o.warn(t)};class c{constructor(e){this._delegate=e}cancel(e){(0,l.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,l.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){(0,l.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,l.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){(0,l.Dv)("OnDisconnect.set",1,2,arguments.length),(0,l.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,l.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,l.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const a=this._delegate.setWithPriority(e,t);return n&&a.then((()=>n(null)),(e=>n(e))),a}update(e,t){if((0,l.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,h("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,l.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class d{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,l.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class u{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,l.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,l.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,l.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,l.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,l.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),(0,s.FQ)("DataSnapshot.child","path",e,!1),new u(this._database,this._delegate.child(e))}hasChild(e){return(0,l.Dv)("DataSnapshot.hasChild",1,1,arguments.length),(0,s.FQ)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,l.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,l.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,l.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new u(this._database,t))))}hasChildren(){return(0,l.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,l.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,l.Dv)("DataSnapshot.ref",0,0,arguments.length),new _(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class g{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,a){var r;(0,l.Dv)("Query.on",2,4,arguments.length),(0,l.Wj)("Query.on","callback",t,!1);const i=g.getCancelAndContextArgs_("Query.on",n,a),o=(e,n)=>{t.call(i.context,new u(this.database,e),n)};o.userCallback=t,o.context=i.context;const h=null===(r=i.cancel)||void 0===r?void 0:r.bind(i.context);switch(e){case"value":return(0,s.jM)(this._delegate,o,h),t;case"child_added":return(0,s.yv)(this._delegate,o,h),t;case"child_removed":return(0,s.MQ)(this._delegate,o,h),t;case"child_changed":return(0,s.Jr)(this._delegate,o,h),t;case"child_moved":return(0,s.Vt)(this._delegate,o,h),t;default:throw new Error((0,l.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,l.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,l.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),(0,l.Wj)("Query.off","callback",t,!0),(0,l.lb)("Query.off","context",n,!0),t){const a=()=>{};a.userCallback=t,a.context=n,(0,s.S1)(this._delegate,e,a)}else(0,s.S1)(this._delegate,e)}get(){return(0,s.U2)(this._delegate).then((e=>new u(this.database,e)))}once(e,t,n,a){(0,l.Dv)("Query.once",1,4,arguments.length),(0,l.Wj)("Query.once","callback",t,!0);const r=g.getCancelAndContextArgs_("Query.once",n,a),i=new l.BH,o=(e,n)=>{const a=new u(this.database,e);t&&t.call(r.context,a,n),i.resolve(a)};o.userCallback=t,o.context=r.context;const h=e=>{r.cancel&&r.cancel.call(r.context,e),i.reject(e)};switch(e){case"value":(0,s.jM)(this._delegate,o,h,{onlyOnce:!0});break;case"child_added":(0,s.yv)(this._delegate,o,h,{onlyOnce:!0});break;case"child_removed":(0,s.MQ)(this._delegate,o,h,{onlyOnce:!0});break;case"child_changed":(0,s.Jr)(this._delegate,o,h,{onlyOnce:!0});break;case"child_moved":(0,s.Vt)(this._delegate,o,h,{onlyOnce:!0});break;default:throw new Error((0,l.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return i.promise}limitToFirst(e){return(0,l.Dv)("Query.limitToFirst",1,1,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.Kk)(e)))}limitToLast(e){return(0,l.Dv)("Query.limitToLast",1,1,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.vh)(e)))}orderByChild(e){return(0,l.Dv)("Query.orderByChild",1,1,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.g2)(e)))}orderByKey(){return(0,l.Dv)("Query.orderByKey",0,0,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.R)()))}orderByPriority(){return(0,l.Dv)("Query.orderByPriority",0,0,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.HE)()))}orderByValue(){return(0,l.Dv)("Query.orderByValue",0,0,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.Bd)()))}startAt(e=null,t){return(0,l.Dv)("Query.startAt",0,2,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.e0)(e,t)))}startAfter(e=null,t){return(0,l.Dv)("Query.startAfter",0,2,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.TQ)(e,t)))}endAt(e=null,t){return(0,l.Dv)("Query.endAt",0,2,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.Wu)(e,t)))}endBefore(e=null,t){return(0,l.Dv)("Query.endBefore",0,2,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.Lx)(e,t)))}equalTo(e,t){return(0,l.Dv)("Query.equalTo",1,2,arguments.length),new g(this.database,(0,s.IO)(this._delegate,(0,s.EW)(e,t)))}toString(){return(0,l.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,l.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,l.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof g)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const a={cancel:void 0,context:void 0};if(t&&n)a.cancel=t,(0,l.Wj)(e,"cancel",a.cancel,!0),a.context=n,(0,l.lb)(e,"context",a.context,!0);else if(t)if("object"==typeof t&&null!==t)a.context=t;else{if("function"!=typeof t)throw new Error((0,l.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=t}return a}get ref(){return new _(this.database,new s.tn(this._delegate._repo,this._delegate._path))}}class _ extends g{constructor(e,t){super(e,new s.JH(t._repo,t._path,new s.G$,!1)),this.database=e,this._delegate=t}getKey(){return(0,l.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,l.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new _(this.database,(0,s.iU)(this._delegate,e))}getParent(){(0,l.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new _(this.database,e):null}getRoot(){return(0,l.Dv)("Reference.root",0,0,arguments.length),new _(this.database,this._delegate.root)}set(e,t){(0,l.Dv)("Reference.set",1,2,arguments.length),(0,l.Wj)("Reference.set","onComplete",t,!0);const n=(0,s.t8)(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if((0,l.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,h("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,s.mI)("Reference.update",this._delegate._path),(0,l.Wj)("Reference.update","onComplete",t,!0);const n=(0,s.Vx)(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,l.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,l.Wj)("Reference.setWithPriority","onComplete",n,!0);const a=(0,s.cy)(this._delegate,e,t);return n&&a.then((()=>n(null)),(e=>n(e))),a}remove(e){(0,l.Dv)("Reference.remove",0,1,arguments.length),(0,l.Wj)("Reference.remove","onComplete",e,!0);const t=(0,s.Od)(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){(0,l.Dv)("Reference.transaction",1,3,arguments.length),(0,l.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,l.Wj)("Reference.transaction","onComplete",t,!0),function(e,t,n,a){if((!a||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,l.gK)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const a=(0,s.i3)(this._delegate,e,{applyLocally:n}).then((e=>new d(e.committed,new u(this.database,e.snapshot))));return t&&a.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),a}setPriority(e,t){(0,l.Dv)("Reference.setPriority",1,2,arguments.length),(0,l.Wj)("Reference.setPriority","onComplete",t,!0);const n=(0,s.Sl)(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){(0,l.Dv)("Reference.push",0,2,arguments.length),(0,l.Wj)("Reference.push","onComplete",t,!0);const n=(0,s.VF)(this._delegate,e),a=n.then((e=>new _(this.database,e)));t&&a.then((()=>t(null)),(e=>t(e)));const r=new _(this.database,n);return r.then=a.then.bind(a),r.catch=a.catch.bind(a,void 0),r}onDisconnect(){return(0,s.mI)("Reference.onDisconnect",this._delegate._path),new c(new s.vA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class v{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:s.TD,forceLongPolling:s.Ot}}useEmulator(e,t,n={}){(0,s.dH)(this._delegate,e,t,n)}ref(e){if((0,l.Dv)("database.ref",0,1,arguments.length),e instanceof _){const t=(0,s.qT)(this._delegate,e.toString());return new _(this,t)}{const t=(0,s.iH)(this._delegate,e);return new _(this,t)}}refFromURL(e){(0,l.Dv)("database.refFromURL",1,1,arguments.length);const t=(0,s.qT)(this._delegate,e);return new _(this,t)}goOffline(){return(0,l.Dv)("database.goOffline",0,0,arguments.length),(0,s.Sb)(this._delegate)}goOnline(){return(0,l.Dv)("database.goOnline",0,0,arguments.length),(0,s.$o)(this._delegate)}}v.ServerValue={TIMESTAMP:(0,s.Bt)(),increment:e=>(0,s.nP)(e)};var p=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:a,namespace:l,nodeAdmin:i=!1}){(0,s.AM)(n);const o=new r.zt("auth-internal",new r.H0("database-standalone"));return o.setComponent(new r.wA("auth-internal",(()=>a),"PRIVATE")),{instance:new v((0,s.wj)(e,o,void 0,t,i),e),namespace:l}}});const f=v.ServerValue;var y;(y=a.Z).INTERNAL.registerComponent(new r.wA("database-compat",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),a=e.getProvider("database").getImmediate({identifier:t});return new v(a,n)}),"PUBLIC").setServiceProps({Reference:_,Query:g,Database:v,DataSnapshot:u,enableLogging:s.U7,INTERNAL:p,ServerValue:f}).setMultipleInstances(!0)),y.registerVersion("@firebase/database-compat","0.3.4")}}]);
//# sourceMappingURL=849d682bc18904e570ca6d54ca560c5427450602-4705b8cc473e8f4a98fe.js.map