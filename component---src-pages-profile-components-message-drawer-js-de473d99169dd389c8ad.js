"use strict";(self.webpackChunkblabzio=self.webpackChunkblabzio||[]).push([[8175],{7300:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var s=a(7294),o=a(4866),n=a(4405),l=(a(6118),a(1019),a(3869)),r=a(4854),i=(a(6953),a(982)),c=(a(5935),a(9417)),m=a(3643),p=a(3652).V.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null,children:void 0}}),d=s.memo(s.forwardRef((function(e,t){var a=p.getProps(e),o=p.setMetaData({props:a}).ptm,n=s.useRef(null),l=a.size?{width:a.size,height:a.size,borderRadius:a.borderRadius}:{width:a.width,height:a.height,borderRadius:a.borderRadius},r=(0,m.AK)("p-skeleton p-component",{"p-skeleton-circle":"circle"===a.shape,"p-skeleton-none":"none"===a.animation},a.className);s.useImperativeHandle(t,(function(){return{props:a,getElement:function(){return n.current}}}));var i=(0,m.dG)({ref:n,className:r,style:l},p.getOtherProps(a),o("root"));return s.createElement("div",i)})));d.displayName="Skeleton";const u={apiKey:"AIzaSyAM5p7O6YuAvCxfDCbR48Duz019qkoVp0Y",authDomain:"itsmynodezena.firebaseapp.com",databaseURL:"https://itsmynodezena-default-rtdb.firebaseio.com",projectId:"itsmynodezena",storageBucket:"itsmynodezena.appspot.com",messagingSenderId:"299392955521",appId:"1:299392955521:web:ef5671ad2702d441304980"};function f(e){const{user:t}=(0,n.a)();o.Z.initializeApp(u,"app019");const a=o.Z.app("app019"),m=e.SetupidA,p=(e.SetupidB,e.SetsetupDp),f=(e.searchval,e.setSearchId,e.BlockedMe),g=e.setBlockedMe,{0:b,1:y}=(0,s.useState)(""),h=e.setlockedmeUsers;(0,s.useEffect)((()=>{if(!t)return;const s=a.database().ref("profile"),o=Array.isArray(e.idA)?e.idA:[e.idA],n=[],r=[],i=a=>{a.forEach((e=>{const a=e.val(),s=e.key,l=o.some((e=>s.includes(e)));s.includes(t.uid)&&r.push(a),l&&n.push(a)}));const s=n.map((e=>e.username)),i=n.map((e=>void 0!==e.blockedMe&&Object.keys(e.blockedMe)[0]&&e.username));i&&g(i);const c=n.map((e=>void 0!==e.Muted&&Object.keys(e.Muted)[0]&&e.username));y(c),console.log("i blocked these people",i),console.log("peps are",n);const d=n.map((e=>e.profileImg?e.profileImg:l.Z));m(s),p(d);const u=Object.keys(a.val()||{}).find((e=>e.includes((null==t?void 0:t.uid)||"")));if(u){const t=a.val()[u];e.setmyuser(Object.values(t.username||"You")),e.setmypic(Object.values(t.profileImg||{im:l.Z}))}h(r.map((e=>void 0!==e.blockedMe&&Object.keys(e.blockedMe)[0])))};return s.on("value",i),()=>{s.off("value",i)}}),[t,e.idA,e.setmyuser,m,p]);const{0:x,1:k}=(0,s.useState)(!1),E=async e=>{if(t){const s=e[0]===t.uid?e[1]:e[0];await a.database().ref("profile/"+t.uid+"/following/"+s).remove(),await a.database().ref("profile/"+s+"/following/"+t.uid).remove(),await a.database().ref("profile/"+s+"/followers/"+t.uid).remove(),await a.database().ref("profile/"+t.uid+"/followers/"+s).remove(),await a.database().ref("profile/"+s+"/blockedMe/"+t.uid).set(!0),alert("Blocked")}},R=(e.setshowmuted,e.showmuted);return t&&a.database().ref("profile")&&e.setup?R?s.createElement(s.Fragment,null,e.setup&&f&&f.includes(e.setup[e.setupidA])?"":e.setup&&b.includes(e.setup[e.setupidA])&&s.createElement("li",{style:{borderLeftColor:e.Ref&&e.Ref>0?"green":"black"},"data-toggle":"tab","data-target":"#inbox-message-1",className:"active"},e.Ref&&e.Ref>0?s.createElement("div",{className:"message-count bg-success"}," ",e.Ref&&e.Ref>0&&e.Ref," "):"",s.createElement("img",{style:{marginTop:"-65px"},alt:e.setup&&e.setup,className:"img-circle medium-image",src:e.setupDp&&e.setupDp[e.setupidA]}),s.createElement("div",{className:"vcentered info-combo"},s.createElement("h3",{className:"no-margin-bottom name"},s.createElement(r.Link,{style:{fontSize:"1rem",fontWeight:"bold",fontFamily:"monospace",textShadow:e.Ref&&e.Ref>0?"1px 1px 0.20px black":"1px 1px 0.10px Highlight",color:"black"},to:"profileComponents/Profiles/?id="+e.personid},e.setup&&e.setup[e.setupidA]," ")),s.createElement("h5",{style:{fontWeight:e.Ref&&e.Ref>0&&"bold",color:e.Ref&&e.Ref>0&&"black",textShadow:e.Ref&&e.Ref>0&&"1px 1px 0.25px Highlight"}},e.text),s.createElement("button",{onClick:e=>{e.stopPropagation(),k((e=>!e))},style:{background:"transparent",border:"none",color:"black",float:"right",zIndex:"100"}},s.createElement(i.G,{icon:c.S6C,style:{marginTop:"5px",float:"right"}}))),s.createElement("div",{className:"contacts-add mt-1"},s.createElement("span",{className:"message-time mt-1",style:{display:"flex"}},e.Ref&&e.Ref>0?s.createElement(i.G,{style:{marginTop:"5px"},icon:e.time.includes("days")?c.$nv:c.hnx}):"","   ",e.time," "),x&&s.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",marginLeft:"auto",marginRight:"auto",padding:"5px 20px",width:"100%"}},s.createElement("button",{onClick:t=>{t.stopPropagation(),E(e.idA)},style:{background:"transparent",border:"none",color:"tomato"},tooltip:"Block"}," ",s.createElement(i.G,{className:"mx-2",icon:c.gPx,style:{marginTop:"5px"}})),s.createElement("button",{onClick:s=>{s.stopPropagation(),(async(e,s)=>{if(t){await a.database().ref("profile/"+(e[0]===t.uid?e[1]:e[0])+"/Muted/"+t.uid).remove();const o=b.filter((e=>e!==s));y(o),alert("unmuted",{mu:s})}})(e.idA,e.setup&&e.setup[e.setupidA])},tooltip:"Mute",style:{background:"transparent",border:"none",color:"black"}},"    ",s.createElement(i.G,{className:"mx-2",icon:c.AQZ,style:{marginTop:"5px"}})," "),s.createElement("button",{style:{background:"transparent",border:"none",color:"red"},tooltip:"report"},"  ",s.createElement(i.G,{className:"mx-2",icon:c.RrC,style:{marginTop:"5px"}})," "))))):s.createElement(s.Fragment,null,e.setup&&f&&f.includes(e.setup[e.setupidA])||e.setup&&b.includes(e.setup[e.setupidA])?"":s.createElement("li",{style:{borderLeftColor:e.Ref&&e.Ref>0?"green":"black"},"data-toggle":"tab","data-target":"#inbox-message-1",className:"active"},e.Ref&&e.Ref>0?s.createElement("div",{className:"message-count bg-success"}," ",e.Ref&&e.Ref>0&&e.Ref," "):"",s.createElement("img",{style:{marginTop:"-65px"},alt:"no Dp!",className:"img-circle medium-image",src:e.setupDp&&e.setupDp[e.setupidA]?e.setupDp[e.setupidA]:l.Z}),s.createElement("div",{className:"vcentered info-combo"},s.createElement("h3",{className:"no-margin-bottom name"},e.setup&&e.setup[e.setupidA]?s.createElement(r.Link,{style:{fontSize:"1rem",fontWeight:"bold",fontFamily:"monospace",textShadow:e.Ref&&e.Ref>0?"1px 1px 0.20px black":"1px 1px 0.10px Highlight",color:"black"},to:"/profileComponents/Profiles/?id="+e.personid},e.setup&&e.setup[e.setupidA]," "):"Deleted user"),s.createElement("h5",{style:{fontWeight:e.Ref&&e.Ref>0&&"bold",color:e.Ref&&e.Ref>0&&"black",textShadow:e.Ref&&e.Ref>0&&"1px 1px 0.25px Highlight"}},e.text),s.createElement("button",{onClick:e=>{e.stopPropagation(),k((e=>!e))},style:{background:"transparent",border:"none",color:"black",float:"right",zIndex:"100"}},s.createElement(i.G,{icon:c.S6C,style:{marginTop:"5px",float:"right"}}))),s.createElement("div",{className:"contacts-add mt-1"},s.createElement("span",{className:"message-time mt-1",style:{display:"flex"}},e.Ref&&e.Ref>0?s.createElement(i.G,{style:{marginTop:"5px"},icon:e.time.includes("days")?c.$nv:c.hnx}):"","   ",e.time," "),x&&s.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",marginLeft:"auto",marginRight:"auto",padding:"5px 20px",width:"100%"}},s.createElement("button",{onClick:t=>{t.stopPropagation(),E(e.idA)},style:{background:"transparent",border:"none",color:"tomato"}}," ",s.createElement(i.G,{className:"mx-2",icon:c.gPx,style:{marginTop:"5px"}})),s.createElement("button",{onClick:s=>{s.stopPropagation(),(async e=>{t&&(await a.database().ref("profile/"+(e[0]===t.uid?e[1]:e[0])+"/Muted/"+t.uid).set(!0),alert("Muted"))})(e.idA)},style:{background:"transparent",border:"none",color:"black"}},"   ",s.createElement(i.G,{className:"mx-2",icon:c.YLJ,style:{marginTop:"5px"}})," "),s.createElement("button",{style:{background:"transparent",border:"none",color:"red"}},"  ",s.createElement(i.G,{className:"mx-2",icon:c.RrC,style:{marginTop:"5px"}})," "))))):s.createElement("div",{className:"flex mb-3"},s.createElement(d,{shape:"circle",size:"4rem",className:"mr-2"}),s.createElement("div",null,s.createElement(d,{width:"5rem",className:"mb-2"}),s.createElement(d,{width:"0rem",className:"mb-2"}),s.createElement(d,{width:"2rem",className:"mb-2 ",style:{float:" right"}}),s.createElement(d,{width:"1rem",className:"mb-2 ",style:{float:" right"}})))}},3869:function(e,t,a){t.Z=a.p+"static/proxy-d399bc692ed8a689928018ed3b8a9403.jpeg"}}]);
//# sourceMappingURL=component---src-pages-profile-components-message-drawer-js-de473d99169dd389c8ad.js.map